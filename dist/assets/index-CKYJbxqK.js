var gx=e=>{throw TypeError(e)};var zu=(e,t,n)=>t.has(e)||gx("Cannot "+n);var B=(e,t,n)=>(zu(e,t,"read from private field"),n?n.call(e):t.get(e)),qe=(e,t,n)=>t.has(e)?gx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Te=(e,t,n,s)=>(zu(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Ht=(e,t,n)=>(zu(e,t,"access private method"),n);var Gl=(e,t,n,s)=>({set _(a){Te(e,t,a,n)},get _(){return B(e,t,s)}});function w_(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function my(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hy={exports:{}},Ld={},py={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=Symbol.for("react.element"),j_=Symbol.for("react.portal"),b_=Symbol.for("react.fragment"),N_=Symbol.for("react.strict_mode"),__=Symbol.for("react.profiler"),S_=Symbol.for("react.provider"),C_=Symbol.for("react.context"),k_=Symbol.for("react.forward_ref"),E_=Symbol.for("react.suspense"),P_=Symbol.for("react.memo"),R_=Symbol.for("react.lazy"),vx=Symbol.iterator;function T_(e){return e===null||typeof e!="object"?null:(e=vx&&e[vx]||e["@@iterator"],typeof e=="function"?e:null)}var xy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gy=Object.assign,vy={};function io(e,t,n){this.props=e,this.context=t,this.refs=vy,this.updater=n||xy}io.prototype.isReactComponent={};io.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};io.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yy(){}yy.prototype=io.prototype;function ph(e,t,n){this.props=e,this.context=t,this.refs=vy,this.updater=n||xy}var xh=ph.prototype=new yy;xh.constructor=ph;gy(xh,io.prototype);xh.isPureReactComponent=!0;var yx=Array.isArray,wy=Object.prototype.hasOwnProperty,gh={current:null},jy={key:!0,ref:!0,__self:!0,__source:!0};function by(e,t,n){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)wy.call(t,s)&&!jy.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:El,type:e,key:i,ref:o,props:a,_owner:gh.current}}function M_(e,t){return{$$typeof:El,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vh(e){return typeof e=="object"&&e!==null&&e.$$typeof===El}function A_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wx=/\/+/g;function Uu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?A_(""+e.key):t.toString(36)}function Nc(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case El:case j_:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Uu(o,0):s,yx(a)?(n="",e!=null&&(n=e.replace(wx,"$&/")+"/"),Nc(a,t,n,"",function(d){return d})):a!=null&&(vh(a)&&(a=M_(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(wx,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",yx(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Uu(i,l);o+=Nc(i,t,n,c,a)}else if(c=T_(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Uu(i,l++),o+=Nc(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Kl(e,t,n){if(e==null)return e;var s=[],a=0;return Nc(e,s,"","",function(i){return t.call(n,i,a++)}),s}function O_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ln={current:null},_c={transition:null},D_={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:_c,ReactCurrentOwner:gh};function Ny(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Kl,forEach:function(e,t,n){Kl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Kl(e,function(){t++}),t},toArray:function(e){return Kl(e,function(t){return t})||[]},only:function(e){if(!vh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=io;Fe.Fragment=b_;Fe.Profiler=__;Fe.PureComponent=ph;Fe.StrictMode=N_;Fe.Suspense=E_;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D_;Fe.act=Ny;Fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=gy({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=gh.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)wy.call(t,c)&&!jy.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:El,type:e.type,key:a,ref:i,props:s,_owner:o}};Fe.createContext=function(e){return e={$$typeof:C_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:S_,_context:e},e.Consumer=e};Fe.createElement=by;Fe.createFactory=function(e){var t=by.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:k_,render:e}};Fe.isValidElement=vh;Fe.lazy=function(e){return{$$typeof:R_,_payload:{_status:-1,_result:e},_init:O_}};Fe.memo=function(e,t){return{$$typeof:P_,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=_c.transition;_c.transition={};try{e()}finally{_c.transition=t}};Fe.unstable_act=Ny;Fe.useCallback=function(e,t){return ln.current.useCallback(e,t)};Fe.useContext=function(e){return ln.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return ln.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return ln.current.useEffect(e,t)};Fe.useId=function(){return ln.current.useId()};Fe.useImperativeHandle=function(e,t,n){return ln.current.useImperativeHandle(e,t,n)};Fe.useInsertionEffect=function(e,t){return ln.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return ln.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return ln.current.useMemo(e,t)};Fe.useReducer=function(e,t,n){return ln.current.useReducer(e,t,n)};Fe.useRef=function(e){return ln.current.useRef(e)};Fe.useState=function(e){return ln.current.useState(e)};Fe.useSyncExternalStore=function(e,t,n){return ln.current.useSyncExternalStore(e,t,n)};Fe.useTransition=function(){return ln.current.useTransition()};Fe.version="18.3.1";py.exports=Fe;var u=py.exports;const te=my(u),yh=w_({__proto__:null,default:te},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_=u,I_=Symbol.for("react.element"),L_=Symbol.for("react.fragment"),$_=Object.prototype.hasOwnProperty,z_=F_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U_={key:!0,ref:!0,__self:!0,__source:!0};function _y(e,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)$_.call(t,s)&&!U_.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:I_,type:e,key:i,ref:o,props:a,_owner:z_.current}}Ld.Fragment=L_;Ld.jsx=_y;Ld.jsxs=_y;hy.exports=Ld;var r=hy.exports,Sy={exports:{}},$n={},Cy={exports:{}},ky={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,F){var D=R.length;R.push(F);e:for(;0<D;){var X=D-1>>>1,ne=R[X];if(0<a(ne,F))R[X]=F,R[D]=ne,D=X;else break e}}function n(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var F=R[0],D=R.pop();if(D!==F){R[0]=D;e:for(var X=0,ne=R.length,ve=ne>>>1;X<ve;){var z=2*(X+1)-1,ue=R[z],oe=z+1,W=R[oe];if(0>a(ue,D))oe<ne&&0>a(W,ue)?(R[X]=W,R[oe]=D,X=oe):(R[X]=ue,R[z]=D,X=z);else if(oe<ne&&0>a(W,D))R[X]=W,R[oe]=D,X=oe;else break e}}return F}function a(R,F){var D=R.sortIndex-F.sortIndex;return D!==0?D:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,p=3,h=!1,j=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var F=n(d);F!==null;){if(F.callback===null)s(d);else if(F.startTime<=R)s(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(d)}}function b(R){if(g=!1,w(R),!j)if(n(c)!==null)j=!0,U(N);else{var F=n(d);F!==null&&O(b,F.startTime-R)}}function N(R,F){j=!1,g&&(g=!1,v(k),k=-1),h=!0;var D=p;try{for(w(F),m=n(c);m!==null&&(!(m.expirationTime>F)||R&&!P());){var X=m.callback;if(typeof X=="function"){m.callback=null,p=m.priorityLevel;var ne=X(m.expirationTime<=F);F=e.unstable_now(),typeof ne=="function"?m.callback=ne:m===n(c)&&s(c),w(F)}else s(c);m=n(c)}if(m!==null)var ve=!0;else{var z=n(d);z!==null&&O(b,z.startTime-F),ve=!1}return ve}finally{m=null,p=D,h=!1}}var S=!1,C=null,k=-1,T=5,_=-1;function P(){return!(e.unstable_now()-_<T)}function A(){if(C!==null){var R=e.unstable_now();_=R;var F=!0;try{F=C(!0,R)}finally{F?$():(S=!1,C=null)}}else S=!1}var $;if(typeof y=="function")$=function(){y(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,K=M.port2;M.port1.onmessage=A,$=function(){K.postMessage(null)}}else $=function(){x(A,0)};function U(R){C=R,S||(S=!0,$())}function O(R,F){k=x(function(){R(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){j||h||(j=!0,U(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var D=p;p=F;try{return R()}finally{p=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var D=p;p=R;try{return F()}finally{p=D}},e.unstable_scheduleCallback=function(R,F,D){var X=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?X+D:X):D=X,R){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=D+ne,R={id:f++,callback:F,priorityLevel:R,startTime:D,expirationTime:ne,sortIndex:-1},D>X?(R.sortIndex=D,t(d,R),n(c)===null&&R===n(d)&&(g?(v(k),k=-1):g=!0,O(b,D-X))):(R.sortIndex=ne,t(c,R),j||h||(j=!0,U(N))),R},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(R){var F=p;return function(){var D=p;p=F;try{return R.apply(this,arguments)}finally{p=D}}}})(ky);Cy.exports=ky;var B_=Cy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_=u,On=B_;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ey=new Set,Xo={};function Xa(e,t){zi(e,t),zi(e+"Capture",t)}function zi(e,t){for(Xo[e]=t,e=0;e<t.length;e++)Ey.add(t[e])}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zf=Object.prototype.hasOwnProperty,V_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jx={},bx={};function H_(e){return zf.call(bx,e)?!0:zf.call(jx,e)?!1:V_.test(e)?bx[e]=!0:(jx[e]=!0,!1)}function Y_(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function q_(e,t,n,s){if(t===null||typeof t>"u"||Y_(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cn(e,t,n,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wt[e]=new cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wt[t]=new cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wt[e]=new cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wt[e]=new cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wt[e]=new cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wt[e]=new cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wt[e]=new cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wt[e]=new cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wt[e]=new cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var wh=/[\-:]([a-z])/g;function jh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wh,jh);Wt[t]=new cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wh,jh);Wt[t]=new cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wh,jh);Wt[t]=new cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wt[e]=new cn(e,1,!1,e.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wt[e]=new cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function bh(e,t,n,s){var a=Wt.hasOwnProperty(t)?Wt[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(q_(t,n,a,s)&&(n=null),s||a===null?H_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var ys=W_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ql=Symbol.for("react.element"),di=Symbol.for("react.portal"),ui=Symbol.for("react.fragment"),Nh=Symbol.for("react.strict_mode"),Uf=Symbol.for("react.profiler"),Py=Symbol.for("react.provider"),Ry=Symbol.for("react.context"),_h=Symbol.for("react.forward_ref"),Bf=Symbol.for("react.suspense"),Wf=Symbol.for("react.suspense_list"),Sh=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),Ty=Symbol.for("react.offscreen"),Nx=Symbol.iterator;function wo(e){return e===null||typeof e!="object"?null:(e=Nx&&e[Nx]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,Bu;function Ao(e){if(Bu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bu=t&&t[1]||""}return`
`+Bu+e}var Wu=!1;function Vu(e,t){if(!e||Wu)return"";Wu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Wu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ao(e):""}function G_(e){switch(e.tag){case 5:return Ao(e.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return e=Vu(e.type,!1),e;case 11:return e=Vu(e.type.render,!1),e;case 1:return e=Vu(e.type,!0),e;default:return""}}function Vf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ui:return"Fragment";case di:return"Portal";case Uf:return"Profiler";case Nh:return"StrictMode";case Bf:return"Suspense";case Wf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ry:return(e.displayName||"Context")+".Consumer";case Py:return(e._context.displayName||"Context")+".Provider";case _h:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sh:return t=e.displayName||null,t!==null?t:Vf(e.type)||"Memo";case ks:t=e._payload,e=e._init;try{return Vf(e(t))}catch{}}return null}function K_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vf(t);case 8:return t===Nh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Js(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function My(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Q_(e){var t=My(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zl(e){e._valueTracker||(e._valueTracker=Q_(e))}function Ay(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=My(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Vc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hf(e,t){var n=t.checked;return ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _x(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Js(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Oy(e,t){t=t.checked,t!=null&&bh(e,"checked",t,!1)}function Yf(e,t){Oy(e,t);var n=Js(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qf(e,t.type,n):t.hasOwnProperty("defaultValue")&&qf(e,t.type,Js(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qf(e,t,n){(t!=="number"||Vc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Oo=Array.isArray;function bi(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Js(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Gf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(Oo(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Js(n)}}function Dy(e,t){var n=Js(t.value),s=Js(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function kx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xl,Iy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xl=Xl||document.createElement("div"),Xl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z_=["Webkit","ms","Moz","O"];Object.keys(Uo).forEach(function(e){Z_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Uo[t]=Uo[e]})});function Ly(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Uo.hasOwnProperty(e)&&Uo[e]?(""+t).trim():t+"px"}function $y(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=Ly(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var X_=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qf(e,t){if(t){if(X_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function Zf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=null;function Ch(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jf=null,Ni=null,_i=null;function Ex(e){if(e=Tl(e)){if(typeof Jf!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=Wd(t),Jf(e.stateNode,e.type,t))}}function zy(e){Ni?_i?_i.push(e):_i=[e]:Ni=e}function Uy(){if(Ni){var e=Ni,t=_i;if(_i=Ni=null,Ex(e),t)for(e=0;e<t.length;e++)Ex(t[e])}}function By(e,t){return e(t)}function Wy(){}var Hu=!1;function Vy(e,t,n){if(Hu)return e(t,n);Hu=!0;try{return By(e,t,n)}finally{Hu=!1,(Ni!==null||_i!==null)&&(Wy(),Uy())}}function el(e,t){var n=e.stateNode;if(n===null)return null;var s=Wd(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var em=!1;if(cs)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){em=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{em=!1}function J_(e,t,n,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var Bo=!1,Hc=null,Yc=!1,tm=null,eS={onError:function(e){Bo=!0,Hc=e}};function tS(e,t,n,s,a,i,o,l,c){Bo=!1,Hc=null,J_.apply(eS,arguments)}function nS(e,t,n,s,a,i,o,l,c){if(tS.apply(this,arguments),Bo){if(Bo){var d=Hc;Bo=!1,Hc=null}else throw Error(Z(198));Yc||(Yc=!0,tm=d)}}function Ja(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Px(e){if(Ja(e)!==e)throw Error(Z(188))}function rS(e){var t=e.alternate;if(!t){if(t=Ja(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Px(a),e;if(i===s)return Px(a),t;i=i.sibling}throw Error(Z(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==s)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function Yy(e){return e=rS(e),e!==null?qy(e):null}function qy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qy(e);if(t!==null)return t;e=e.sibling}return null}var Gy=On.unstable_scheduleCallback,Rx=On.unstable_cancelCallback,sS=On.unstable_shouldYield,aS=On.unstable_requestPaint,yt=On.unstable_now,iS=On.unstable_getCurrentPriorityLevel,kh=On.unstable_ImmediatePriority,Ky=On.unstable_UserBlockingPriority,qc=On.unstable_NormalPriority,oS=On.unstable_LowPriority,Qy=On.unstable_IdlePriority,$d=null,Ur=null;function lS(e){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot($d,e,void 0,(e.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:uS,cS=Math.log,dS=Math.LN2;function uS(e){return e>>>=0,e===0?32:31-(cS(e)/dS|0)|0}var Jl=64,ec=4194304;function Do(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gc(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?s=Do(l):(i&=o,i!==0&&(s=Do(i)))}else o=n&~a,o!==0?s=Do(o):i!==0&&(s=Do(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-pr(t),a=1<<n,s|=e[n],t&=~a;return s}function fS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mS(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pr(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&s)&&(a[o]=fS(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function nm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zy(){var e=Jl;return Jl<<=1,!(Jl&4194240)&&(Jl=64),e}function Yu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pr(t),e[t]=n}function hS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-pr(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function Eh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-pr(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var et=0;function Xy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jy,Ph,e0,t0,n0,rm=!1,tc=[],Bs=null,Ws=null,Vs=null,tl=new Map,nl=new Map,Rs=[],pS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tx(e,t){switch(e){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":tl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(t.pointerId)}}function bo(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Tl(t),t!==null&&Ph(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function xS(e,t,n,s,a){switch(t){case"focusin":return Bs=bo(Bs,e,t,n,s,a),!0;case"dragenter":return Ws=bo(Ws,e,t,n,s,a),!0;case"mouseover":return Vs=bo(Vs,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return tl.set(i,bo(tl.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,nl.set(i,bo(nl.get(i)||null,e,t,n,s,a)),!0}return!1}function r0(e){var t=ja(e.target);if(t!==null){var n=Ja(t);if(n!==null){if(t=n.tag,t===13){if(t=Hy(n),t!==null){e.blockedOn=t,n0(e.priority,function(){e0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Xf=s,n.target.dispatchEvent(s),Xf=null}else return t=Tl(n),t!==null&&Ph(t),e.blockedOn=n,!1;t.shift()}return!0}function Mx(e,t,n){Sc(e)&&n.delete(t)}function gS(){rm=!1,Bs!==null&&Sc(Bs)&&(Bs=null),Ws!==null&&Sc(Ws)&&(Ws=null),Vs!==null&&Sc(Vs)&&(Vs=null),tl.forEach(Mx),nl.forEach(Mx)}function No(e,t){e.blockedOn===t&&(e.blockedOn=null,rm||(rm=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,gS)))}function rl(e){function t(a){return No(a,e)}if(0<tc.length){No(tc[0],e);for(var n=1;n<tc.length;n++){var s=tc[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Bs!==null&&No(Bs,e),Ws!==null&&No(Ws,e),Vs!==null&&No(Vs,e),tl.forEach(t),nl.forEach(t),n=0;n<Rs.length;n++)s=Rs[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Rs.length&&(n=Rs[0],n.blockedOn===null);)r0(n),n.blockedOn===null&&Rs.shift()}var Si=ys.ReactCurrentBatchConfig,Kc=!0;function vS(e,t,n,s){var a=et,i=Si.transition;Si.transition=null;try{et=1,Rh(e,t,n,s)}finally{et=a,Si.transition=i}}function yS(e,t,n,s){var a=et,i=Si.transition;Si.transition=null;try{et=4,Rh(e,t,n,s)}finally{et=a,Si.transition=i}}function Rh(e,t,n,s){if(Kc){var a=sm(e,t,n,s);if(a===null)nf(e,t,s,Qc,n),Tx(e,s);else if(xS(a,e,t,n,s))s.stopPropagation();else if(Tx(e,s),t&4&&-1<pS.indexOf(e)){for(;a!==null;){var i=Tl(a);if(i!==null&&Jy(i),i=sm(e,t,n,s),i===null&&nf(e,t,s,Qc,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else nf(e,t,s,null,n)}}var Qc=null;function sm(e,t,n,s){if(Qc=null,e=Ch(s),e=ja(e),e!==null)if(t=Ja(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qc=e,null}function s0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iS()){case kh:return 1;case Ky:return 4;case qc:case oS:return 16;case Qy:return 536870912;default:return 16}default:return 16}}var Is=null,Th=null,Cc=null;function a0(){if(Cc)return Cc;var e,t=Th,n=t.length,s,a="value"in Is?Is.value:Is.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[i-s];s++);return Cc=a.slice(e,1<s?1-s:void 0)}function kc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nc(){return!0}function Ax(){return!1}function zn(e){function t(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nc:Ax,this.isPropagationStopped=Ax,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),t}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mh=zn(oo),Rl=ft({},oo,{view:0,detail:0}),wS=zn(Rl),qu,Gu,_o,zd=ft({},Rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ah,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_o&&(_o&&e.type==="mousemove"?(qu=e.screenX-_o.screenX,Gu=e.screenY-_o.screenY):Gu=qu=0,_o=e),qu)},movementY:function(e){return"movementY"in e?e.movementY:Gu}}),Ox=zn(zd),jS=ft({},zd,{dataTransfer:0}),bS=zn(jS),NS=ft({},Rl,{relatedTarget:0}),Ku=zn(NS),_S=ft({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),SS=zn(_S),CS=ft({},oo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kS=zn(CS),ES=ft({},oo,{data:0}),Dx=zn(ES),PS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TS[e])?!!t[e]:!1}function Ah(){return MS}var AS=ft({},Rl,{key:function(e){if(e.key){var t=PS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ah,charCode:function(e){return e.type==="keypress"?kc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OS=zn(AS),DS=ft({},zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fx=zn(DS),FS=ft({},Rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ah}),IS=zn(FS),LS=ft({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),$S=zn(LS),zS=ft({},zd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),US=zn(zS),BS=[9,13,27,32],Oh=cs&&"CompositionEvent"in window,Wo=null;cs&&"documentMode"in document&&(Wo=document.documentMode);var WS=cs&&"TextEvent"in window&&!Wo,i0=cs&&(!Oh||Wo&&8<Wo&&11>=Wo),Ix=" ",Lx=!1;function o0(e,t){switch(e){case"keyup":return BS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fi=!1;function VS(e,t){switch(e){case"compositionend":return l0(t);case"keypress":return t.which!==32?null:(Lx=!0,Ix);case"textInput":return e=t.data,e===Ix&&Lx?null:e;default:return null}}function HS(e,t){if(fi)return e==="compositionend"||!Oh&&o0(e,t)?(e=a0(),Cc=Th=Is=null,fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i0&&t.locale!=="ko"?null:t.data;default:return null}}var YS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $x(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YS[e.type]:t==="textarea"}function c0(e,t,n,s){zy(s),t=Zc(t,"onChange"),0<t.length&&(n=new Mh("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Vo=null,sl=null;function qS(e){w0(e,0)}function Ud(e){var t=pi(e);if(Ay(t))return e}function GS(e,t){if(e==="change")return t}var d0=!1;if(cs){var Qu;if(cs){var Zu="oninput"in document;if(!Zu){var zx=document.createElement("div");zx.setAttribute("oninput","return;"),Zu=typeof zx.oninput=="function"}Qu=Zu}else Qu=!1;d0=Qu&&(!document.documentMode||9<document.documentMode)}function Ux(){Vo&&(Vo.detachEvent("onpropertychange",u0),sl=Vo=null)}function u0(e){if(e.propertyName==="value"&&Ud(sl)){var t=[];c0(t,sl,e,Ch(e)),Vy(qS,t)}}function KS(e,t,n){e==="focusin"?(Ux(),Vo=t,sl=n,Vo.attachEvent("onpropertychange",u0)):e==="focusout"&&Ux()}function QS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ud(sl)}function ZS(e,t){if(e==="click")return Ud(t)}function XS(e,t){if(e==="input"||e==="change")return Ud(t)}function JS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vr=typeof Object.is=="function"?Object.is:JS;function al(e,t){if(vr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!zf.call(t,a)||!vr(e[a],t[a]))return!1}return!0}function Bx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wx(e,t){var n=Bx(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bx(n)}}function f0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?f0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function m0(){for(var e=window,t=Vc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vc(e.document)}return t}function Dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eC(e){var t=m0(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&f0(n.ownerDocument.documentElement,n)){if(s!==null&&Dh(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=Wx(n,i);var o=Wx(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tC=cs&&"documentMode"in document&&11>=document.documentMode,mi=null,am=null,Ho=null,im=!1;function Vx(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;im||mi==null||mi!==Vc(s)||(s=mi,"selectionStart"in s&&Dh(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ho&&al(Ho,s)||(Ho=s,s=Zc(am,"onSelect"),0<s.length&&(t=new Mh("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=mi)))}function rc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hi={animationend:rc("Animation","AnimationEnd"),animationiteration:rc("Animation","AnimationIteration"),animationstart:rc("Animation","AnimationStart"),transitionend:rc("Transition","TransitionEnd")},Xu={},h0={};cs&&(h0=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function Bd(e){if(Xu[e])return Xu[e];if(!hi[e])return e;var t=hi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in h0)return Xu[e]=t[n];return e}var p0=Bd("animationend"),x0=Bd("animationiteration"),g0=Bd("animationstart"),v0=Bd("transitionend"),y0=new Map,Hx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oa(e,t){y0.set(e,t),Xa(t,[e])}for(var Ju=0;Ju<Hx.length;Ju++){var ef=Hx[Ju],nC=ef.toLowerCase(),rC=ef[0].toUpperCase()+ef.slice(1);oa(nC,"on"+rC)}oa(p0,"onAnimationEnd");oa(x0,"onAnimationIteration");oa(g0,"onAnimationStart");oa("dblclick","onDoubleClick");oa("focusin","onFocus");oa("focusout","onBlur");oa(v0,"onTransitionEnd");zi("onMouseEnter",["mouseout","mouseover"]);zi("onMouseLeave",["mouseout","mouseover"]);zi("onPointerEnter",["pointerout","pointerover"]);zi("onPointerLeave",["pointerout","pointerover"]);Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fo));function Yx(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,nS(s,t,void 0,e),e.currentTarget=null}function w0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Yx(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Yx(a,l,d),i=c}}}if(Yc)throw e=tm,Yc=!1,tm=null,e}function ot(e,t){var n=t[um];n===void 0&&(n=t[um]=new Set);var s=e+"__bubble";n.has(s)||(j0(t,e,2,!1),n.add(s))}function tf(e,t,n){var s=0;t&&(s|=4),j0(n,e,s,t)}var sc="_reactListening"+Math.random().toString(36).slice(2);function il(e){if(!e[sc]){e[sc]=!0,Ey.forEach(function(n){n!=="selectionchange"&&(sC.has(n)||tf(n,!1,e),tf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sc]||(t[sc]=!0,tf("selectionchange",!1,t))}}function j0(e,t,n,s){switch(s0(t)){case 1:var a=vS;break;case 4:a=yS;break;default:a=Rh}n=a.bind(null,t,n,e),a=void 0,!em||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function nf(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ja(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}Vy(function(){var d=i,f=Ch(n),m=[];e:{var p=y0.get(e);if(p!==void 0){var h=Mh,j=e;switch(e){case"keypress":if(kc(n)===0)break e;case"keydown":case"keyup":h=OS;break;case"focusin":j="focus",h=Ku;break;case"focusout":j="blur",h=Ku;break;case"beforeblur":case"afterblur":h=Ku;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Ox;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=bS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=IS;break;case p0:case x0:case g0:h=SS;break;case v0:h=$S;break;case"scroll":h=wS;break;case"wheel":h=US;break;case"copy":case"cut":case"paste":h=kS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Fx}var g=(t&4)!==0,x=!g&&e==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var y=d,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,v!==null&&(b=el(y,v),b!=null&&g.push(ol(y,b,w)))),x)break;y=y.return}0<g.length&&(p=new h(p,j,null,n,f),m.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==Xf&&(j=n.relatedTarget||n.fromElement)&&(ja(j)||j[ds]))break e;if((h||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,h?(j=n.relatedTarget||n.toElement,h=d,j=j?ja(j):null,j!==null&&(x=Ja(j),j!==x||j.tag!==5&&j.tag!==6)&&(j=null)):(h=null,j=d),h!==j)){if(g=Ox,b="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Fx,b="onPointerLeave",v="onPointerEnter",y="pointer"),x=h==null?p:pi(h),w=j==null?p:pi(j),p=new g(b,y+"leave",h,n,f),p.target=x,p.relatedTarget=w,b=null,ja(f)===d&&(g=new g(v,y+"enter",j,n,f),g.target=w,g.relatedTarget=x,b=g),x=b,h&&j)t:{for(g=h,v=j,y=0,w=g;w;w=si(w))y++;for(w=0,b=v;b;b=si(b))w++;for(;0<y-w;)g=si(g),y--;for(;0<w-y;)v=si(v),w--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=si(g),v=si(v)}g=null}else g=null;h!==null&&qx(m,p,h,g,!1),j!==null&&x!==null&&qx(m,x,j,g,!0)}}e:{if(p=d?pi(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var N=GS;else if($x(p))if(d0)N=XS;else{N=QS;var S=KS}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=ZS);if(N&&(N=N(e,d))){c0(m,N,n,f);break e}S&&S(e,p,d),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&qf(p,"number",p.value)}switch(S=d?pi(d):window,e){case"focusin":($x(S)||S.contentEditable==="true")&&(mi=S,am=d,Ho=null);break;case"focusout":Ho=am=mi=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,Vx(m,n,f);break;case"selectionchange":if(tC)break;case"keydown":case"keyup":Vx(m,n,f)}var C;if(Oh)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else fi?o0(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(i0&&n.locale!=="ko"&&(fi||k!=="onCompositionStart"?k==="onCompositionEnd"&&fi&&(C=a0()):(Is=f,Th="value"in Is?Is.value:Is.textContent,fi=!0)),S=Zc(d,k),0<S.length&&(k=new Dx(k,e,null,n,f),m.push({event:k,listeners:S}),C?k.data=C:(C=l0(n),C!==null&&(k.data=C)))),(C=WS?VS(e,n):HS(e,n))&&(d=Zc(d,"onBeforeInput"),0<d.length&&(f=new Dx("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=C))}w0(m,t)})}function ol(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zc(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=el(e,n),i!=null&&s.unshift(ol(e,i,a)),i=el(e,t),i!=null&&s.push(ol(e,i,a))),e=e.return}return s}function si(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qx(e,t,n,s,a){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=el(n,i),c!=null&&o.unshift(ol(n,c,l))):a||(c=el(n,i),c!=null&&o.push(ol(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var aC=/\r\n?/g,iC=/\u0000|\uFFFD/g;function Gx(e){return(typeof e=="string"?e:""+e).replace(aC,`
`).replace(iC,"")}function ac(e,t,n){if(t=Gx(t),Gx(e)!==t&&n)throw Error(Z(425))}function Xc(){}var om=null,lm=null;function cm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dm=typeof setTimeout=="function"?setTimeout:void 0,oC=typeof clearTimeout=="function"?clearTimeout:void 0,Kx=typeof Promise=="function"?Promise:void 0,lC=typeof queueMicrotask=="function"?queueMicrotask:typeof Kx<"u"?function(e){return Kx.resolve(null).then(e).catch(cC)}:dm;function cC(e){setTimeout(function(){throw e})}function rf(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),rl(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);rl(t)}function Hs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var lo=Math.random().toString(36).slice(2),Fr="__reactFiber$"+lo,ll="__reactProps$"+lo,ds="__reactContainer$"+lo,um="__reactEvents$"+lo,dC="__reactListeners$"+lo,uC="__reactHandles$"+lo;function ja(e){var t=e[Fr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ds]||n[Fr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qx(e);e!==null;){if(n=e[Fr])return n;e=Qx(e)}return t}e=n,n=e.parentNode}return null}function Tl(e){return e=e[Fr]||e[ds],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function Wd(e){return e[ll]||null}var fm=[],xi=-1;function la(e){return{current:e}}function lt(e){0>xi||(e.current=fm[xi],fm[xi]=null,xi--)}function st(e,t){xi++,fm[xi]=e.current,e.current=t}var ea={},en=la(ea),yn=la(!1),Fa=ea;function Ui(e,t){var n=e.type.contextTypes;if(!n)return ea;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function wn(e){return e=e.childContextTypes,e!=null}function Jc(){lt(yn),lt(en)}function Zx(e,t,n){if(en.current!==ea)throw Error(Z(168));st(en,t),st(yn,n)}function b0(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(Z(108,K_(e)||"Unknown",a));return ft({},n,s)}function ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ea,Fa=en.current,st(en,e),st(yn,yn.current),!0}function Xx(e,t,n){var s=e.stateNode;if(!s)throw Error(Z(169));n?(e=b0(e,t,Fa),s.__reactInternalMemoizedMergedChildContext=e,lt(yn),lt(en),st(en,e)):lt(yn),st(yn,n)}var ts=null,Vd=!1,sf=!1;function N0(e){ts===null?ts=[e]:ts.push(e)}function fC(e){Vd=!0,N0(e)}function ca(){if(!sf&&ts!==null){sf=!0;var e=0,t=et;try{var n=ts;for(et=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}ts=null,Vd=!1}catch(a){throw ts!==null&&(ts=ts.slice(e+1)),Gy(kh,ca),a}finally{et=t,sf=!1}}return null}var gi=[],vi=0,td=null,nd=0,Yn=[],qn=0,Ia=null,rs=1,ss="";function va(e,t){gi[vi++]=nd,gi[vi++]=td,td=e,nd=t}function _0(e,t,n){Yn[qn++]=rs,Yn[qn++]=ss,Yn[qn++]=Ia,Ia=e;var s=rs;e=ss;var a=32-pr(s)-1;s&=~(1<<a),n+=1;var i=32-pr(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,rs=1<<32-pr(t)+a|n<<a|s,ss=i+e}else rs=1<<i|n<<a|s,ss=e}function Fh(e){e.return!==null&&(va(e,1),_0(e,1,0))}function Ih(e){for(;e===td;)td=gi[--vi],gi[vi]=null,nd=gi[--vi],gi[vi]=null;for(;e===Ia;)Ia=Yn[--qn],Yn[qn]=null,ss=Yn[--qn],Yn[qn]=null,rs=Yn[--qn],Yn[qn]=null}var Mn=null,Rn=null,ct=!1,mr=null;function S0(e,t){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mn=e,Rn=Hs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mn=e,Rn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ia!==null?{id:rs,overflow:ss}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mn=e,Rn=null,!0):!1;default:return!1}}function mm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hm(e){if(ct){var t=Rn;if(t){var n=t;if(!Jx(e,t)){if(mm(e))throw Error(Z(418));t=Hs(n.nextSibling);var s=Mn;t&&Jx(e,t)?S0(s,n):(e.flags=e.flags&-4097|2,ct=!1,Mn=e)}}else{if(mm(e))throw Error(Z(418));e.flags=e.flags&-4097|2,ct=!1,Mn=e}}}function eg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mn=e}function ic(e){if(e!==Mn)return!1;if(!ct)return eg(e),ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cm(e.type,e.memoizedProps)),t&&(t=Rn)){if(mm(e))throw C0(),Error(Z(418));for(;t;)S0(e,t),t=Hs(t.nextSibling)}if(eg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Rn=Hs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Rn=null}}else Rn=Mn?Hs(e.stateNode.nextSibling):null;return!0}function C0(){for(var e=Rn;e;)e=Hs(e.nextSibling)}function Bi(){Rn=Mn=null,ct=!1}function Lh(e){mr===null?mr=[e]:mr.push(e)}var mC=ys.ReactCurrentBatchConfig;function So(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var s=n.stateNode}if(!s)throw Error(Z(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function oc(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tg(e){var t=e._init;return t(e._payload)}function k0(e){function t(v,y){if(e){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function s(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=Ks(v,y),v.index=0,v.sibling=null,v}function i(v,y,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,w,b){return y===null||y.tag!==6?(y=ff(w,v.mode,b),y.return=v,y):(y=a(y,w),y.return=v,y)}function c(v,y,w,b){var N=w.type;return N===ui?f(v,y,w.props.children,b,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ks&&tg(N)===y.type)?(b=a(y,w.props),b.ref=So(v,y,w),b.return=v,b):(b=Oc(w.type,w.key,w.props,null,v.mode,b),b.ref=So(v,y,w),b.return=v,b)}function d(v,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=mf(w,v.mode,b),y.return=v,y):(y=a(y,w.children||[]),y.return=v,y)}function f(v,y,w,b,N){return y===null||y.tag!==7?(y=Aa(w,v.mode,b,N),y.return=v,y):(y=a(y,w),y.return=v,y)}function m(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ff(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ql:return w=Oc(y.type,y.key,y.props,null,v.mode,w),w.ref=So(v,null,y),w.return=v,w;case di:return y=mf(y,v.mode,w),y.return=v,y;case ks:var b=y._init;return m(v,b(y._payload),w)}if(Oo(y)||wo(y))return y=Aa(y,v.mode,w,null),y.return=v,y;oc(v,y)}return null}function p(v,y,w,b){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(v,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ql:return w.key===N?c(v,y,w,b):null;case di:return w.key===N?d(v,y,w,b):null;case ks:return N=w._init,p(v,y,N(w._payload),b)}if(Oo(w)||wo(w))return N!==null?null:f(v,y,w,b,null);oc(v,w)}return null}function h(v,y,w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(w)||null,l(y,v,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ql:return v=v.get(b.key===null?w:b.key)||null,c(y,v,b,N);case di:return v=v.get(b.key===null?w:b.key)||null,d(y,v,b,N);case ks:var S=b._init;return h(v,y,w,S(b._payload),N)}if(Oo(b)||wo(b))return v=v.get(w)||null,f(y,v,b,N,null);oc(y,b)}return null}function j(v,y,w,b){for(var N=null,S=null,C=y,k=y=0,T=null;C!==null&&k<w.length;k++){C.index>k?(T=C,C=null):T=C.sibling;var _=p(v,C,w[k],b);if(_===null){C===null&&(C=T);break}e&&C&&_.alternate===null&&t(v,C),y=i(_,y,k),S===null?N=_:S.sibling=_,S=_,C=T}if(k===w.length)return n(v,C),ct&&va(v,k),N;if(C===null){for(;k<w.length;k++)C=m(v,w[k],b),C!==null&&(y=i(C,y,k),S===null?N=C:S.sibling=C,S=C);return ct&&va(v,k),N}for(C=s(v,C);k<w.length;k++)T=h(C,v,k,w[k],b),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?k:T.key),y=i(T,y,k),S===null?N=T:S.sibling=T,S=T);return e&&C.forEach(function(P){return t(v,P)}),ct&&va(v,k),N}function g(v,y,w,b){var N=wo(w);if(typeof N!="function")throw Error(Z(150));if(w=N.call(w),w==null)throw Error(Z(151));for(var S=N=null,C=y,k=y=0,T=null,_=w.next();C!==null&&!_.done;k++,_=w.next()){C.index>k?(T=C,C=null):T=C.sibling;var P=p(v,C,_.value,b);if(P===null){C===null&&(C=T);break}e&&C&&P.alternate===null&&t(v,C),y=i(P,y,k),S===null?N=P:S.sibling=P,S=P,C=T}if(_.done)return n(v,C),ct&&va(v,k),N;if(C===null){for(;!_.done;k++,_=w.next())_=m(v,_.value,b),_!==null&&(y=i(_,y,k),S===null?N=_:S.sibling=_,S=_);return ct&&va(v,k),N}for(C=s(v,C);!_.done;k++,_=w.next())_=h(C,v,k,_.value,b),_!==null&&(e&&_.alternate!==null&&C.delete(_.key===null?k:_.key),y=i(_,y,k),S===null?N=_:S.sibling=_,S=_);return e&&C.forEach(function(A){return t(v,A)}),ct&&va(v,k),N}function x(v,y,w,b){if(typeof w=="object"&&w!==null&&w.type===ui&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ql:e:{for(var N=w.key,S=y;S!==null;){if(S.key===N){if(N=w.type,N===ui){if(S.tag===7){n(v,S.sibling),y=a(S,w.props.children),y.return=v,v=y;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ks&&tg(N)===S.type){n(v,S.sibling),y=a(S,w.props),y.ref=So(v,S,w),y.return=v,v=y;break e}n(v,S);break}else t(v,S);S=S.sibling}w.type===ui?(y=Aa(w.props.children,v.mode,b,w.key),y.return=v,v=y):(b=Oc(w.type,w.key,w.props,null,v.mode,b),b.ref=So(v,y,w),b.return=v,v=b)}return o(v);case di:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=a(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=mf(w,v.mode,b),y.return=v,v=y}return o(v);case ks:return S=w._init,x(v,y,S(w._payload),b)}if(Oo(w))return j(v,y,w,b);if(wo(w))return g(v,y,w,b);oc(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=a(y,w),y.return=v,v=y):(n(v,y),y=ff(w,v.mode,b),y.return=v,v=y),o(v)):n(v,y)}return x}var Wi=k0(!0),E0=k0(!1),rd=la(null),sd=null,yi=null,$h=null;function zh(){$h=yi=sd=null}function Uh(e){var t=rd.current;lt(rd),e._currentValue=t}function pm(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){sd=e,$h=yi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hn=!0),e.firstContext=null)}function Qn(e){var t=e._currentValue;if($h!==e)if(e={context:e,memoizedValue:t,next:null},yi===null){if(sd===null)throw Error(Z(308));yi=e,sd.dependencies={lanes:0,firstContext:e}}else yi=yi.next=e;return t}var ba=null;function Bh(e){ba===null?ba=[e]:ba.push(e)}function P0(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,Bh(t)):(n.next=a.next,a.next=n),t.interleaved=n,us(e,s)}function us(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Es=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,We&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,us(e,n)}return a=s.interleaved,a===null?(t.next=t,Bh(s)):(t.next=a.next,a.next=t),s.interleaved=t,us(e,n)}function Ec(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Eh(e,n)}}function ng(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ad(e,t,n,s){var a=e.updateQueue;Es=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,f=d=c=null,l=i;do{var p=l.lane,h=l.eventTime;if((s&p)===p){f!==null&&(f=f.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,g=l;switch(p=t,h=n,g.tag){case 1:if(j=g.payload,typeof j=="function"){m=j.call(h,m,p);break e}m=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=g.payload,p=typeof j=="function"?j.call(h,m,p):j,p==null)break e;m=ft({},m,p);break e;case 2:Es=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=h,c=m):f=f.next=h,o|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(f===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);$a|=o,e.lanes=o,e.memoizedState=m}}function rg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(Z(191,a));a.call(s)}}}var Ml={},Br=la(Ml),cl=la(Ml),dl=la(Ml);function Na(e){if(e===Ml)throw Error(Z(174));return e}function Vh(e,t){switch(st(dl,t),st(cl,e),st(Br,Ml),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kf(t,e)}lt(Br),st(Br,t)}function Vi(){lt(Br),lt(cl),lt(dl)}function T0(e){Na(dl.current);var t=Na(Br.current),n=Kf(t,e.type);t!==n&&(st(cl,e),st(Br,n))}function Hh(e){cl.current===e&&(lt(Br),lt(cl))}var dt=la(0);function id(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var af=[];function Yh(){for(var e=0;e<af.length;e++)af[e]._workInProgressVersionPrimary=null;af.length=0}var Pc=ys.ReactCurrentDispatcher,of=ys.ReactCurrentBatchConfig,La=0,ut=null,Pt=null,Ot=null,od=!1,Yo=!1,ul=0,hC=0;function Yt(){throw Error(Z(321))}function qh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vr(e[n],t[n]))return!1;return!0}function Gh(e,t,n,s,a,i){if(La=i,ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pc.current=e===null||e.memoizedState===null?vC:yC,e=n(s,a),Yo){i=0;do{if(Yo=!1,ul=0,25<=i)throw Error(Z(301));i+=1,Ot=Pt=null,t.updateQueue=null,Pc.current=wC,e=n(s,a)}while(Yo)}if(Pc.current=ld,t=Pt!==null&&Pt.next!==null,La=0,Ot=Pt=ut=null,od=!1,t)throw Error(Z(300));return e}function Kh(){var e=ul!==0;return ul=0,e}function Tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ut.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Zn(){if(Pt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=Ot===null?ut.memoizedState:Ot.next;if(t!==null)Ot=t,Pt=e;else{if(e===null)throw Error(Z(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ot===null?ut.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function fl(e,t){return typeof t=="function"?t(e):t}function lf(e){var t=Zn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var s=Pt,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var f=d.lane;if((La&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,ut.lanes|=f,$a|=f}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,vr(s,t.memoizedState)||(hn=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,ut.lanes|=i,$a|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cf(e){var t=Zn(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);vr(i,t.memoizedState)||(hn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function M0(){}function A0(e,t){var n=ut,s=Zn(),a=t(),i=!vr(s.memoizedState,a);if(i&&(s.memoizedState=a,hn=!0),s=s.queue,Qh(F0.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,ml(9,D0.bind(null,n,s,a,t),void 0,null),Lt===null)throw Error(Z(349));La&30||O0(n,t,a)}return a}function O0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function D0(e,t,n,s){t.value=n,t.getSnapshot=s,I0(t)&&L0(e)}function F0(e,t,n){return n(function(){I0(t)&&L0(e)})}function I0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vr(e,n)}catch{return!0}}function L0(e){var t=us(e,1);t!==null&&xr(t,e,1,-1)}function sg(e){var t=Tr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:e},t.queue=e,e=e.dispatch=gC.bind(null,ut,e),[t.memoizedState,e]}function ml(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function $0(){return Zn().memoizedState}function Rc(e,t,n,s){var a=Tr();ut.flags|=e,a.memoizedState=ml(1|t,n,void 0,s===void 0?null:s)}function Hd(e,t,n,s){var a=Zn();s=s===void 0?null:s;var i=void 0;if(Pt!==null){var o=Pt.memoizedState;if(i=o.destroy,s!==null&&qh(s,o.deps)){a.memoizedState=ml(t,n,i,s);return}}ut.flags|=e,a.memoizedState=ml(1|t,n,i,s)}function ag(e,t){return Rc(8390656,8,e,t)}function Qh(e,t){return Hd(2048,8,e,t)}function z0(e,t){return Hd(4,2,e,t)}function U0(e,t){return Hd(4,4,e,t)}function B0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function W0(e,t,n){return n=n!=null?n.concat([e]):null,Hd(4,4,B0.bind(null,t,e),n)}function Zh(){}function V0(e,t){var n=Zn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&qh(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function H0(e,t){var n=Zn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&qh(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Y0(e,t,n){return La&21?(vr(n,t)||(n=Zy(),ut.lanes|=n,$a|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hn=!0),e.memoizedState=n)}function pC(e,t){var n=et;et=n!==0&&4>n?n:4,e(!0);var s=of.transition;of.transition={};try{e(!1),t()}finally{et=n,of.transition=s}}function q0(){return Zn().memoizedState}function xC(e,t,n){var s=Gs(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},G0(e))K0(t,n);else if(n=P0(e,t,n,s),n!==null){var a=on();xr(n,e,s,a),Q0(n,t,s)}}function gC(e,t,n){var s=Gs(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(G0(e))K0(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,vr(l,o)){var c=t.interleaved;c===null?(a.next=a,Bh(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=P0(e,t,a,s),n!==null&&(a=on(),xr(n,e,s,a),Q0(n,t,s))}}function G0(e){var t=e.alternate;return e===ut||t!==null&&t===ut}function K0(e,t){Yo=od=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Q0(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Eh(e,n)}}var ld={readContext:Qn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},vC={readContext:Qn,useCallback:function(e,t){return Tr().memoizedState=[e,t===void 0?null:t],e},useContext:Qn,useEffect:ag,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Rc(4194308,4,B0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rc(4,2,e,t)},useMemo:function(e,t){var n=Tr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Tr();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=xC.bind(null,ut,e),[s.memoizedState,e]},useRef:function(e){var t=Tr();return e={current:e},t.memoizedState=e},useState:sg,useDebugValue:Zh,useDeferredValue:function(e){return Tr().memoizedState=e},useTransition:function(){var e=sg(!1),t=e[0];return e=pC.bind(null,e[1]),Tr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ut,a=Tr();if(ct){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),Lt===null)throw Error(Z(349));La&30||O0(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,ag(F0.bind(null,s,i,e),[e]),s.flags|=2048,ml(9,D0.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Tr(),t=Lt.identifierPrefix;if(ct){var n=ss,s=rs;n=(s&~(1<<32-pr(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=ul++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yC={readContext:Qn,useCallback:V0,useContext:Qn,useEffect:Qh,useImperativeHandle:W0,useInsertionEffect:z0,useLayoutEffect:U0,useMemo:H0,useReducer:lf,useRef:$0,useState:function(){return lf(fl)},useDebugValue:Zh,useDeferredValue:function(e){var t=Zn();return Y0(t,Pt.memoizedState,e)},useTransition:function(){var e=lf(fl)[0],t=Zn().memoizedState;return[e,t]},useMutableSource:M0,useSyncExternalStore:A0,useId:q0,unstable_isNewReconciler:!1},wC={readContext:Qn,useCallback:V0,useContext:Qn,useEffect:Qh,useImperativeHandle:W0,useInsertionEffect:z0,useLayoutEffect:U0,useMemo:H0,useReducer:cf,useRef:$0,useState:function(){return cf(fl)},useDebugValue:Zh,useDeferredValue:function(e){var t=Zn();return Pt===null?t.memoizedState=e:Y0(t,Pt.memoizedState,e)},useTransition:function(){var e=cf(fl)[0],t=Zn().memoizedState;return[e,t]},useMutableSource:M0,useSyncExternalStore:A0,useId:q0,unstable_isNewReconciler:!1};function lr(e,t){if(e&&e.defaultProps){t=ft({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function xm(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ft({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yd={isMounted:function(e){return(e=e._reactInternals)?Ja(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=on(),a=Gs(e),i=os(s,a);i.payload=t,n!=null&&(i.callback=n),t=Ys(e,i,a),t!==null&&(xr(t,e,a,s),Ec(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=on(),a=Gs(e),i=os(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ys(e,i,a),t!==null&&(xr(t,e,a,s),Ec(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=on(),s=Gs(e),a=os(n,s);a.tag=2,t!=null&&(a.callback=t),t=Ys(e,a,s),t!==null&&(xr(t,e,s,n),Ec(t,e,s))}};function ig(e,t,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!al(n,s)||!al(a,i):!0}function Z0(e,t,n){var s=!1,a=ea,i=t.contextType;return typeof i=="object"&&i!==null?i=Qn(i):(a=wn(t)?Fa:en.current,s=t.contextTypes,i=(s=s!=null)?Ui(e,a):ea),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yd,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function og(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Yd.enqueueReplaceState(t,t.state,null)}function gm(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Wh(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Qn(i):(i=wn(t)?Fa:en.current,a.context=Ui(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(xm(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Yd.enqueueReplaceState(a,a.state,null),ad(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Hi(e,t){try{var n="",s=t;do n+=G_(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function df(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jC=typeof WeakMap=="function"?WeakMap:Map;function X0(e,t,n){n=os(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){dd||(dd=!0,Em=s),vm(e,t)},n}function J0(e,t,n){n=os(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){vm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){vm(e,t),typeof s!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function lg(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new jC;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=DC.bind(null,e,t,n),t.then(e,e))}function cg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dg(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=os(-1,1),t.tag=2,Ys(n,t,1))),n.lanes|=1),e)}var bC=ys.ReactCurrentOwner,hn=!1;function rn(e,t,n,s){t.child=e===null?E0(t,null,n,s):Wi(t,e.child,n,s)}function ug(e,t,n,s,a){n=n.render;var i=t.ref;return Ci(t,a),s=Gh(e,t,n,s,i,a),n=Kh(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fs(e,t,a)):(ct&&n&&Fh(t),t.flags|=1,rn(e,t,s,a),t.child)}function fg(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!ap(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ew(e,t,i,s,a)):(e=Oc(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:al,n(o,s)&&e.ref===t.ref)return fs(e,t,a)}return t.flags|=1,e=Ks(i,s),e.ref=t.ref,e.return=t,t.child=e}function ew(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(al(i,s)&&e.ref===t.ref)if(hn=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(hn=!0);else return t.lanes=e.lanes,fs(e,t,a)}return ym(e,t,n,s,a)}function tw(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(ji,En),En|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,st(ji,En),En|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,st(ji,En),En|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,st(ji,En),En|=s;return rn(e,t,a,n),t.child}function nw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ym(e,t,n,s,a){var i=wn(n)?Fa:en.current;return i=Ui(t,i),Ci(t,a),n=Gh(e,t,n,s,i,a),s=Kh(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fs(e,t,a)):(ct&&s&&Fh(t),t.flags|=1,rn(e,t,n,a),t.child)}function mg(e,t,n,s,a){if(wn(n)){var i=!0;ed(t)}else i=!1;if(Ci(t,a),t.stateNode===null)Tc(e,t),Z0(t,n,s),gm(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Qn(d):(d=wn(n)?Fa:en.current,d=Ui(t,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&og(t,o,s,d),Es=!1;var p=t.memoizedState;o.state=p,ad(t,s,o,a),c=t.memoizedState,l!==s||p!==c||yn.current||Es?(typeof f=="function"&&(xm(t,n,f,s),c=t.memoizedState),(l=Es||ig(t,n,l,s,p,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,R0(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:lr(t.type,l),o.props=d,m=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Qn(c):(c=wn(n)?Fa:en.current,c=Ui(t,c));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==c)&&og(t,o,s,c),Es=!1,p=t.memoizedState,o.state=p,ad(t,s,o,a);var j=t.memoizedState;l!==m||p!==j||yn.current||Es?(typeof h=="function"&&(xm(t,n,h,s),j=t.memoizedState),(d=Es||ig(t,n,d,s,p,j,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),s=!1)}return wm(e,t,n,s,i,a)}function wm(e,t,n,s,a,i){nw(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Xx(t,n,!1),fs(e,t,i);s=t.stateNode,bC.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Wi(t,e.child,null,i),t.child=Wi(t,null,l,i)):rn(e,t,l,i),t.memoizedState=s.state,a&&Xx(t,n,!0),t.child}function rw(e){var t=e.stateNode;t.pendingContext?Zx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zx(e,t.context,!1),Vh(e,t.containerInfo)}function hg(e,t,n,s,a){return Bi(),Lh(a),t.flags|=256,rn(e,t,n,s),t.child}var jm={dehydrated:null,treeContext:null,retryLane:0};function bm(e){return{baseLanes:e,cachePool:null,transitions:null}}function sw(e,t,n){var s=t.pendingProps,a=dt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),st(dt,a&1),e===null)return hm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kd(o,s,0,null),e=Aa(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=bm(n),t.memoizedState=jm,e):Xh(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return NC(e,t,o,s,l,a,n);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ks(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ks(l,i):(i=Aa(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?bm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=jm,s}return i=e.child,e=i.sibling,s=Ks(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Xh(e,t){return t=Kd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lc(e,t,n,s){return s!==null&&Lh(s),Wi(t,e.child,null,n),e=Xh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function NC(e,t,n,s,a,i,o){if(n)return t.flags&256?(t.flags&=-257,s=df(Error(Z(422))),lc(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Kd({mode:"visible",children:s.children},a,0,null),i=Aa(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Wi(t,e.child,null,o),t.child.memoizedState=bm(o),t.memoizedState=jm,i);if(!(t.mode&1))return lc(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(Z(419)),s=df(i,s,void 0),lc(e,t,o,s)}if(l=(o&e.childLanes)!==0,hn||l){if(s=Lt,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,us(e,a),xr(s,e,a,-1))}return sp(),s=df(Error(Z(421))),lc(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=FC.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Rn=Hs(a.nextSibling),Mn=t,ct=!0,mr=null,e!==null&&(Yn[qn++]=rs,Yn[qn++]=ss,Yn[qn++]=Ia,rs=e.id,ss=e.overflow,Ia=t),t=Xh(t,s.children),t.flags|=4096,t)}function pg(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),pm(e.return,t,n)}function uf(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function aw(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(rn(e,t,s.children,n),s=dt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pg(e,n,t);else if(e.tag===19)pg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(st(dt,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&id(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),uf(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&id(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}uf(t,!0,n,null,i);break;case"together":uf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=Ks(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ks(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _C(e,t,n){switch(t.tag){case 3:rw(t),Bi();break;case 5:T0(t);break;case 1:wn(t.type)&&ed(t);break;case 4:Vh(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;st(rd,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(st(dt,dt.current&1),t.flags|=128,null):n&t.child.childLanes?sw(e,t,n):(st(dt,dt.current&1),e=fs(e,t,n),e!==null?e.sibling:null);st(dt,dt.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return aw(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),st(dt,dt.current),s)break;return null;case 22:case 23:return t.lanes=0,tw(e,t,n)}return fs(e,t,n)}var iw,Nm,ow,lw;iw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nm=function(){};ow=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Na(Br.current);var i=null;switch(n){case"input":a=Hf(e,a),s=Hf(e,s),i=[];break;case"select":a=ft({},a,{value:void 0}),s=ft({},s,{value:void 0}),i=[];break;case"textarea":a=Gf(e,a),s=Gf(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Xc)}Qf(n,s);var o;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Xo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Xo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ot("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};lw=function(e,t,n,s){n!==s&&(t.flags|=4)};function Co(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function SC(e,t,n){var s=t.pendingProps;switch(Ih(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(t),null;case 1:return wn(t.type)&&Jc(),qt(t),null;case 3:return s=t.stateNode,Vi(),lt(yn),lt(en),Yh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ic(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mr!==null&&(Tm(mr),mr=null))),Nm(e,t),qt(t),null;case 5:Hh(t);var a=Na(dl.current);if(n=t.type,e!==null&&t.stateNode!=null)ow(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Z(166));return qt(t),null}if(e=Na(Br.current),ic(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[Fr]=t,s[ll]=i,e=(t.mode&1)!==0,n){case"dialog":ot("cancel",s),ot("close",s);break;case"iframe":case"object":case"embed":ot("load",s);break;case"video":case"audio":for(a=0;a<Fo.length;a++)ot(Fo[a],s);break;case"source":ot("error",s);break;case"img":case"image":case"link":ot("error",s),ot("load",s);break;case"details":ot("toggle",s);break;case"input":_x(s,i),ot("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ot("invalid",s);break;case"textarea":Cx(s,i),ot("invalid",s)}Qf(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&ac(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ac(s.textContent,l,e),a=["children",""+l]):Xo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ot("scroll",s)}switch(n){case"input":Zl(s),Sx(s,i,!0);break;case"textarea":Zl(s),kx(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Xc)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Fr]=t,e[ll]=s,iw(e,t,!1,!1),t.stateNode=e;e:{switch(o=Zf(n,s),n){case"dialog":ot("cancel",e),ot("close",e),a=s;break;case"iframe":case"object":case"embed":ot("load",e),a=s;break;case"video":case"audio":for(a=0;a<Fo.length;a++)ot(Fo[a],e);a=s;break;case"source":ot("error",e),a=s;break;case"img":case"image":case"link":ot("error",e),ot("load",e),a=s;break;case"details":ot("toggle",e),a=s;break;case"input":_x(e,s),a=Hf(e,s),ot("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=ft({},s,{value:void 0}),ot("invalid",e);break;case"textarea":Cx(e,s),a=Gf(e,s),ot("invalid",e);break;default:a=s}Qf(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?$y(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Iy(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Jo(e,c):typeof c=="number"&&Jo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ot("scroll",e):c!=null&&bh(e,i,c,o))}switch(n){case"input":Zl(e),Sx(e,s,!1);break;case"textarea":Zl(e),kx(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Js(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?bi(e,!!s.multiple,i,!1):s.defaultValue!=null&&bi(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Xc)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qt(t),null;case 6:if(e&&t.stateNode!=null)lw(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Z(166));if(n=Na(dl.current),Na(Br.current),ic(t)){if(s=t.stateNode,n=t.memoizedProps,s[Fr]=t,(i=s.nodeValue!==n)&&(e=Mn,e!==null))switch(e.tag){case 3:ac(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ac(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Fr]=t,t.stateNode=s}return qt(t),null;case 13:if(lt(dt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ct&&Rn!==null&&t.mode&1&&!(t.flags&128))C0(),Bi(),t.flags|=98560,i=!1;else if(i=ic(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[Fr]=t}else Bi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qt(t),i=!1}else mr!==null&&(Tm(mr),mr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||dt.current&1?Tt===0&&(Tt=3):sp())),t.updateQueue!==null&&(t.flags|=4),qt(t),null);case 4:return Vi(),Nm(e,t),e===null&&il(t.stateNode.containerInfo),qt(t),null;case 10:return Uh(t.type._context),qt(t),null;case 17:return wn(t.type)&&Jc(),qt(t),null;case 19:if(lt(dt),i=t.memoizedState,i===null)return qt(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Co(i,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=id(e),o!==null){for(t.flags|=128,Co(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return st(dt,dt.current&1|2),t.child}e=e.sibling}i.tail!==null&&yt()>Yi&&(t.flags|=128,s=!0,Co(i,!1),t.lanes=4194304)}else{if(!s)if(e=id(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Co(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ct)return qt(t),null}else 2*yt()-i.renderingStartTime>Yi&&n!==1073741824&&(t.flags|=128,s=!0,Co(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=yt(),t.sibling=null,n=dt.current,st(dt,s?n&1|2:n&1),t):(qt(t),null);case 22:case 23:return rp(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?En&1073741824&&(qt(t),t.subtreeFlags&6&&(t.flags|=8192)):qt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function CC(e,t){switch(Ih(t),t.tag){case 1:return wn(t.type)&&Jc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vi(),lt(yn),lt(en),Yh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hh(t),null;case 13:if(lt(dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Bi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(dt),null;case 4:return Vi(),null;case 10:return Uh(t.type._context),null;case 22:case 23:return rp(),null;case 24:return null;default:return null}}var cc=!1,Kt=!1,kC=typeof WeakSet=="function"?WeakSet:Set,fe=null;function wi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){pt(e,t,s)}else n.current=null}function _m(e,t,n){try{n()}catch(s){pt(e,t,s)}}var xg=!1;function EC(e,t){if(om=Kc,e=m0(),Dh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,f=0,m=e,p=null;t:for(;;){for(var h;m!==n||a!==0&&m.nodeType!==3||(l=o+a),m!==i||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)p=m,m=h;for(;;){if(m===e)break t;if(p===n&&++d===a&&(l=o),p===i&&++f===s&&(c=o),(h=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(lm={focusedElem:e,selectionRange:n},Kc=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var g=j.memoizedProps,x=j.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:lr(t.type,g),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(b){pt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return j=xg,xg=!1,j}function qo(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&_m(t,n,i)}a=a.next}while(a!==s)}}function qd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Sm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cw(e){var t=e.alternate;t!==null&&(e.alternate=null,cw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fr],delete t[ll],delete t[um],delete t[dC],delete t[uC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dw(e){return e.tag===5||e.tag===3||e.tag===4}function gg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cm(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xc));else if(s!==4&&(e=e.child,e!==null))for(Cm(e,t,n),e=e.sibling;e!==null;)Cm(e,t,n),e=e.sibling}function km(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(km(e,t,n),e=e.sibling;e!==null;)km(e,t,n),e=e.sibling}var zt=null,fr=!1;function ws(e,t,n){for(n=n.child;n!==null;)uw(e,t,n),n=n.sibling}function uw(e,t,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount($d,n)}catch{}switch(n.tag){case 5:Kt||wi(n,t);case 6:var s=zt,a=fr;zt=null,ws(e,t,n),zt=s,fr=a,zt!==null&&(fr?(e=zt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(fr?(e=zt,n=n.stateNode,e.nodeType===8?rf(e.parentNode,n):e.nodeType===1&&rf(e,n),rl(e)):rf(zt,n.stateNode));break;case 4:s=zt,a=fr,zt=n.stateNode.containerInfo,fr=!0,ws(e,t,n),zt=s,fr=a;break;case 0:case 11:case 14:case 15:if(!Kt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_m(n,t,o),a=a.next}while(a!==s)}ws(e,t,n);break;case 1:if(!Kt&&(wi(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){pt(n,t,l)}ws(e,t,n);break;case 21:ws(e,t,n);break;case 22:n.mode&1?(Kt=(s=Kt)||n.memoizedState!==null,ws(e,t,n),Kt=s):ws(e,t,n);break;default:ws(e,t,n)}}function vg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kC),t.forEach(function(s){var a=IC.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function sr(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:zt=l.stateNode,fr=!1;break e;case 3:zt=l.stateNode.containerInfo,fr=!0;break e;case 4:zt=l.stateNode.containerInfo,fr=!0;break e}l=l.return}if(zt===null)throw Error(Z(160));uw(i,o,a),zt=null,fr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){pt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fw(t,e),t=t.sibling}function fw(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sr(t,e),Rr(e),s&4){try{qo(3,e,e.return),qd(3,e)}catch(g){pt(e,e.return,g)}try{qo(5,e,e.return)}catch(g){pt(e,e.return,g)}}break;case 1:sr(t,e),Rr(e),s&512&&n!==null&&wi(n,n.return);break;case 5:if(sr(t,e),Rr(e),s&512&&n!==null&&wi(n,n.return),e.flags&32){var a=e.stateNode;try{Jo(a,"")}catch(g){pt(e,e.return,g)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Oy(a,i),Zf(l,o);var d=Zf(l,i);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?$y(a,m):f==="dangerouslySetInnerHTML"?Iy(a,m):f==="children"?Jo(a,m):bh(a,f,m,d)}switch(l){case"input":Yf(a,i);break;case"textarea":Dy(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?bi(a,!!i.multiple,h,!1):p!==!!i.multiple&&(i.defaultValue!=null?bi(a,!!i.multiple,i.defaultValue,!0):bi(a,!!i.multiple,i.multiple?[]:"",!1))}a[ll]=i}catch(g){pt(e,e.return,g)}}break;case 6:if(sr(t,e),Rr(e),s&4){if(e.stateNode===null)throw Error(Z(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){pt(e,e.return,g)}}break;case 3:if(sr(t,e),Rr(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{rl(t.containerInfo)}catch(g){pt(e,e.return,g)}break;case 4:sr(t,e),Rr(e);break;case 13:sr(t,e),Rr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(tp=yt())),s&4&&vg(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Kt=(d=Kt)||f,sr(t,e),Kt=d):sr(t,e),Rr(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(fe=e,f=e.child;f!==null;){for(m=fe=f;fe!==null;){switch(p=fe,h=p.child,p.tag){case 0:case 11:case 14:case 15:qo(4,p,p.return);break;case 1:wi(p,p.return);var j=p.stateNode;if(typeof j.componentWillUnmount=="function"){s=p,n=p.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(g){pt(s,n,g)}}break;case 5:wi(p,p.return);break;case 22:if(p.memoizedState!==null){wg(m);continue}}h!==null?(h.return=p,fe=h):wg(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ly("display",o))}catch(g){pt(e,e.return,g)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){pt(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:sr(t,e),Rr(e),s&4&&vg(e);break;case 21:break;default:sr(t,e),Rr(e)}}function Rr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dw(n)){var s=n;break e}n=n.return}throw Error(Z(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Jo(a,""),s.flags&=-33);var i=gg(e);km(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=gg(e);Cm(e,l,o);break;default:throw Error(Z(161))}}catch(c){pt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function PC(e,t,n){fe=e,mw(e)}function mw(e,t,n){for(var s=(e.mode&1)!==0;fe!==null;){var a=fe,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||cc;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Kt;l=cc;var d=Kt;if(cc=o,(Kt=c)&&!d)for(fe=a;fe!==null;)o=fe,c=o.child,o.tag===22&&o.memoizedState!==null?jg(a):c!==null?(c.return=o,fe=c):jg(a);for(;i!==null;)fe=i,mw(i),i=i.sibling;fe=a,cc=l,Kt=d}yg(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,fe=i):yg(e)}}function yg(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kt||qd(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Kt)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:lr(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&rg(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rg(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&rl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Kt||t.flags&512&&Sm(t)}catch(p){pt(t,t.return,p)}}if(t===e){fe=null;break}if(n=t.sibling,n!==null){n.return=t.return,fe=n;break}fe=t.return}}function wg(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,fe=n;break}fe=t.return}}function jg(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qd(4,t)}catch(c){pt(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){pt(t,a,c)}}var i=t.return;try{Sm(t)}catch(c){pt(t,i,c)}break;case 5:var o=t.return;try{Sm(t)}catch(c){pt(t,o,c)}}}catch(c){pt(t,t.return,c)}if(t===e){fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,fe=l;break}fe=t.return}}var RC=Math.ceil,cd=ys.ReactCurrentDispatcher,Jh=ys.ReactCurrentOwner,Kn=ys.ReactCurrentBatchConfig,We=0,Lt=null,Nt=null,Bt=0,En=0,ji=la(0),Tt=0,hl=null,$a=0,Gd=0,ep=0,Go=null,mn=null,tp=0,Yi=1/0,es=null,dd=!1,Em=null,qs=null,dc=!1,Ls=null,ud=0,Ko=0,Pm=null,Mc=-1,Ac=0;function on(){return We&6?yt():Mc!==-1?Mc:Mc=yt()}function Gs(e){return e.mode&1?We&2&&Bt!==0?Bt&-Bt:mC.transition!==null?(Ac===0&&(Ac=Zy()),Ac):(e=et,e!==0||(e=window.event,e=e===void 0?16:s0(e.type)),e):1}function xr(e,t,n,s){if(50<Ko)throw Ko=0,Pm=null,Error(Z(185));Pl(e,n,s),(!(We&2)||e!==Lt)&&(e===Lt&&(!(We&2)&&(Gd|=n),Tt===4&&Ts(e,Bt)),jn(e,s),n===1&&We===0&&!(t.mode&1)&&(Yi=yt()+500,Vd&&ca()))}function jn(e,t){var n=e.callbackNode;mS(e,t);var s=Gc(e,e===Lt?Bt:0);if(s===0)n!==null&&Rx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Rx(n),t===1)e.tag===0?fC(bg.bind(null,e)):N0(bg.bind(null,e)),lC(function(){!(We&6)&&ca()}),n=null;else{switch(Xy(s)){case 1:n=kh;break;case 4:n=Ky;break;case 16:n=qc;break;case 536870912:n=Qy;break;default:n=qc}n=jw(n,hw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hw(e,t){if(Mc=-1,Ac=0,We&6)throw Error(Z(327));var n=e.callbackNode;if(ki()&&e.callbackNode!==n)return null;var s=Gc(e,e===Lt?Bt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=fd(e,s);else{t=s;var a=We;We|=2;var i=xw();(Lt!==e||Bt!==t)&&(es=null,Yi=yt()+500,Ma(e,t));do try{AC();break}catch(l){pw(e,l)}while(!0);zh(),cd.current=i,We=a,Nt!==null?t=0:(Lt=null,Bt=0,t=Tt)}if(t!==0){if(t===2&&(a=nm(e),a!==0&&(s=a,t=Rm(e,a))),t===1)throw n=hl,Ma(e,0),Ts(e,s),jn(e,yt()),n;if(t===6)Ts(e,s);else{if(a=e.current.alternate,!(s&30)&&!TC(a)&&(t=fd(e,s),t===2&&(i=nm(e),i!==0&&(s=i,t=Rm(e,i))),t===1))throw n=hl,Ma(e,0),Ts(e,s),jn(e,yt()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(Z(345));case 2:ya(e,mn,es);break;case 3:if(Ts(e,s),(s&130023424)===s&&(t=tp+500-yt(),10<t)){if(Gc(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){on(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=dm(ya.bind(null,e,mn,es),t);break}ya(e,mn,es);break;case 4:if(Ts(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-pr(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=yt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*RC(s/1960))-s,10<s){e.timeoutHandle=dm(ya.bind(null,e,mn,es),s);break}ya(e,mn,es);break;case 5:ya(e,mn,es);break;default:throw Error(Z(329))}}}return jn(e,yt()),e.callbackNode===n?hw.bind(null,e):null}function Rm(e,t){var n=Go;return e.current.memoizedState.isDehydrated&&(Ma(e,t).flags|=256),e=fd(e,t),e!==2&&(t=mn,mn=n,t!==null&&Tm(t)),e}function Tm(e){mn===null?mn=e:mn.push.apply(mn,e)}function TC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!vr(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ts(e,t){for(t&=~ep,t&=~Gd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pr(t),s=1<<n;e[n]=-1,t&=~s}}function bg(e){if(We&6)throw Error(Z(327));ki();var t=Gc(e,0);if(!(t&1))return jn(e,yt()),null;var n=fd(e,t);if(e.tag!==0&&n===2){var s=nm(e);s!==0&&(t=s,n=Rm(e,s))}if(n===1)throw n=hl,Ma(e,0),Ts(e,t),jn(e,yt()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ya(e,mn,es),jn(e,yt()),null}function np(e,t){var n=We;We|=1;try{return e(t)}finally{We=n,We===0&&(Yi=yt()+500,Vd&&ca())}}function za(e){Ls!==null&&Ls.tag===0&&!(We&6)&&ki();var t=We;We|=1;var n=Kn.transition,s=et;try{if(Kn.transition=null,et=1,e)return e()}finally{et=s,Kn.transition=n,We=t,!(We&6)&&ca()}}function rp(){En=ji.current,lt(ji)}function Ma(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,oC(n)),Nt!==null)for(n=Nt.return;n!==null;){var s=n;switch(Ih(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Jc();break;case 3:Vi(),lt(yn),lt(en),Yh();break;case 5:Hh(s);break;case 4:Vi();break;case 13:lt(dt);break;case 19:lt(dt);break;case 10:Uh(s.type._context);break;case 22:case 23:rp()}n=n.return}if(Lt=e,Nt=e=Ks(e.current,null),Bt=En=t,Tt=0,hl=null,ep=Gd=$a=0,mn=Go=null,ba!==null){for(t=0;t<ba.length;t++)if(n=ba[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}ba=null}return e}function pw(e,t){do{var n=Nt;try{if(zh(),Pc.current=ld,od){for(var s=ut.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}od=!1}if(La=0,Ot=Pt=ut=null,Yo=!1,ul=0,Jh.current=null,n===null||n.return===null){Tt=1,hl=t,Nt=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=cg(o);if(h!==null){h.flags&=-257,dg(h,o,l,i,t),h.mode&1&&lg(i,d,t),t=h,c=d;var j=t.updateQueue;if(j===null){var g=new Set;g.add(c),t.updateQueue=g}else j.add(c);break e}else{if(!(t&1)){lg(i,d,t),sp();break e}c=Error(Z(426))}}else if(ct&&l.mode&1){var x=cg(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dg(x,o,l,i,t),Lh(Hi(c,l));break e}}i=c=Hi(c,l),Tt!==4&&(Tt=2),Go===null?Go=[i]:Go.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=X0(i,c,t);ng(i,v);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(qs===null||!qs.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=J0(i,l,t);ng(i,b);break e}}i=i.return}while(i!==null)}vw(n)}catch(N){t=N,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function xw(){var e=cd.current;return cd.current=ld,e===null?ld:e}function sp(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Lt===null||!($a&268435455)&&!(Gd&268435455)||Ts(Lt,Bt)}function fd(e,t){var n=We;We|=2;var s=xw();(Lt!==e||Bt!==t)&&(es=null,Ma(e,t));do try{MC();break}catch(a){pw(e,a)}while(!0);if(zh(),We=n,cd.current=s,Nt!==null)throw Error(Z(261));return Lt=null,Bt=0,Tt}function MC(){for(;Nt!==null;)gw(Nt)}function AC(){for(;Nt!==null&&!sS();)gw(Nt)}function gw(e){var t=ww(e.alternate,e,En);e.memoizedProps=e.pendingProps,t===null?vw(e):Nt=t,Jh.current=null}function vw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=CC(n,t),n!==null){n.flags&=32767,Nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,Nt=null;return}}else if(n=SC(n,t,En),n!==null){Nt=n;return}if(t=t.sibling,t!==null){Nt=t;return}Nt=t=e}while(t!==null);Tt===0&&(Tt=5)}function ya(e,t,n){var s=et,a=Kn.transition;try{Kn.transition=null,et=1,OC(e,t,n,s)}finally{Kn.transition=a,et=s}return null}function OC(e,t,n,s){do ki();while(Ls!==null);if(We&6)throw Error(Z(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(hS(e,i),e===Lt&&(Nt=Lt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dc||(dc=!0,jw(qc,function(){return ki(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kn.transition,Kn.transition=null;var o=et;et=1;var l=We;We|=4,Jh.current=null,EC(e,n),fw(n,e),eC(lm),Kc=!!om,lm=om=null,e.current=n,PC(n),aS(),We=l,et=o,Kn.transition=i}else e.current=n;if(dc&&(dc=!1,Ls=e,ud=a),i=e.pendingLanes,i===0&&(qs=null),lS(n.stateNode),jn(e,yt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(dd)throw dd=!1,e=Em,Em=null,e;return ud&1&&e.tag!==0&&ki(),i=e.pendingLanes,i&1?e===Pm?Ko++:(Ko=0,Pm=e):Ko=0,ca(),null}function ki(){if(Ls!==null){var e=Xy(ud),t=Kn.transition,n=et;try{if(Kn.transition=null,et=16>e?16:e,Ls===null)var s=!1;else{if(e=Ls,Ls=null,ud=0,We&6)throw Error(Z(331));var a=We;for(We|=4,fe=e.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(fe=d;fe!==null;){var f=fe;switch(f.tag){case 0:case 11:case 15:qo(8,f,i)}var m=f.child;if(m!==null)m.return=f,fe=m;else for(;fe!==null;){f=fe;var p=f.sibling,h=f.return;if(cw(f),f===d){fe=null;break}if(p!==null){p.return=h,fe=p;break}fe=h}}}var j=i.alternate;if(j!==null){var g=j.child;if(g!==null){j.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,fe=v;break e}fe=i.return}}var y=e.current;for(fe=y;fe!==null;){o=fe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,fe=w;else e:for(o=y;fe!==null;){if(l=fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qd(9,l)}}catch(N){pt(l,l.return,N)}if(l===o){fe=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,fe=b;break e}fe=l.return}}if(We=a,ca(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot($d,e)}catch{}s=!0}return s}finally{et=n,Kn.transition=t}}return!1}function Ng(e,t,n){t=Hi(n,t),t=X0(e,t,1),e=Ys(e,t,1),t=on(),e!==null&&(Pl(e,1,t),jn(e,t))}function pt(e,t,n){if(e.tag===3)Ng(e,e,n);else for(;t!==null;){if(t.tag===3){Ng(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(qs===null||!qs.has(s))){e=Hi(n,e),e=J0(t,e,1),t=Ys(t,e,1),e=on(),t!==null&&(Pl(t,1,e),jn(t,e));break}}t=t.return}}function DC(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=on(),e.pingedLanes|=e.suspendedLanes&n,Lt===e&&(Bt&n)===n&&(Tt===4||Tt===3&&(Bt&130023424)===Bt&&500>yt()-tp?Ma(e,0):ep|=n),jn(e,t)}function yw(e,t){t===0&&(e.mode&1?(t=ec,ec<<=1,!(ec&130023424)&&(ec=4194304)):t=1);var n=on();e=us(e,t),e!==null&&(Pl(e,t,n),jn(e,n))}function FC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yw(e,n)}function IC(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Z(314))}s!==null&&s.delete(t),yw(e,n)}var ww;ww=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yn.current)hn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return hn=!1,_C(e,t,n);hn=!!(e.flags&131072)}else hn=!1,ct&&t.flags&1048576&&_0(t,nd,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Tc(e,t),e=t.pendingProps;var a=Ui(t,en.current);Ci(t,n),a=Gh(null,t,s,e,a,n);var i=Kh();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wn(s)?(i=!0,ed(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Wh(t),a.updater=Yd,t.stateNode=a,a._reactInternals=t,gm(t,s,e,n),t=wm(null,t,s,!0,i,n)):(t.tag=0,ct&&i&&Fh(t),rn(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Tc(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=$C(s),e=lr(s,e),a){case 0:t=ym(null,t,s,e,n);break e;case 1:t=mg(null,t,s,e,n);break e;case 11:t=ug(null,t,s,e,n);break e;case 14:t=fg(null,t,s,lr(s.type,e),n);break e}throw Error(Z(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:lr(s,a),ym(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:lr(s,a),mg(e,t,s,a,n);case 3:e:{if(rw(t),e===null)throw Error(Z(387));s=t.pendingProps,i=t.memoizedState,a=i.element,R0(e,t),ad(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Hi(Error(Z(423)),t),t=hg(e,t,s,n,a);break e}else if(s!==a){a=Hi(Error(Z(424)),t),t=hg(e,t,s,n,a);break e}else for(Rn=Hs(t.stateNode.containerInfo.firstChild),Mn=t,ct=!0,mr=null,n=E0(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bi(),s===a){t=fs(e,t,n);break e}rn(e,t,s,n)}t=t.child}return t;case 5:return T0(t),e===null&&hm(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,cm(s,a)?o=null:i!==null&&cm(s,i)&&(t.flags|=32),nw(e,t),rn(e,t,o,n),t.child;case 6:return e===null&&hm(t),null;case 13:return sw(e,t,n);case 4:return Vh(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Wi(t,null,s,n):rn(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:lr(s,a),ug(e,t,s,a,n);case 7:return rn(e,t,t.pendingProps,n),t.child;case 8:return rn(e,t,t.pendingProps.children,n),t.child;case 12:return rn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,st(rd,s._currentValue),s._currentValue=o,i!==null)if(vr(i.value,o)){if(i.children===a.children&&!yn.current){t=fs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=os(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),pm(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pm(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}rn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Ci(t,n),a=Qn(a),s=s(a),t.flags|=1,rn(e,t,s,n),t.child;case 14:return s=t.type,a=lr(s,t.pendingProps),a=lr(s.type,a),fg(e,t,s,a,n);case 15:return ew(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:lr(s,a),Tc(e,t),t.tag=1,wn(s)?(e=!0,ed(t)):e=!1,Ci(t,n),Z0(t,s,a),gm(t,s,a,n),wm(null,t,s,!0,e,n);case 19:return aw(e,t,n);case 22:return tw(e,t,n)}throw Error(Z(156,t.tag))};function jw(e,t){return Gy(e,t)}function LC(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,t,n,s){return new LC(e,t,n,s)}function ap(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $C(e){if(typeof e=="function")return ap(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_h)return 11;if(e===Sh)return 14}return 2}function Ks(e,t){var n=e.alternate;return n===null?(n=Gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,s,a,i){var o=2;if(s=e,typeof e=="function")ap(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ui:return Aa(n.children,a,i,t);case Nh:o=8,a|=8;break;case Uf:return e=Gn(12,n,t,a|2),e.elementType=Uf,e.lanes=i,e;case Bf:return e=Gn(13,n,t,a),e.elementType=Bf,e.lanes=i,e;case Wf:return e=Gn(19,n,t,a),e.elementType=Wf,e.lanes=i,e;case Ty:return Kd(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Py:o=10;break e;case Ry:o=9;break e;case _h:o=11;break e;case Sh:o=14;break e;case ks:o=16,s=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Gn(o,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function Aa(e,t,n,s){return e=Gn(7,e,s,t),e.lanes=n,e}function Kd(e,t,n,s){return e=Gn(22,e,s,t),e.elementType=Ty,e.lanes=n,e.stateNode={isHidden:!1},e}function ff(e,t,n){return e=Gn(6,e,null,t),e.lanes=n,e}function mf(e,t,n){return t=Gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zC(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yu(0),this.expirationTimes=Yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yu(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ip(e,t,n,s,a,i,o,l,c){return e=new zC(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Gn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wh(i),e}function UC(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:di,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function bw(e){if(!e)return ea;e=e._reactInternals;e:{if(Ja(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(wn(n))return b0(e,n,t)}return t}function Nw(e,t,n,s,a,i,o,l,c){return e=ip(n,s,!0,e,a,i,o,l,c),e.context=bw(null),n=e.current,s=on(),a=Gs(n),i=os(s,a),i.callback=t??null,Ys(n,i,a),e.current.lanes=a,Pl(e,a,s),jn(e,s),e}function Qd(e,t,n,s){var a=t.current,i=on(),o=Gs(a);return n=bw(n),t.context===null?t.context=n:t.pendingContext=n,t=os(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ys(a,t,o),e!==null&&(xr(e,a,o,i),Ec(e,a,o)),o}function md(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _g(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function op(e,t){_g(e,t),(e=e.alternate)&&_g(e,t)}function BC(){return null}var _w=typeof reportError=="function"?reportError:function(e){console.error(e)};function lp(e){this._internalRoot=e}Zd.prototype.render=lp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Qd(e,t,null,null)};Zd.prototype.unmount=lp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;za(function(){Qd(null,e,null,null)}),t[ds]=null}};function Zd(e){this._internalRoot=e}Zd.prototype.unstable_scheduleHydration=function(e){if(e){var t=t0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rs.length&&t!==0&&t<Rs[n].priority;n++);Rs.splice(n,0,e),n===0&&r0(e)}};function cp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sg(){}function WC(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=md(o);i.call(d)}}var o=Nw(t,s,e,0,null,!1,!1,"",Sg);return e._reactRootContainer=o,e[ds]=o.current,il(e.nodeType===8?e.parentNode:e),za(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=md(c);l.call(d)}}var c=ip(e,0,!1,null,null,!1,!1,"",Sg);return e._reactRootContainer=c,e[ds]=c.current,il(e.nodeType===8?e.parentNode:e),za(function(){Qd(t,c,n,s)}),c}function Jd(e,t,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=md(o);l.call(c)}}Qd(t,o,e,a)}else o=WC(n,t,e,a,s);return md(o)}Jy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Do(t.pendingLanes);n!==0&&(Eh(t,n|1),jn(t,yt()),!(We&6)&&(Yi=yt()+500,ca()))}break;case 13:za(function(){var s=us(e,1);if(s!==null){var a=on();xr(s,e,1,a)}}),op(e,1)}};Ph=function(e){if(e.tag===13){var t=us(e,134217728);if(t!==null){var n=on();xr(t,e,134217728,n)}op(e,134217728)}};e0=function(e){if(e.tag===13){var t=Gs(e),n=us(e,t);if(n!==null){var s=on();xr(n,e,t,s)}op(e,t)}};t0=function(){return et};n0=function(e,t){var n=et;try{return et=e,t()}finally{et=n}};Jf=function(e,t,n){switch(t){case"input":if(Yf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=Wd(s);if(!a)throw Error(Z(90));Ay(s),Yf(s,a)}}}break;case"textarea":Dy(e,n);break;case"select":t=n.value,t!=null&&bi(e,!!n.multiple,t,!1)}};By=np;Wy=za;var VC={usingClientEntryPoint:!1,Events:[Tl,pi,Wd,zy,Uy,np]},ko={findFiberByHostInstance:ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HC={bundleType:ko.bundleType,version:ko.version,rendererPackageName:ko.rendererPackageName,rendererConfig:ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yy(e),e===null?null:e.stateNode},findFiberByHostInstance:ko.findFiberByHostInstance||BC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{$d=uc.inject(HC),Ur=uc}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VC;$n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cp(t))throw Error(Z(200));return UC(e,t,null,n)};$n.createRoot=function(e,t){if(!cp(e))throw Error(Z(299));var n=!1,s="",a=_w;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ip(e,1,!1,null,null,n,!1,s,a),e[ds]=t.current,il(e.nodeType===8?e.parentNode:e),new lp(t)};$n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=Yy(t),e=e===null?null:e.stateNode,e};$n.flushSync=function(e){return za(e)};$n.hydrate=function(e,t,n){if(!Xd(t))throw Error(Z(200));return Jd(null,e,t,!0,n)};$n.hydrateRoot=function(e,t,n){if(!cp(e))throw Error(Z(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=_w;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Nw(t,null,e,1,n??null,a,!1,i,o),e[ds]=t.current,il(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Zd(t)};$n.render=function(e,t,n){if(!Xd(t))throw Error(Z(200));return Jd(null,e,t,!1,n)};$n.unmountComponentAtNode=function(e){if(!Xd(e))throw Error(Z(40));return e._reactRootContainer?(za(function(){Jd(null,null,e,!1,function(){e._reactRootContainer=null,e[ds]=null})}),!0):!1};$n.unstable_batchedUpdates=np;$n.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Xd(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Jd(e,t,n,!1,s)};$n.version="18.3.1-next-f1338f8080-20240426";function Sw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sw)}catch(e){console.error(e)}}Sw(),Sy.exports=$n;var ei=Sy.exports;const Cw=my(ei);var kw,Cg=ei;kw=Cg.createRoot,Cg.hydrateRoot;const YC=1,qC=1e6;let hf=0;function GC(){return hf=(hf+1)%Number.MAX_SAFE_INTEGER,hf.toString()}const pf=new Map,kg=e=>{if(pf.has(e))return;const t=setTimeout(()=>{pf.delete(e),Qo({type:"REMOVE_TOAST",toastId:e})},qC);pf.set(e,t)},KC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,YC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?kg(n):e.toasts.forEach(s=>{kg(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Dc=[];let Fc={toasts:[]};function Qo(e){Fc=KC(Fc,e),Dc.forEach(t=>{t(Fc)})}function QC({...e}){const t=GC(),n=a=>Qo({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Qo({type:"DISMISS_TOAST",toastId:t});return Qo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function Et(){const[e,t]=u.useState(Fc);return u.useEffect(()=>(Dc.push(t),()=>{const n=Dc.indexOf(t);n>-1&&Dc.splice(n,1)}),[e]),{...e,toast:QC,dismiss:n=>Qo({type:"DISMISS_TOAST",toastId:n})}}function me(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Eg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ew(...e){return t=>{let n=!1;const s=e.map(a=>{const i=Eg(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():Eg(e[a],null)}}}}function Oe(...e){return u.useCallback(Ew(...e),e)}function ZC(e,t){const n=u.createContext(t),s=i=>{const{children:o,...l}=i,c=u.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=u.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Xn(e,t=[]){let n=[];function s(i,o){const l=u.createContext(o),c=n.length;n=[...n,o];const d=m=>{var v;const{scope:p,children:h,...j}=m,g=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,x=u.useMemo(()=>j,Object.values(j));return r.jsx(g.Provider,{value:x,children:h})};d.displayName=i+"Provider";function f(m,p){var g;const h=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,j=u.useContext(h);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,f]}const a=()=>{const i=n.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,XC(a,...t)]}function XC(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ua(e){const t=e2(e),n=u.forwardRef((s,a)=>{const{children:i,...o}=s,l=u.Children.toArray(i),c=l.find(n2);if(c){const d=c.props.children,f=l.map(m=>m===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:m);return r.jsx(t,{...o,ref:a,children:u.isValidElement(d)?u.cloneElement(d,void 0,f):null})}return r.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var JC=Ua("Slot");function e2(e){const t=u.forwardRef((n,s)=>{const{children:a,...i}=n;if(u.isValidElement(a)){const o=s2(a),l=r2(i,a.props);return a.type!==u.Fragment&&(l.ref=s?Ew(s,o):o),u.cloneElement(a,l)}return u.Children.count(a)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Pw=Symbol("radix.slottable");function t2(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Pw,t}function n2(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Pw}function r2(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function s2(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function dp(e){const t=e+"CollectionProvider",[n,s]=Xn(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:v}=g,y=te.useRef(null),w=te.useRef(new Map).current;return r.jsx(a,{scope:x,itemMap:w,collectionRef:y,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=Ua(l),d=te.forwardRef((g,x)=>{const{scope:v,children:y}=g,w=i(l,v),b=Oe(x,w.collectionRef);return r.jsx(c,{ref:b,children:y})});d.displayName=l;const f=e+"CollectionItemSlot",m="data-radix-collection-item",p=Ua(f),h=te.forwardRef((g,x)=>{const{scope:v,children:y,...w}=g,b=te.useRef(null),N=Oe(x,b),S=i(f,v);return te.useEffect(()=>(S.itemMap.set(b,{ref:b,...w}),()=>void S.itemMap.delete(b))),r.jsx(p,{[m]:"",ref:N,children:y})});h.displayName=f;function j(g){const x=i(e+"CollectionConsumer",g);return te.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${m}]`));return Array.from(x.itemMap.values()).sort((S,C)=>w.indexOf(S.ref.current)-w.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:h},j,s]}var a2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_e=a2.reduce((e,t)=>{const n=Ua(`Primitive.${t}`),s=u.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Rw(e,t){e&&ei.flushSync(()=>e.dispatchEvent(t))}function Rt(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function i2(e,t=globalThis==null?void 0:globalThis.document){const n=Rt(e);u.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var o2="DismissableLayer",Mm="dismissableLayer.update",l2="dismissableLayer.pointerDownOutside",c2="dismissableLayer.focusOutside",Pg,Tw=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),co=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=u.useContext(Tw),[f,m]=u.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=u.useState({}),j=Oe(t,C=>m(C)),g=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(x),y=f?g.indexOf(f):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,b=y>=v,N=u2(C=>{const k=C.target,T=[...d.branches].some(_=>_.contains(k));!b||T||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},p),S=f2(C=>{const k=C.target;[...d.branches].some(_=>_.contains(k))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},p);return i2(C=>{y===d.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),u.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Pg=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Rg(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Pg)}},[f,p,n,d]),u.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Rg())},[f,d]),u.useEffect(()=>{const C=()=>h({});return document.addEventListener(Mm,C),()=>document.removeEventListener(Mm,C)},[]),r.jsx(_e.div,{...c,ref:j,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:me(e.onFocusCapture,S.onFocusCapture),onBlurCapture:me(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:me(e.onPointerDownCapture,N.onPointerDownCapture)})});co.displayName=o2;var d2="DismissableLayerBranch",Mw=u.forwardRef((e,t)=>{const n=u.useContext(Tw),s=u.useRef(null),a=Oe(t,s);return u.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(_e.div,{...e,ref:a})});Mw.displayName=d2;function u2(e,t=globalThis==null?void 0:globalThis.document){const n=Rt(e),s=u.useRef(!1),a=u.useRef(()=>{});return u.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){Aw(l2,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function f2(e,t=globalThis==null?void 0:globalThis.document){const n=Rt(e),s=u.useRef(!1);return u.useEffect(()=>{const a=i=>{i.target&&!s.current&&Aw(c2,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Rg(){const e=new CustomEvent(Mm);document.dispatchEvent(e)}function Aw(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?Rw(a,i):a.dispatchEvent(i)}var m2=co,h2=Mw,$t=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},p2="Portal",Al=u.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[a,i]=u.useState(!1);$t(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Cw.createPortal(r.jsx(_e.div,{...s,ref:t}),o):null});Al.displayName=p2;function x2(e,t){return u.useReducer((n,s)=>t[n][s]??n,e)}var Un=e=>{const{present:t,children:n}=e,s=g2(t),a=typeof n=="function"?n({present:s.isPresent}):u.Children.only(n),i=Oe(s.ref,v2(a));return typeof n=="function"||s.isPresent?u.cloneElement(a,{ref:i}):null};Un.displayName="Presence";function g2(e){const[t,n]=u.useState(),s=u.useRef(null),a=u.useRef(e),i=u.useRef("none"),o=e?"mounted":"unmounted",[l,c]=x2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=fc(s.current);i.current=l==="mounted"?d:"none"},[l]),$t(()=>{const d=s.current,f=a.current;if(f!==e){const p=i.current,h=fc(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&p!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),$t(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,m=h=>{const g=fc(s.current).includes(h.animationName);if(h.target===t&&g&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=h=>{h.target===t&&(i.current=fc(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function fc(e){return(e==null?void 0:e.animationName)||"none"}function v2(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var y2=yh[" useInsertionEffect ".trim().toString()]||$t;function ta({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,o]=w2({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const f=u.useRef(e!==void 0);u.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,s])}const d=u.useCallback(f=>{var m;if(l){const p=j2(f)?f(e):f;p!==e&&((m=o.current)==null||m.call(o,p))}else i(f)},[l,e,i,o]);return[c,d]}function w2({defaultProp:e,onChange:t}){const[n,s]=u.useState(e),a=u.useRef(n),i=u.useRef(t);return y2(()=>{i.current=t},[t]),u.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,s,i]}function j2(e){return typeof e=="function"}var Ow=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),b2="VisuallyHidden",eu=u.forwardRef((e,t)=>r.jsx(_e.span,{...e,ref:t,style:{...Ow,...e.style}}));eu.displayName=b2;var N2=eu,up="ToastProvider",[fp,_2,S2]=dp("Toast"),[Dw,L3]=Xn("Toast",[S2]),[C2,tu]=Dw(up),Fw=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=u.useState(null),[d,f]=u.useState(0),m=u.useRef(!1),p=u.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${up}\`. Expected non-empty \`string\`.`),r.jsx(fp.Provider,{scope:t,children:r.jsx(C2,{scope:t,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>f(h=>h+1),[]),onToastRemove:u.useCallback(()=>f(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:o})})};Fw.displayName=up;var Iw="ToastViewport",k2=["F8"],Am="toast.viewportPause",Om="toast.viewportResume",Lw=u.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=k2,label:a="Notifications ({hotkey})",...i}=e,o=tu(Iw,n),l=_2(n),c=u.useRef(null),d=u.useRef(null),f=u.useRef(null),m=u.useRef(null),p=Oe(t,m,o.onViewportChange),h=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;u.useEffect(()=>{const x=v=>{var w;s.length!==0&&s.every(b=>v[b]||v.code===b)&&((w=m.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[s]),u.useEffect(()=>{const x=c.current,v=m.current;if(j&&x&&v){const y=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Am);v.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Om);v.dispatchEvent(S),o.isClosePausedRef.current=!1}},b=S=>{!x.contains(S.relatedTarget)&&w()},N=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",y),x.addEventListener("focusout",b),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",b),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[j,o.isClosePausedRef]);const g=u.useCallback(({tabbingDirection:x})=>{const y=l().map(w=>{const b=w.ref.current,N=[b,...z2(b)];return x==="forwards"?N:N.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return u.useEffect(()=>{const x=m.current;if(x){const v=y=>{var N,S,C;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const k=document.activeElement,T=y.shiftKey;if(y.target===x&&T){(N=d.current)==null||N.focus();return}const A=g({tabbingDirection:T?"backwards":"forwards"}),$=A.findIndex(M=>M===k);xf(A.slice($+1))?y.preventDefault():T?(S=d.current)==null||S.focus():(C=f.current)==null||C.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[l,g]),r.jsxs(h2,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&r.jsx(Dm,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});xf(x)}}),r.jsx(fp.Slot,{scope:n,children:r.jsx(_e.ol,{tabIndex:-1,...i,ref:p})}),j&&r.jsx(Dm,{ref:f,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});xf(x)}})]})});Lw.displayName=Iw;var $w="ToastFocusProxy",Dm=u.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,i=tu($w,n);return r.jsx(eu,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});Dm.displayName=$w;var Ol="Toast",E2="toast.swipeStart",P2="toast.swipeMove",R2="toast.swipeCancel",T2="toast.swipeEnd",zw=u.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=ta({prop:s,defaultProp:a??!0,onChange:i,caller:Ol});return r.jsx(Un,{present:n||l,children:r.jsx(O2,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Rt(e.onPause),onResume:Rt(e.onResume),onSwipeStart:me(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(e.onSwipeMove,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:me(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(e.onSwipeEnd,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});zw.displayName=Ol;var[M2,A2]=Dw(Ol,{onClose(){}}),O2=u.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:h,...j}=e,g=tu(Ol,n),[x,v]=u.useState(null),y=Oe(t,M=>v(M)),w=u.useRef(null),b=u.useRef(null),N=a||g.duration,S=u.useRef(0),C=u.useRef(N),k=u.useRef(0),{onToastAdd:T,onToastRemove:_}=g,P=Rt(()=>{var K;(x==null?void 0:x.contains(document.activeElement))&&((K=g.viewport)==null||K.focus()),o()}),A=u.useCallback(M=>{!M||M===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(P,M))},[P]);u.useEffect(()=>{const M=g.viewport;if(M){const K=()=>{A(C.current),d==null||d()},U=()=>{const O=new Date().getTime()-S.current;C.current=C.current-O,window.clearTimeout(k.current),c==null||c()};return M.addEventListener(Am,U),M.addEventListener(Om,K),()=>{M.removeEventListener(Am,U),M.removeEventListener(Om,K)}}},[g.viewport,N,c,d,A]),u.useEffect(()=>{i&&!g.isClosePausedRef.current&&A(N)},[i,N,g.isClosePausedRef,A]),u.useEffect(()=>(T(),()=>_()),[T,_]);const $=u.useMemo(()=>x?qw(x):null,[x]);return g.viewport?r.jsxs(r.Fragment,{children:[$&&r.jsx(D2,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),r.jsx(M2,{scope:n,onClose:P,children:ei.createPortal(r.jsx(fp.ItemSlot,{scope:n,children:r.jsx(m2,{asChild:!0,onEscapeKeyDown:me(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||P(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(_e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...j,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:me(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:me(e.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:me(e.onPointerMove,M=>{if(!w.current)return;const K=M.clientX-w.current.x,U=M.clientY-w.current.y,O=!!b.current,R=["left","right"].includes(g.swipeDirection),F=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,D=R?F(0,K):0,X=R?0:F(0,U),ne=M.pointerType==="touch"?10:2,ve={x:D,y:X},z={originalEvent:M,delta:ve};O?(b.current=ve,mc(P2,m,z,{discrete:!1})):Tg(ve,g.swipeDirection,ne)?(b.current=ve,mc(E2,f,z,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(K)>ne||Math.abs(U)>ne)&&(w.current=null)}),onPointerUp:me(e.onPointerUp,M=>{const K=b.current,U=M.target;if(U.hasPointerCapture(M.pointerId)&&U.releasePointerCapture(M.pointerId),b.current=null,w.current=null,K){const O=M.currentTarget,R={originalEvent:M,delta:K};Tg(K,g.swipeDirection,g.swipeThreshold)?mc(T2,h,R,{discrete:!0}):mc(R2,p,R,{discrete:!0}),O.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),D2=e=>{const{__scopeToast:t,children:n,...s}=e,a=tu(Ol,t),[i,o]=u.useState(!1),[l,c]=u.useState(!1);return L2(()=>o(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(Al,{asChild:!0,children:r.jsx(eu,{...s,children:i&&r.jsxs(r.Fragment,{children:[a.label," ",n]})})})},F2="ToastTitle",Uw=u.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(_e.div,{...s,ref:t})});Uw.displayName=F2;var I2="ToastDescription",Bw=u.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(_e.div,{...s,ref:t})});Bw.displayName=I2;var Ww="ToastAction",Vw=u.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(Yw,{altText:n,asChild:!0,children:r.jsx(mp,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ww}\`. Expected non-empty \`string\`.`),null)});Vw.displayName=Ww;var Hw="ToastClose",mp=u.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,a=A2(Hw,n);return r.jsx(Yw,{asChild:!0,children:r.jsx(_e.button,{type:"button",...s,ref:t,onClick:me(e.onClick,a.onClose)})})});mp.displayName=Hw;var Yw=u.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...a}=e;return r.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function qw(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),$2(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...qw(s))}}),t}function mc(e,t,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?Rw(a,i):a.dispatchEvent(i)}var Tg=(e,t,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>n:!i&&a>n};function L2(e=()=>{}){const t=Rt(e);$t(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function $2(e){return e.nodeType===e.ELEMENT_NODE}function z2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var U2=Fw,Gw=Lw,Kw=zw,Qw=Uw,Zw=Bw,Xw=Vw,Jw=mp;function ej(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=ej(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function tj(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=ej(e))&&(s&&(s+=" "),s+=t);return s}const Mg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ag=tj,nu=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Ag(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const f=n==null?void 0:n[d],m=i==null?void 0:i[d];if(f===null)return null;const p=Mg(f)||Mg(m);return a[d][p]}),l=n&&Object.entries(n).reduce((d,f)=>{let[m,p]=f;return p===void 0||(d[m]=p),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,f)=>{let{class:m,className:p,...h}=f;return Object.entries(h).every(j=>{let[g,x]=j;return Array.isArray(x)?x.includes({...i,...l}[g]):{...i,...l}[g]===x})?[...d,m,p]:d},[]);return Ag(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nj=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>u.createElement("svg",{ref:c,...W2,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:nj("lucide",a),...l},[...o.map(([d,f])=>u.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const n=u.forwardRef(({className:s,...a},i)=>u.createElement(V2,{ref:i,iconNode:t,className:nj(`lucide-${B2(e)}`,s),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=he("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=he("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=he("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=he("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=he("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=he("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=he("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=he("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=he("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=he("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=he("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=he("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=he("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=he("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=he("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=he("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=he("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=he("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=he("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=he("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=he("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=he("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wp="-",rk=e=>{const t=ak(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(wp);return l[0]===""&&l.length!==1&&l.shift(),fj(l,t)||sk(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},fj=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?fj(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(wp);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Fg=/^\[(.+)\]$/,sk=e=>{if(Fg.test(e)){const t=Fg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ak=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return ok(Object.entries(e.classGroups),n).forEach(([i,o])=>{Im(o,s,i,t)}),s},Im=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Ig(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(ik(a)){Im(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{Im(o,Ig(t,i),n,s)})})},Ig=(e,t)=>{let n=e;return t.split(wp).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},ik=e=>e.isThemeGetter,ok=(e,t)=>t?e.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,lk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},mj="!",ck=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,f=0,m;for(let x=0;x<l.length;x++){let v=l[x];if(d===0){if(v===a&&(s||l.slice(x,x+i)===t)){c.push(l.slice(f,x)),f=x+i;continue}if(v==="/"){m=x;continue}}v==="["?d++:v==="]"&&d--}const p=c.length===0?l:l.substring(f),h=p.startsWith(mj),j=h?p.substring(1):p,g=m&&m>f?m-f:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:j,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},dk=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},uk=e=>({cache:lk(e.cacheSize),parseClassName:ck(e),...rk(e)}),fk=/\s+/,mk=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(fk);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:h}=n(d);let j=!!h,g=s(j?p.substring(0,h):p);if(!g){if(!j){l=d+(l.length>0?" "+l:l);continue}if(g=s(p),!g){l=d+(l.length>0?" "+l:l);continue}j=!1}const x=dk(f).join(":"),v=m?x+mj:x,y=v+g;if(i.includes(y))continue;i.push(y);const w=a(g,j);for(let b=0;b<w.length;++b){const N=w[b];i.push(v+N)}l=d+(l.length>0?" "+l:l)}return l};function hk(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=hj(t))&&(s&&(s+=" "),s+=n);return s}const hj=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=hj(e[s]))&&(n&&(n+=" "),n+=t);return n};function pk(e,...t){let n,s,a,i=o;function o(c){const d=t.reduce((f,m)=>m(f),e());return n=uk(d),s=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const f=mk(c,n);return a(c,f),f}return function(){return i(hk.apply(null,arguments))}}const it=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},pj=/^\[(?:([a-z-]+):)?(.+)\]$/i,xk=/^\d+\/\d+$/,gk=new Set(["px","full","screen"]),vk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zr=e=>Ei(e)||gk.has(e)||xk.test(e),js=e=>uo(e,"length",Rk),Ei=e=>!!e&&!Number.isNaN(Number(e)),vf=e=>uo(e,"number",Ei),Po=e=>!!e&&Number.isInteger(Number(e)),Nk=e=>e.endsWith("%")&&Ei(e.slice(0,-1)),Ae=e=>pj.test(e),bs=e=>vk.test(e),_k=new Set(["length","size","percentage"]),Sk=e=>uo(e,_k,xj),Ck=e=>uo(e,"position",xj),kk=new Set(["image","url"]),Ek=e=>uo(e,kk,Mk),Pk=e=>uo(e,"",Tk),Ro=()=>!0,uo=(e,t,n)=>{const s=pj.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},Rk=e=>yk.test(e)&&!wk.test(e),xj=()=>!1,Tk=e=>jk.test(e),Mk=e=>bk.test(e),Ak=()=>{const e=it("colors"),t=it("spacing"),n=it("blur"),s=it("brightness"),a=it("borderColor"),i=it("borderRadius"),o=it("borderSpacing"),l=it("borderWidth"),c=it("contrast"),d=it("grayscale"),f=it("hueRotate"),m=it("invert"),p=it("gap"),h=it("gradientColorStops"),j=it("gradientColorStopPositions"),g=it("inset"),x=it("margin"),v=it("opacity"),y=it("padding"),w=it("saturate"),b=it("scale"),N=it("sepia"),S=it("skew"),C=it("space"),k=it("translate"),T=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Ae,t],A=()=>[Ae,t],$=()=>["",Zr,js],M=()=>["auto",Ei,Ae],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Ae],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Ei,Ae];return{cacheSize:500,separator:":",theme:{colors:[Ro],spacing:[Zr,js],blur:["none","",bs,Ae],brightness:X(),borderColor:[e],borderRadius:["none","","full",bs,Ae],borderSpacing:A(),borderWidth:$(),contrast:X(),grayscale:F(),hueRotate:X(),invert:F(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[Nk,js],inset:P(),margin:P(),opacity:X(),padding:A(),saturate:X(),scale:X(),sepia:F(),skew:X(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[bs]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Ae]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Po,Ae]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Po,Ae]}],"grid-cols":[{"grid-cols":[Ro]}],"col-start-end":[{col:["auto",{span:["full",Po,Ae]},Ae]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Ro]}],"row-start-end":[{row:["auto",{span:[Po,Ae]},Ae]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,t]}],"min-w":[{"min-w":[Ae,t,"min","max","fit"]}],"max-w":[{"max-w":[Ae,t,"none","full","min","max","fit","prose",{screen:[bs]},bs]}],h:[{h:[Ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",bs,js]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vf]}],"font-family":[{font:[Ro]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",Ei,vf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zr,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zr,js]}],"underline-offset":[{"underline-offset":["auto",Zr,Ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),Ck]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Sk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ek]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:U()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Zr,Ae]}],"outline-w":[{outline:[Zr,js]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Zr,js]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",bs,Pk]}],"shadow-color":[{shadow:[Ro]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",bs,Ae]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Po,Ae]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Zr,js,vf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ok=pk(Ak);function ye(...e){return Ok(tj(e))}const Dk=U2,gj=u.forwardRef(({className:e,...t},n)=>r.jsx(Gw,{ref:n,className:ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));gj.displayName=Gw.displayName;const Fk=nu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vj=u.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(Kw,{ref:s,className:ye(Fk({variant:t}),e),...n}));vj.displayName=Kw.displayName;const Ik=u.forwardRef(({className:e,...t},n)=>r.jsx(Xw,{ref:n,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));Ik.displayName=Xw.displayName;const yj=u.forwardRef(({className:e,...t},n)=>r.jsx(Jw,{ref:n,className:ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(Da,{className:"h-4 w-4"})}));yj.displayName=Jw.displayName;const wj=u.forwardRef(({className:e,...t},n)=>r.jsx(Qw,{ref:n,className:ye("text-sm font-semibold",e),...t}));wj.displayName=Qw.displayName;const jj=u.forwardRef(({className:e,...t},n)=>r.jsx(Zw,{ref:n,className:ye("text-sm opacity-90",e),...t}));jj.displayName=Zw.displayName;function Lk(){const{toasts:e}=Et();return r.jsxs(Dk,{children:[e.map(function({id:t,title:n,description:s,action:a,...i}){return r.jsxs(vj,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(wj,{children:n}),s&&r.jsx(jj,{children:s})]}),a,r.jsx(yj,{})]},t)}),r.jsx(gj,{})]})}var Lg=["light","dark"],$k="(prefers-color-scheme: dark)",zk=u.createContext(void 0),Uk={setTheme:e=>{},themes:[]},Bk=()=>{var e;return(e=u.useContext(zk))!=null?e:Uk};u.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(j=>`'${j}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=a?Lg.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(j,g=!1,x=!0)=>{let v=o?o[j]:j,y=g?j+"|| ''":`'${v}'`,w="";return a&&x&&!g&&Lg.includes(j)&&(w+=`d.style.colorScheme = '${j}';`),n==="class"?g||v?w+=`c.add(${y})`:w+="null":v&&(w+=`d[s](n,${y})`),w},h=e?`!function(){${f}${p(e)}}()`:s?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${$k}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${d?"":"else{"+p(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${m}}catch(t){}}();`;return u.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})});var Wk=e=>{switch(e){case"success":return Yk;case"info":return Gk;case"warning":return qk;case"error":return Kk;default:return null}},Vk=Array(12).fill(0),Hk=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},Vk.map((n,s)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Yk=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qk=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Gk=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Kk=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Qk=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Zk=()=>{let[e,t]=te.useState(document.hidden);return te.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Lm=1,Xk=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Lm++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=n!==void 0,i,o=s.then(async c=>{if(i=["resolve",c],te.isValidElement(c))a=!1,this.create({id:n,type:"default",message:c});else if(eE(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:d,description:f})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var c;a&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Lm++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},fn=new Xk,Jk=(e,t)=>{let n=(t==null?void 0:t.id)||Lm++;return fn.addToast({title:e,...t,id:n}),n},eE=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",tE=Jk,nE=()=>fn.toasts,rE=()=>fn.getActiveToasts();Object.assign(tE,{success:fn.success,info:fn.info,warning:fn.warning,error:fn.error,custom:fn.custom,message:fn.message,promise:fn.promise,dismiss:fn.dismiss,loading:fn.loading},{getHistory:nE,getToasts:rE});function sE(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}sE(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function pc(e){return e.label!==void 0}var aE=3,iE="32px",oE="16px",$g=4e3,lE=356,cE=14,dE=20,uE=200;function ar(...e){return e.filter(Boolean).join(" ")}function fE(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var mE=e=>{var t,n,s,a,i,o,l,c,d,f,m;let{invert:p,toast:h,unstyled:j,interacting:g,setHeights:x,visibleToasts:v,heights:y,index:w,toasts:b,expanded:N,removeToast:S,defaultRichColors:C,closeButton:k,style:T,cancelButtonStyle:_,actionButtonStyle:P,className:A="",descriptionClassName:$="",duration:M,position:K,gap:U,loadingIcon:O,expandByDefault:R,classNames:F,icons:D,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:ne}=e,[ve,z]=te.useState(null),[ue,oe]=te.useState(null),[W,Ce]=te.useState(!1),[I,J]=te.useState(!1),[ie,we]=te.useState(!1),[V,je]=te.useState(!1),[Ke,L]=te.useState(!1),[Ne,Le]=te.useState(0),[vt,tn]=te.useState(0),Bn=te.useRef(h.duration||M||$g),_r=te.useRef(null),Wn=te.useRef(null),Sr=w===0,Wl=w+1<=v,Vt=h.type,ke=h.dismissible!==!1,At=h.className||"",Au=h.descriptionClassName||"",Cr=te.useMemo(()=>y.findIndex(Ee=>Ee.toastId===h.id)||0,[y,h.id]),Ou=te.useMemo(()=>{var Ee;return(Ee=h.closeButton)!=null?Ee:k},[h.closeButton,k]),ti=te.useMemo(()=>h.duration||M||$g,[h.duration,M]),xa=te.useRef(0),Kr=te.useRef(0),ni=te.useRef(0),_n=te.useRef(null),[Vl,Du]=K.split("-"),ri=te.useMemo(()=>y.reduce((Ee,Qe,tt)=>tt>=Cr?Ee:Ee+Qe.height,0),[y,Cr]),vo=Zk(),Hl=h.invert||p,yo=Vt==="loading";Kr.current=te.useMemo(()=>Cr*U+ri,[Cr,ri]),te.useEffect(()=>{Bn.current=ti},[ti]),te.useEffect(()=>{Ce(!0)},[]),te.useEffect(()=>{let Ee=Wn.current;if(Ee){let Qe=Ee.getBoundingClientRect().height;return tn(Qe),x(tt=>[{toastId:h.id,height:Qe,position:h.position},...tt]),()=>x(tt=>tt.filter(Sn=>Sn.toastId!==h.id))}},[x,h.id]),te.useLayoutEffect(()=>{if(!W)return;let Ee=Wn.current,Qe=Ee.style.height;Ee.style.height="auto";let tt=Ee.getBoundingClientRect().height;Ee.style.height=Qe,tn(tt),x(Sn=>Sn.find(Cn=>Cn.toastId===h.id)?Sn.map(Cn=>Cn.toastId===h.id?{...Cn,height:tt}:Cn):[{toastId:h.id,height:tt,position:h.position},...Sn])},[W,h.title,h.description,x,h.id]);let kr=te.useCallback(()=>{J(!0),Le(Kr.current),x(Ee=>Ee.filter(Qe=>Qe.toastId!==h.id)),setTimeout(()=>{S(h)},uE)},[h,S,x,Kr]);te.useEffect(()=>{if(h.promise&&Vt==="loading"||h.duration===1/0||h.type==="loading")return;let Ee;return N||g||ne&&vo?(()=>{if(ni.current<xa.current){let Qe=new Date().getTime()-xa.current;Bn.current=Bn.current-Qe}ni.current=new Date().getTime()})():Bn.current!==1/0&&(xa.current=new Date().getTime(),Ee=setTimeout(()=>{var Qe;(Qe=h.onAutoClose)==null||Qe.call(h,h),kr()},Bn.current)),()=>clearTimeout(Ee)},[N,g,h,Vt,ne,vo,kr]),te.useEffect(()=>{h.delete&&kr()},[kr,h.delete]);function Yl(){var Ee,Qe,tt;return D!=null&&D.loading?te.createElement("div",{className:ar(F==null?void 0:F.loader,(Ee=h==null?void 0:h.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Vt==="loading"},D.loading):O?te.createElement("div",{className:ar(F==null?void 0:F.loader,(Qe=h==null?void 0:h.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":Vt==="loading"},O):te.createElement(Hk,{className:ar(F==null?void 0:F.loader,(tt=h==null?void 0:h.classNames)==null?void 0:tt.loader),visible:Vt==="loading"})}return te.createElement("li",{tabIndex:0,ref:Wn,className:ar(A,At,F==null?void 0:F.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[Vt],(n=h==null?void 0:h.classNames)==null?void 0:n[Vt]),"data-sonner-toast":"","data-rich-colors":(s=h.richColors)!=null?s:C,"data-styled":!(h.jsx||h.unstyled||j),"data-mounted":W,"data-promise":!!h.promise,"data-swiped":Ke,"data-removed":I,"data-visible":Wl,"data-y-position":Vl,"data-x-position":Du,"data-index":w,"data-front":Sr,"data-swiping":ie,"data-dismissible":ke,"data-type":Vt,"data-invert":Hl,"data-swipe-out":V,"data-swipe-direction":ue,"data-expanded":!!(N||R&&W),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${I?Ne:Kr.current}px`,"--initial-height":R?"auto":`${vt}px`,...T,...h.style},onDragEnd:()=>{we(!1),z(null),_n.current=null},onPointerDown:Ee=>{yo||!ke||(_r.current=new Date,Le(Kr.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(we(!0),_n.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,Qe,tt,Sn;if(V||!ke)return;_n.current=null;let Cn=Number(((Ee=Wn.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Er=Number(((Qe=Wn.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Qr=new Date().getTime()-((tt=_r.current)==null?void 0:tt.getTime()),kn=ve==="x"?Cn:Er,rr=Math.abs(kn)/Qr;if(Math.abs(kn)>=dE||rr>.11){Le(Kr.current),(Sn=h.onDismiss)==null||Sn.call(h,h),oe(ve==="x"?Cn>0?"right":"left":Er>0?"down":"up"),kr(),je(!0),L(!1);return}we(!1),z(null)},onPointerMove:Ee=>{var Qe,tt,Sn,Cn;if(!_n.current||!ke||((Qe=window.getSelection())==null?void 0:Qe.toString().length)>0)return;let Er=Ee.clientY-_n.current.y,Qr=Ee.clientX-_n.current.x,kn=(tt=e.swipeDirections)!=null?tt:fE(K);!ve&&(Math.abs(Qr)>1||Math.abs(Er)>1)&&z(Math.abs(Qr)>Math.abs(Er)?"x":"y");let rr={x:0,y:0};ve==="y"?(kn.includes("top")||kn.includes("bottom"))&&(kn.includes("top")&&Er<0||kn.includes("bottom")&&Er>0)&&(rr.y=Er):ve==="x"&&(kn.includes("left")||kn.includes("right"))&&(kn.includes("left")&&Qr<0||kn.includes("right")&&Qr>0)&&(rr.x=Qr),(Math.abs(rr.x)>0||Math.abs(rr.y)>0)&&L(!0),(Sn=Wn.current)==null||Sn.style.setProperty("--swipe-amount-x",`${rr.x}px`),(Cn=Wn.current)==null||Cn.style.setProperty("--swipe-amount-y",`${rr.y}px`)}},Ou&&!h.jsx?te.createElement("button",{"aria-label":X,"data-disabled":yo,"data-close-button":!0,onClick:yo||!ke?()=>{}:()=>{var Ee;kr(),(Ee=h.onDismiss)==null||Ee.call(h,h)},className:ar(F==null?void 0:F.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},(i=D==null?void 0:D.close)!=null?i:Qk):null,h.jsx||u.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:te.createElement(te.Fragment,null,Vt||h.icon||h.promise?te.createElement("div",{"data-icon":"",className:ar(F==null?void 0:F.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Yl():null,h.type!=="loading"?h.icon||(D==null?void 0:D[Vt])||Wk(Vt):null):null,te.createElement("div",{"data-content":"",className:ar(F==null?void 0:F.content,(l=h==null?void 0:h.classNames)==null?void 0:l.content)},te.createElement("div",{"data-title":"",className:ar(F==null?void 0:F.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?te.createElement("div",{"data-description":"",className:ar($,Au,F==null?void 0:F.description,(d=h==null?void 0:h.classNames)==null?void 0:d.description)},typeof h.description=="function"?h.description():h.description):null),u.isValidElement(h.cancel)?h.cancel:h.cancel&&pc(h.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||_,onClick:Ee=>{var Qe,tt;pc(h.cancel)&&ke&&((tt=(Qe=h.cancel).onClick)==null||tt.call(Qe,Ee),kr())},className:ar(F==null?void 0:F.cancelButton,(f=h==null?void 0:h.classNames)==null?void 0:f.cancelButton)},h.cancel.label):null,u.isValidElement(h.action)?h.action:h.action&&pc(h.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:Ee=>{var Qe,tt;pc(h.action)&&((tt=(Qe=h.action).onClick)==null||tt.call(Qe,Ee),!Ee.defaultPrevented&&kr())},className:ar(F==null?void 0:F.actionButton,(m=h==null?void 0:h.classNames)==null?void 0:m.actionButton)},h.action.label):null))};function zg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function hE(e,t){let n={};return[e,t].forEach((s,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?oE:iE;function c(d){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):c(l)}),n}var pE=u.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:f="light",richColors:m,duration:p,style:h,visibleToasts:j=aE,toastOptions:g,dir:x=zg(),gap:v=cE,loadingIcon:y,icons:w,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:N}=e,[S,C]=te.useState([]),k=te.useMemo(()=>Array.from(new Set([s].concat(S.filter(ne=>ne.position).map(ne=>ne.position)))),[S,s]),[T,_]=te.useState([]),[P,A]=te.useState(!1),[$,M]=te.useState(!1),[K,U]=te.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=te.useRef(null),R=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=te.useRef(null),D=te.useRef(!1),X=te.useCallback(ne=>{C(ve=>{var z;return(z=ve.find(ue=>ue.id===ne.id))!=null&&z.delete||fn.dismiss(ne.id),ve.filter(({id:ue})=>ue!==ne.id)})},[]);return te.useEffect(()=>fn.subscribe(ne=>{if(ne.dismiss){C(ve=>ve.map(z=>z.id===ne.id?{...z,delete:!0}:z));return}setTimeout(()=>{Cw.flushSync(()=>{C(ve=>{let z=ve.findIndex(ue=>ue.id===ne.id);return z!==-1?[...ve.slice(0,z),{...ve[z],...ne},...ve.slice(z+1)]:[ne,...ve]})})})}),[]),te.useEffect(()=>{if(f!=="system"){U(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:ve})=>{U(ve?"dark":"light")})}catch{ne.addListener(({matches:z})=>{try{U(z?"dark":"light")}catch(ue){console.error(ue)}})}},[f]),te.useEffect(()=>{S.length<=1&&A(!1)},[S]),te.useEffect(()=>{let ne=ve=>{var z,ue;a.every(oe=>ve[oe]||ve.code===oe)&&(A(!0),(z=O.current)==null||z.focus()),ve.code==="Escape"&&(document.activeElement===O.current||(ue=O.current)!=null&&ue.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[a]),te.useEffect(()=>{if(O.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,D.current=!1)}},[O.current]),te.createElement("section",{ref:t,"aria-label":`${b} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((ne,ve)=>{var z;let[ue,oe]=ne.split("-");return S.length?te.createElement("ol",{key:ne,dir:x==="auto"?zg():x,tabIndex:-1,ref:O,className:l,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":ue,"data-lifted":P&&S.length>1&&!i,"data-x-position":oe,style:{"--front-toast-height":`${((z=T[0])==null?void 0:z.height)||0}px`,"--width":`${lE}px`,"--gap":`${v}px`,...h,...hE(c,d)},onBlur:W=>{D.current&&!W.currentTarget.contains(W.relatedTarget)&&(D.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||D.current||(D.current=!0,F.current=W.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{$||A(!1)},onDragEnd:()=>A(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},S.filter(W=>!W.position&&ve===0||W.position===ne).map((W,Ce)=>{var I,J;return te.createElement(mE,{key:W.id,icons:w,index:Ce,toast:W,defaultRichColors:m,duration:(I=g==null?void 0:g.duration)!=null?I:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:j,closeButton:(J=g==null?void 0:g.closeButton)!=null?J:o,interacting:$,position:ne,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:X,toasts:S.filter(ie=>ie.position==W.position),heights:T.filter(ie=>ie.position==W.position),setHeights:_,expandByDefault:i,gap:v,loadingIcon:y,expanded:P,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const xE=({...e})=>{const{theme:t="system"}=Bk();return r.jsx(pE,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var gE=yh[" useId ".trim().toString()]||(()=>{}),vE=0;function Qs(e){const[t,n]=u.useState(gE());return $t(()=>{n(s=>s??String(vE++))},[e]),t?`radix-${t}`:""}const yE=["top","right","bottom","left"],ra=Math.min,Pn=Math.max,gd=Math.round,xc=Math.floor,Wr=e=>({x:e,y:e}),wE={left:"right",right:"left",bottom:"top",top:"bottom"},jE={start:"end",end:"start"};function $m(e,t,n){return Pn(e,ra(t,n))}function xs(e,t){return typeof e=="function"?e(t):e}function gs(e){return e.split("-")[0]}function fo(e){return e.split("-")[1]}function jp(e){return e==="x"?"y":"x"}function bp(e){return e==="y"?"height":"width"}const bE=new Set(["top","bottom"]);function $r(e){return bE.has(gs(e))?"y":"x"}function Np(e){return jp($r(e))}function NE(e,t,n){n===void 0&&(n=!1);const s=fo(e),a=Np(e),i=bp(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=vd(o)),[o,vd(o)]}function _E(e){const t=vd(e);return[zm(e),t,zm(t)]}function zm(e){return e.replace(/start|end/g,t=>jE[t])}const Ug=["left","right"],Bg=["right","left"],SE=["top","bottom"],CE=["bottom","top"];function kE(e,t,n){switch(e){case"top":case"bottom":return n?t?Bg:Ug:t?Ug:Bg;case"left":case"right":return t?SE:CE;default:return[]}}function EE(e,t,n,s){const a=fo(e);let i=kE(gs(e),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(zm)))),i}function vd(e){return e.replace(/left|right|bottom|top/g,t=>wE[t])}function PE(e){return{top:0,right:0,bottom:0,left:0,...e}}function bj(e){return typeof e!="number"?PE(e):{top:e,right:e,bottom:e,left:e}}function yd(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function Wg(e,t,n){let{reference:s,floating:a}=e;const i=$r(t),o=Np(t),l=bp(o),c=gs(t),d=i==="y",f=s.x+s.width/2-a.width/2,m=s.y+s.height/2-a.height/2,p=s[l]/2-a[l]/2;let h;switch(c){case"top":h={x:f,y:s.y-a.height};break;case"bottom":h={x:f,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:m};break;case"left":h={x:s.x-a.width,y:m};break;default:h={x:s.x,y:s.y}}switch(fo(t)){case"start":h[o]-=p*(n&&d?-1:1);break;case"end":h[o]+=p*(n&&d?-1:1);break}return h}const RE=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:m}=Wg(d,s,c),p=s,h={},j=0;for(let g=0;g<l.length;g++){const{name:x,fn:v}=l[g],{x:y,y:w,data:b,reset:N}=await v({x:f,y:m,initialPlacement:s,placement:p,strategy:a,middlewareData:h,rects:d,platform:o,elements:{reference:e,floating:t}});f=y??f,m=w??m,h={...h,[x]:{...h[x],...b}},N&&j<=50&&(j++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:f,y:m}=Wg(d,p,c)),g=-1)}return{x:f,y:m,placement:p,strategy:a,middlewareData:h}};async function pl(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:p=!1,padding:h=0}=xs(t,e),j=bj(h),x=l[p?m==="floating"?"reference":"floating":m],v=yd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),y=m==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=yd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(v.top-N.top+j.top)/b.y,bottom:(N.bottom-v.bottom+j.bottom)/b.y,left:(v.left-N.left+j.left)/b.x,right:(N.right-v.right+j.right)/b.x}}const TE=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:f=0}=xs(e,t)||{};if(d==null)return{};const m=bj(f),p={x:n,y:s},h=Np(a),j=bp(h),g=await o.getDimensions(d),x=h==="y",v=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",b=i.reference[j]+i.reference[h]-p[h]-i.floating[j],N=p[h]-i.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=S?S[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=l.floating[w]||i.floating[j]);const k=b/2-N/2,T=C/2-g[j]/2-1,_=ra(m[v],T),P=ra(m[y],T),A=_,$=C-g[j]-P,M=C/2-g[j]/2+k,K=$m(A,M,$),U=!c.arrow&&fo(a)!=null&&M!==K&&i.reference[j]/2-(M<A?_:P)-g[j]/2<0,O=U?M<A?M-A:M-$:0;return{[h]:p[h]+O,data:{[h]:K,centerOffset:M-K-O,...U&&{alignmentOffset:O}},reset:U}}}),ME=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:g=!0,...x}=xs(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=gs(a),y=$r(l),w=gs(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=p||(w||!g?[vd(l)]:_E(l)),S=j!=="none";!p&&S&&N.push(...EE(l,g,j,b));const C=[l,...N],k=await pl(t,x),T=[];let _=((s=i.flip)==null?void 0:s.overflows)||[];if(f&&T.push(k[v]),m){const M=NE(a,o,b);T.push(k[M[0]],k[M[1]])}if(_=[..._,{placement:a,overflows:T}],!T.every(M=>M<=0)){var P,A;const M=(((P=i.flip)==null?void 0:P.index)||0)+1,K=C[M];if(K&&(!(m==="alignment"?y!==$r(K):!1)||_.every(R=>R.overflows[0]>0&&$r(R.placement)===y)))return{data:{index:M,overflows:_},reset:{placement:K}};let U=(A=_.filter(O=>O.overflows[0]<=0).sort((O,R)=>O.overflows[1]-R.overflows[1])[0])==null?void 0:A.placement;if(!U)switch(h){case"bestFit":{var $;const O=($=_.filter(R=>{if(S){const F=$r(R.placement);return F===y||F==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(F=>F>0).reduce((F,D)=>F+D,0)]).sort((R,F)=>R[1]-F[1])[0])==null?void 0:$[0];O&&(U=O);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function Vg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Hg(e){return yE.some(t=>e[t]>=0)}const AE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=xs(e,t);switch(s){case"referenceHidden":{const i=await pl(t,{...a,elementContext:"reference"}),o=Vg(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Hg(o)}}}case"escaped":{const i=await pl(t,{...a,altBoundary:!0}),o=Vg(i,n.floating);return{data:{escapedOffsets:o,escaped:Hg(o)}}}default:return{}}}}},Nj=new Set(["left","top"]);async function OE(e,t){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=gs(n),l=fo(n),c=$r(n)==="y",d=Nj.has(o)?-1:1,f=i&&c?-1:1,m=xs(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:j}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof j=="number"&&(h=l==="end"?j*-1:j),c?{x:h*f,y:p*d}:{x:p*d,y:h*f}}const DE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await OE(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},FE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...c}=xs(e,t),d={x:n,y:s},f=await pl(t,c),m=$r(gs(a)),p=jp(m);let h=d[p],j=d[m];if(i){const x=p==="y"?"top":"left",v=p==="y"?"bottom":"right",y=h+f[x],w=h-f[v];h=$m(y,h,w)}if(o){const x=m==="y"?"top":"left",v=m==="y"?"bottom":"right",y=j+f[x],w=j-f[v];j=$m(y,j,w)}const g=l.fn({...t,[p]:h,[m]:j});return{...g,data:{x:g.x-n,y:g.y-s,enabled:{[p]:i,[m]:o}}}}}},IE=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=xs(e,t),f={x:n,y:s},m=$r(a),p=jp(m);let h=f[p],j=f[m];const g=xs(l,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=p==="y"?"height":"width",b=i.reference[p]-i.floating[w]+x.mainAxis,N=i.reference[p]+i.reference[w]-x.mainAxis;h<b?h=b:h>N&&(h=N)}if(d){var v,y;const w=p==="y"?"width":"height",b=Nj.has(gs(a)),N=i.reference[m]-i.floating[w]+(b&&((v=o.offset)==null?void 0:v[m])||0)+(b?0:x.crossAxis),S=i.reference[m]+i.reference[w]+(b?0:((y=o.offset)==null?void 0:y[m])||0)-(b?x.crossAxis:0);j<N?j=N:j>S&&(j=S)}return{[p]:h,[m]:j}}}},LE=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=xs(e,t),f=await pl(t,d),m=gs(a),p=fo(a),h=$r(a)==="y",{width:j,height:g}=i.floating;let x,v;m==="top"||m==="bottom"?(x=m,v=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=m,x=p==="end"?"top":"bottom");const y=g-f.top-f.bottom,w=j-f.left-f.right,b=ra(g-f[x],y),N=ra(j-f[v],w),S=!t.middlewareData.shift;let C=b,k=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(C=y),S&&!p){const _=Pn(f.left,0),P=Pn(f.right,0),A=Pn(f.top,0),$=Pn(f.bottom,0);h?k=j-2*(_!==0||P!==0?_+P:Pn(f.left,f.right)):C=g-2*(A!==0||$!==0?A+$:Pn(f.top,f.bottom))}await c({...t,availableWidth:k,availableHeight:C});const T=await o.getDimensions(l.floating);return j!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function au(){return typeof window<"u"}function mo(e){return _j(e)?(e.nodeName||"").toLowerCase():"#document"}function An(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qr(e){var t;return(t=(_j(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _j(e){return au()?e instanceof Node||e instanceof An(e).Node:!1}function yr(e){return au()?e instanceof Element||e instanceof An(e).Element:!1}function Hr(e){return au()?e instanceof HTMLElement||e instanceof An(e).HTMLElement:!1}function Yg(e){return!au()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof An(e).ShadowRoot}const $E=new Set(["inline","contents"]);function Dl(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=wr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!$E.has(a)}const zE=new Set(["table","td","th"]);function UE(e){return zE.has(mo(e))}const BE=[":popover-open",":modal"];function iu(e){return BE.some(t=>{try{return e.matches(t)}catch{return!1}})}const WE=["transform","translate","scale","rotate","perspective"],VE=["transform","translate","scale","rotate","perspective","filter"],HE=["paint","layout","strict","content"];function _p(e){const t=Sp(),n=yr(e)?wr(e):e;return WE.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||VE.some(s=>(n.willChange||"").includes(s))||HE.some(s=>(n.contain||"").includes(s))}function YE(e){let t=sa(e);for(;Hr(t)&&!Gi(t);){if(_p(t))return t;if(iu(t))return null;t=sa(t)}return null}function Sp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qE=new Set(["html","body","#document"]);function Gi(e){return qE.has(mo(e))}function wr(e){return An(e).getComputedStyle(e)}function ou(e){return yr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sa(e){if(mo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Yg(e)&&e.host||qr(e);return Yg(t)?t.host:t}function Sj(e){const t=sa(e);return Gi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hr(t)&&Dl(t)?t:Sj(t)}function xl(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=Sj(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=An(a);if(i){const l=Um(o);return t.concat(o,o.visualViewport||[],Dl(a)?a:[],l&&n?xl(l):[])}return t.concat(a,xl(a,[],n))}function Um(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Cj(e){const t=wr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Hr(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:s,l=gd(n)!==i||gd(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function Cp(e){return yr(e)?e:e.contextElement}function Pi(e){const t=Cp(e);if(!Hr(t))return Wr(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=Cj(t);let o=(i?gd(n.width):n.width)/s,l=(i?gd(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const GE=Wr(0);function kj(e){const t=An(e);return!Sp()||!t.visualViewport?GE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function KE(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==An(e)?!1:t}function Ha(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Cp(e);let o=Wr(1);t&&(s?yr(s)&&(o=Pi(s)):o=Pi(e));const l=KE(i,n,s)?kj(i):Wr(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,f=a.width/o.x,m=a.height/o.y;if(i){const p=An(i),h=s&&yr(s)?An(s):s;let j=p,g=Um(j);for(;g&&s&&h!==j;){const x=Pi(g),v=g.getBoundingClientRect(),y=wr(g),w=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*x.x,b=v.top+(g.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,d*=x.y,f*=x.x,m*=x.y,c+=w,d+=b,j=An(g),g=Um(j)}}return yd({width:f,height:m,x:c,y:d})}function kp(e,t){const n=ou(e).scrollLeft;return t?t.left+n:Ha(qr(e)).left+n}function Ej(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:kp(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function QE(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=qr(s),l=t?iu(t.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Wr(1);const f=Wr(0),m=Hr(s);if((m||!m&&!i)&&((mo(s)!=="body"||Dl(o))&&(c=ou(s)),Hr(s))){const h=Ha(s);d=Pi(s),f.x=h.x+s.clientLeft,f.y=h.y+s.clientTop}const p=o&&!m&&!i?Ej(o,c,!0):Wr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+p.x,y:n.y*d.y-c.scrollTop*d.y+f.y+p.y}}function ZE(e){return Array.from(e.getClientRects())}function XE(e){const t=qr(e),n=ou(e),s=e.ownerDocument.body,a=Pn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Pn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+kp(e);const l=-n.scrollTop;return wr(s).direction==="rtl"&&(o+=Pn(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function JE(e,t){const n=An(e),s=qr(e),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Sp();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const eP=new Set(["absolute","fixed"]);function tP(e,t){const n=Ha(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=Hr(e)?Pi(e):Wr(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function qg(e,t,n){let s;if(t==="viewport")s=JE(e,n);else if(t==="document")s=XE(qr(e));else if(yr(t))s=tP(t,n);else{const a=kj(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return yd(s)}function Pj(e,t){const n=sa(e);return n===t||!yr(n)||Gi(n)?!1:wr(n).position==="fixed"||Pj(n,t)}function nP(e,t){const n=t.get(e);if(n)return n;let s=xl(e,[],!1).filter(l=>yr(l)&&mo(l)!=="body"),a=null;const i=wr(e).position==="fixed";let o=i?sa(e):e;for(;yr(o)&&!Gi(o);){const l=wr(o),c=_p(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&eP.has(a.position)||Dl(o)&&!c&&Pj(e,o))?s=s.filter(f=>f!==o):a=l,o=sa(o)}return t.set(e,s),s}function rP(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const o=[...n==="clippingAncestors"?iu(t)?[]:nP(t,this._c):[].concat(n),s],l=o[0],c=o.reduce((d,f)=>{const m=qg(t,f,a);return d.top=Pn(m.top,d.top),d.right=ra(m.right,d.right),d.bottom=ra(m.bottom,d.bottom),d.left=Pn(m.left,d.left),d},qg(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function sP(e){const{width:t,height:n}=Cj(e);return{width:t,height:n}}function aP(e,t,n){const s=Hr(t),a=qr(t),i=n==="fixed",o=Ha(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Wr(0);function d(){c.x=kp(a)}if(s||!s&&!i)if((mo(t)!=="body"||Dl(a))&&(l=ou(t)),s){const h=Ha(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&d();i&&!s&&a&&d();const f=a&&!s&&!i?Ej(a,l):Wr(0),m=o.left+l.scrollLeft-c.x-f.x,p=o.top+l.scrollTop-c.y-f.y;return{x:m,y:p,width:o.width,height:o.height}}function yf(e){return wr(e).position==="static"}function Gg(e,t){if(!Hr(e)||wr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return qr(e)===n&&(n=n.ownerDocument.body),n}function Rj(e,t){const n=An(e);if(iu(e))return n;if(!Hr(e)){let a=sa(e);for(;a&&!Gi(a);){if(yr(a)&&!yf(a))return a;a=sa(a)}return n}let s=Gg(e,t);for(;s&&UE(s)&&yf(s);)s=Gg(s,t);return s&&Gi(s)&&yf(s)&&!_p(s)?n:s||YE(e)||n}const iP=async function(e){const t=this.getOffsetParent||Rj,n=this.getDimensions,s=await n(e.floating);return{reference:aP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function oP(e){return wr(e).direction==="rtl"}const lP={convertOffsetParentRelativeRectToViewportRelativeRect:QE,getDocumentElement:qr,getClippingRect:rP,getOffsetParent:Rj,getElementRects:iP,getClientRects:ZE,getDimensions:sP,getScale:Pi,isElement:yr,isRTL:oP};function Tj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function cP(e,t){let n=null,s;const a=qr(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:f,top:m,width:p,height:h}=d;if(l||t(),!p||!h)return;const j=xc(m),g=xc(a.clientWidth-(f+p)),x=xc(a.clientHeight-(m+h)),v=xc(f),w={rootMargin:-j+"px "+-g+"px "+-x+"px "+-v+"px",threshold:Pn(0,ra(1,c))||1};let b=!0;function N(S){const C=S[0].intersectionRatio;if(C!==c){if(!b)return o();C?o(!1,C):s=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Tj(d,e.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(e)}return o(!0),i}function dP(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Cp(e),f=a||i?[...d?xl(d):[],...xl(t)]:[];f.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const m=d&&l?cP(d,n):null;let p=-1,h=null;o&&(h=new ResizeObserver(v=>{let[y]=v;y&&y.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),d&&!c&&h.observe(d),h.observe(t));let j,g=c?Ha(e):null;c&&x();function x(){const v=Ha(e);g&&!Tj(g,v)&&n(),g=v,j=requestAnimationFrame(x)}return n(),()=>{var v;f.forEach(y=>{a&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),m==null||m(),(v=h)==null||v.disconnect(),h=null,c&&cancelAnimationFrame(j)}}const uP=DE,fP=FE,mP=ME,hP=LE,pP=AE,Kg=TE,xP=IE,gP=(e,t,n)=>{const s=new Map,a={platform:lP,...n},i={...a.platform,_c:s};return RE(e,t,{...a,platform:i})};var vP=typeof document<"u",yP=function(){},Lc=vP?u.useLayoutEffect:yP;function wd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!wd(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!wd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Mj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Qg(e,t){const n=Mj(e);return Math.round(t*n)/n}function wf(e){const t=u.useRef(e);return Lc(()=>{t.current=e}),t}function wP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[f,m]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=u.useState(s);wd(p,s)||h(s);const[j,g]=u.useState(null),[x,v]=u.useState(null),y=u.useCallback(R=>{R!==S.current&&(S.current=R,g(R))},[]),w=u.useCallback(R=>{R!==C.current&&(C.current=R,v(R))},[]),b=i||j,N=o||x,S=u.useRef(null),C=u.useRef(null),k=u.useRef(f),T=c!=null,_=wf(c),P=wf(a),A=wf(d),$=u.useCallback(()=>{if(!S.current||!C.current)return;const R={placement:t,strategy:n,middleware:p};P.current&&(R.platform=P.current),gP(S.current,C.current,R).then(F=>{const D={...F,isPositioned:A.current!==!1};M.current&&!wd(k.current,D)&&(k.current=D,ei.flushSync(()=>{m(D)}))})},[p,t,n,P,A]);Lc(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,m(R=>({...R,isPositioned:!1})))},[d]);const M=u.useRef(!1);Lc(()=>(M.current=!0,()=>{M.current=!1}),[]),Lc(()=>{if(b&&(S.current=b),N&&(C.current=N),b&&N){if(_.current)return _.current(b,N,$);$()}},[b,N,$,_,T]);const K=u.useMemo(()=>({reference:S,floating:C,setReference:y,setFloating:w}),[y,w]),U=u.useMemo(()=>({reference:b,floating:N}),[b,N]),O=u.useMemo(()=>{const R={position:n,left:0,top:0};if(!U.floating)return R;const F=Qg(U.floating,f.x),D=Qg(U.floating,f.y);return l?{...R,transform:"translate("+F+"px, "+D+"px)",...Mj(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:D}},[n,l,U.floating,f.x,f.y]);return u.useMemo(()=>({...f,update:$,refs:K,elements:U,floatingStyles:O}),[f,$,K,U,O])}const jP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Kg({element:s.current,padding:a}).fn(n):{}:s?Kg({element:s,padding:a}).fn(n):{}}}},bP=(e,t)=>({...uP(e),options:[e,t]}),NP=(e,t)=>({...fP(e),options:[e,t]}),_P=(e,t)=>({...xP(e),options:[e,t]}),SP=(e,t)=>({...mP(e),options:[e,t]}),CP=(e,t)=>({...hP(e),options:[e,t]}),kP=(e,t)=>({...pP(e),options:[e,t]}),EP=(e,t)=>({...jP(e),options:[e,t]});var PP="Arrow",Aj=u.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...i}=e;return r.jsx(_e.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});Aj.displayName=PP;var RP=Aj;function Ep(e){const[t,n]=u.useState(void 0);return $t(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Pp="Popper",[Oj,ho]=Xn(Pp),[TP,Dj]=Oj(Pp),Fj=e=>{const{__scopePopper:t,children:n}=e,[s,a]=u.useState(null);return r.jsx(TP,{scope:t,anchor:s,onAnchorChange:a,children:n})};Fj.displayName=Pp;var Ij="PopperAnchor",Lj=u.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=Dj(Ij,n),o=u.useRef(null),l=Oe(t,o);return u.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:r.jsx(_e.div,{...a,ref:l})});Lj.displayName=Ij;var Rp="PopperContent",[MP,AP]=Oj(Rp),$j=u.forwardRef((e,t)=>{var W,Ce,I,J,ie,we;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:j,...g}=e,x=Dj(Rp,n),[v,y]=u.useState(null),w=Oe(t,V=>y(V)),[b,N]=u.useState(null),S=Ep(b),C=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,T=s+(i!=="center"?"-"+i:""),_=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},P=Array.isArray(d)?d:[d],A=P.length>0,$={padding:_,boundary:P.filter(DP),altBoundary:A},{refs:M,floatingStyles:K,placement:U,isPositioned:O,middlewareData:R}=wP({strategy:"fixed",placement:T,whileElementsMounted:(...V)=>dP(...V,{animationFrame:h==="always"}),elements:{reference:x.anchor},middleware:[bP({mainAxis:a+k,alignmentAxis:o}),c&&NP({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?_P():void 0,...$}),c&&SP({...$}),CP({...$,apply:({elements:V,rects:je,availableWidth:Ke,availableHeight:L})=>{const{width:Ne,height:Le}=je.reference,vt=V.floating.style;vt.setProperty("--radix-popper-available-width",`${Ke}px`),vt.setProperty("--radix-popper-available-height",`${L}px`),vt.setProperty("--radix-popper-anchor-width",`${Ne}px`),vt.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),b&&EP({element:b,padding:l}),FP({arrowWidth:C,arrowHeight:k}),p&&kP({strategy:"referenceHidden",...$})]}),[F,D]=Bj(U),X=Rt(j);$t(()=>{O&&(X==null||X())},[O,X]);const ne=(W=R.arrow)==null?void 0:W.x,ve=(Ce=R.arrow)==null?void 0:Ce.y,z=((I=R.arrow)==null?void 0:I.centerOffset)!==0,[ue,oe]=u.useState();return $t(()=>{v&&oe(window.getComputedStyle(v).zIndex)},[v]),r.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:O?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(J=R.transformOrigin)==null?void 0:J.x,(ie=R.transformOrigin)==null?void 0:ie.y].join(" "),...((we=R.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(MP,{scope:n,placedSide:F,onArrowChange:N,arrowX:ne,arrowY:ve,shouldHideArrow:z,children:r.jsx(_e.div,{"data-side":F,"data-align":D,...g,ref:w,style:{...g.style,animation:O?void 0:"none"}})})})});$j.displayName=Rp;var zj="PopperArrow",OP={top:"bottom",right:"left",bottom:"top",left:"right"},Uj=u.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,i=AP(zj,s),o=OP[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(RP,{...a,ref:n,style:{...a.style,display:"block"}})})});Uj.displayName=zj;function DP(e){return e!==null}var FP=e=>({name:"transformOrigin",options:e,fn(t){var x,v,y;const{placement:n,rects:s,middlewareData:a}=t,o=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,f]=Bj(n),m={start:"0%",center:"50%",end:"100%"}[f],p=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,h=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let j="",g="";return d==="bottom"?(j=o?m:`${p}px`,g=`${-c}px`):d==="top"?(j=o?m:`${p}px`,g=`${s.floating.height+c}px`):d==="right"?(j=`${-c}px`,g=o?m:`${h}px`):d==="left"&&(j=`${s.floating.width+c}px`,g=o?m:`${h}px`),{data:{x:j,y:g}}}});function Bj(e){const[t,n="center"]=e.split("-");return[t,n]}var Wj=Fj,lu=Lj,Tp=$j,Mp=Uj,[cu,$3]=Xn("Tooltip",[ho]),Ap=ho(),Vj="TooltipProvider",IP=700,Zg="tooltip.open",[LP,Hj]=cu(Vj),Yj=e=>{const{__scopeTooltip:t,delayDuration:n=IP,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=u.useRef(!0),l=u.useRef(!1),c=u.useRef(0);return u.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(LP,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:u.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:u.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:u.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};Yj.displayName=Vj;var qj="Tooltip",[z3,du]=cu(qj),Bm="TooltipTrigger",$P=u.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=du(Bm,n),i=Hj(Bm,n),o=Ap(n),l=u.useRef(null),c=Oe(t,l,a.onTriggerChange),d=u.useRef(!1),f=u.useRef(!1),m=u.useCallback(()=>d.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),r.jsx(lu,{asChild:!0,...o,children:r.jsx(_e.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:me(e.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:me(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:me(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:me(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:me(e.onBlur,a.onClose),onClick:me(e.onClick,a.onClose)})})});$P.displayName=Bm;var zP="TooltipPortal",[U3,UP]=cu(zP,{forceMount:void 0}),Ki="TooltipContent",Gj=u.forwardRef((e,t)=>{const n=UP(Ki,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...i}=e,o=du(Ki,e.__scopeTooltip);return r.jsx(Un,{present:s||o.open,children:o.disableHoverableContent?r.jsx(Kj,{side:a,...i,ref:t}):r.jsx(BP,{side:a,...i,ref:t})})}),BP=u.forwardRef((e,t)=>{const n=du(Ki,e.__scopeTooltip),s=Hj(Ki,e.__scopeTooltip),a=u.useRef(null),i=Oe(t,a),[o,l]=u.useState(null),{trigger:c,onClose:d}=n,f=a.current,{onPointerInTransitChange:m}=s,p=u.useCallback(()=>{l(null),m(!1)},[m]),h=u.useCallback((j,g)=>{const x=j.currentTarget,v={x:j.clientX,y:j.clientY},y=qP(v,x.getBoundingClientRect()),w=GP(v,y),b=KP(g.getBoundingClientRect()),N=ZP([...w,...b]);l(N),m(!0)},[m]);return u.useEffect(()=>()=>p(),[p]),u.useEffect(()=>{if(c&&f){const j=x=>h(x,f),g=x=>h(x,c);return c.addEventListener("pointerleave",j),f.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",j),f.removeEventListener("pointerleave",g)}}},[c,f,h,p]),u.useEffect(()=>{if(o){const j=g=>{const x=g.target,v={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(x))||(f==null?void 0:f.contains(x)),w=!QP(v,o);y?p():w&&(p(),d())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[c,f,o,d,p]),r.jsx(Kj,{...e,ref:i})}),[WP,VP]=cu(qj,{isInside:!1}),HP=t2("TooltipContent"),Kj=u.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=du(Ki,n),d=Ap(n),{onClose:f}=c;return u.useEffect(()=>(document.addEventListener(Zg,f),()=>document.removeEventListener(Zg,f)),[f]),u.useEffect(()=>{if(c.trigger){const m=p=>{const h=p.target;h!=null&&h.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),r.jsx(co,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:r.jsxs(Tp,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(HP,{children:s}),r.jsx(WP,{scope:n,isInside:!0,children:r.jsx(N2,{id:c.contentId,role:"tooltip",children:a||s})})]})})});Gj.displayName=Ki;var Qj="TooltipArrow",YP=u.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=Ap(n);return VP(Qj,n).isInside?null:r.jsx(Mp,{...a,...s,ref:t})});YP.displayName=Qj;function qP(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,a,i)){case i:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function GP(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function KP(e){const{top:t,right:n,bottom:s,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:s},{x:a,y:s}]}function QP(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,f=l.y,m=c.x,p=c.y;f>s!=p>s&&n<(m-d)*(s-f)/(p-f)+d&&(a=!a)}return a}function ZP(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),XP(t)}function XP(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var JP=Yj,Zj=Gj;const e4=JP,t4=u.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(Zj,{ref:s,sideOffset:t,className:ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));t4.displayName=Zj.displayName;var uu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fu=typeof window>"u"||"Deno"in globalThis;function cr(){}function n4(e,t){return typeof e=="function"?e(t):e}function r4(e){return typeof e=="number"&&e>=0&&e!==1/0}function s4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wm(e,t){return typeof e=="function"?e(t):e}function a4(e,t){return typeof e=="function"?e(t):e}function Xg(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Op(o,t.options))return!1}else if(!vl(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Jg(e,t){const{exact:n,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(gl(t.options.mutationKey)!==gl(i))return!1}else if(!vl(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function Op(e,t){return((t==null?void 0:t.queryKeyHashFn)||gl)(e)}function gl(e){return JSON.stringify(e,(t,n)=>Vm(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function vl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>vl(e[n],t[n])):!1}function Xj(e,t){if(e===t)return e;const n=ev(e)&&ev(t);if(n||Vm(e)&&Vm(t)){const s=n?e:Object.keys(e),a=s.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{},c=new Set(s);let d=0;for(let f=0;f<o;f++){const m=n?f:i[f];(!n&&c.has(m)||n)&&e[m]===void 0&&t[m]===void 0?(l[m]=void 0,d++):(l[m]=Xj(e[m],t[m]),l[m]===e[m]&&e[m]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function ev(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vm(e){if(!tv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!tv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tv(e){return Object.prototype.toString.call(e)==="[object Object]"}function i4(e){return new Promise(t=>{setTimeout(t,e)})}function o4(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Xj(e,t):t}function l4(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function c4(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Dp=Symbol();function Jj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Dp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ca,Ms,Mi,ay,d4=(ay=class extends uu{constructor(){super();qe(this,Ca);qe(this,Ms);qe(this,Mi);Te(this,Mi,t=>{if(!fu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Ms)||this.setEventListener(B(this,Mi))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Ms))==null||t.call(this),Te(this,Ms,void 0))}setEventListener(t){var n;Te(this,Mi,t),(n=B(this,Ms))==null||n.call(this),Te(this,Ms,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){B(this,Ca)!==t&&(Te(this,Ca,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,Ca)=="boolean"?B(this,Ca):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ca=new WeakMap,Ms=new WeakMap,Mi=new WeakMap,ay),e1=new d4,Ai,As,Oi,iy,u4=(iy=class extends uu{constructor(){super();qe(this,Ai,!0);qe(this,As);qe(this,Oi);Te(this,Oi,t=>{if(!fu&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){B(this,As)||this.setEventListener(B(this,Oi))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,As))==null||t.call(this),Te(this,As,void 0))}setEventListener(t){var n;Te(this,Oi,t),(n=B(this,As))==null||n.call(this),Te(this,As,t(this.setOnline.bind(this)))}setOnline(t){B(this,Ai)!==t&&(Te(this,Ai,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return B(this,Ai)}},Ai=new WeakMap,As=new WeakMap,Oi=new WeakMap,iy),jd=new u4;function f4(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}function m4(e){return Math.min(1e3*2**e,3e4)}function t1(e){return(e??"online")==="online"?jd.isOnline():!0}var n1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function jf(e){return e instanceof n1}function r1(e){let t=!1,n=0,s=!1,a;const i=f4(),o=g=>{var x;s||(p(new n1(g)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>e1.isFocused()&&(e.networkMode==="always"||jd.isOnline())&&e.canRun(),f=()=>t1(e.networkMode)&&e.canRun(),m=g=>{var x;s||(s=!0,(x=e.onSuccess)==null||x.call(e,g),a==null||a(),i.resolve(g))},p=g=>{var x;s||(s=!0,(x=e.onError)==null||x.call(e,g),a==null||a(),i.reject(g))},h=()=>new Promise(g=>{var x;a=v=>{(s||d())&&g(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;a=void 0,s||(g=e.onContinue)==null||g.call(e)}),j=()=>{if(s)return;let g;const x=n===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(m).catch(v=>{var S;if(s)return;const y=e.retry??(fu?0:3),w=e.retryDelay??m4,b=typeof w=="function"?w(n,v):w,N=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!N){p(v);return}n++,(S=e.onFail)==null||S.call(e,n,v),i4(b).then(()=>d()?void 0:h()).then(()=>{t?p(v):j()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?j():h().then(j),i)}}var h4=e=>setTimeout(e,0);function p4(){let e=[],t=0,n=l=>{l()},s=l=>{l()},a=h4;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var an=p4(),ka,oy,s1=(oy=class{constructor(){qe(this,ka)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),r4(this.gcTime)&&Te(this,ka,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(fu?1/0:5*60*1e3))}clearGcTimeout(){B(this,ka)&&(clearTimeout(B(this,ka)),Te(this,ka,void 0))}},ka=new WeakMap,oy),Di,Ea,Hn,Pa,Gt,Cl,Ra,dr,Jr,ly,x4=(ly=class extends s1{constructor(t){super();qe(this,dr);qe(this,Di);qe(this,Ea);qe(this,Hn);qe(this,Pa);qe(this,Gt);qe(this,Cl);qe(this,Ra);Te(this,Ra,!1),Te(this,Cl,t.defaultOptions),this.setOptions(t.options),this.observers=[],Te(this,Pa,t.client),Te(this,Hn,B(this,Pa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Te(this,Di,v4(this.options)),this.state=t.state??B(this,Di),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,Gt))==null?void 0:t.promise}setOptions(t){this.options={...B(this,Cl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Hn).remove(this)}setData(t,n){const s=o4(this.state.data,t,this.options);return Ht(this,dr,Jr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){Ht(this,dr,Jr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,a;const n=(s=B(this,Gt))==null?void 0:s.promise;return(a=B(this,Gt))==null||a.cancel(t),n?n.then(cr).catch(cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Di))}isActive(){return this.observers.some(t=>a4(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!s4(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Gt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Gt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,Hn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,Gt)&&(B(this,Ra)?B(this,Gt).cancel({revert:!0}):B(this,Gt).cancelRetry()),this.scheduleGc()),B(this,Hn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ht(this,dr,Jr).call(this,{type:"invalidate"})}fetch(t,n){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,Gt))return B(this,Gt).continueRetry(),B(this,Gt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(h=>h.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,a=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Te(this,Ra,!0),s.signal)})},i=()=>{const p=Jj(this.options,n),j=(()=>{const g={client:B(this,Pa),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return Te(this,Ra,!1),this.options.persister?this.options.persister(p,j,this):p(j)},l=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,Pa),state:this.state,fetchFn:i};return a(p),p})();(d=this.options.behavior)==null||d.onFetch(l,this),Te(this,Ea,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Ht(this,dr,Jr).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const c=p=>{var h,j,g,x;jf(p)&&p.silent||Ht(this,dr,Jr).call(this,{type:"error",error:p}),jf(p)||((j=(h=B(this,Hn).config).onError)==null||j.call(h,p,this),(x=(g=B(this,Hn).config).onSettled)==null||x.call(g,this.state.data,p,this)),this.scheduleGc()};return Te(this,Gt,r1({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var h,j,g,x;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(v){c(v);return}(j=(h=B(this,Hn).config).onSuccess)==null||j.call(h,p,this),(x=(g=B(this,Hn).config).onSettled)==null||x.call(g,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,h)=>{Ht(this,dr,Jr).call(this,{type:"failed",failureCount:p,error:h})},onPause:()=>{Ht(this,dr,Jr).call(this,{type:"pause"})},onContinue:()=>{Ht(this,dr,Jr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),B(this,Gt).start()}},Di=new WeakMap,Ea=new WeakMap,Hn=new WeakMap,Pa=new WeakMap,Gt=new WeakMap,Cl=new WeakMap,Ra=new WeakMap,dr=new WeakSet,Jr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...g4(s.data,this.options),fetchMeta:t.meta??null};case"success":return Te(this,Ea,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return jf(a)&&a.revert&&B(this,Ea)?{...B(this,Ea),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),an.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),B(this,Hn).notify({query:this,type:"updated",action:t})})},ly);function g4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:t1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function v4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Mr,cy,y4=(cy=class extends uu{constructor(t={}){super();qe(this,Mr);this.config=t,Te(this,Mr,new Map)}build(t,n,s){const a=n.queryKey,i=n.queryHash??Op(a,n);let o=this.get(i);return o||(o=new x4({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){B(this,Mr).has(t.queryHash)||(B(this,Mr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,Mr).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,Mr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){an.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Mr).get(t)}getAll(){return[...B(this,Mr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Xg(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>Xg(t,s)):n}notify(t){an.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){an.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){an.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mr=new WeakMap,cy),Ar,nn,Ta,Or,_s,dy,w4=(dy=class extends s1{constructor(t){super();qe(this,Or);qe(this,Ar);qe(this,nn);qe(this,Ta);this.mutationId=t.mutationId,Te(this,nn,t.mutationCache),Te(this,Ar,[]),this.state=t.state||j4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Ar).includes(t)||(B(this,Ar).push(t),this.clearGcTimeout(),B(this,nn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Te(this,Ar,B(this,Ar).filter(n=>n!==t)),this.scheduleGc(),B(this,nn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Ar).length||(this.state.status==="pending"?this.scheduleGc():B(this,nn).remove(this))}continue(){var t;return((t=B(this,Ta))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,f,m,p,h,j,g,x,v,y,w,b,N,S,C,k;const n=()=>{Ht(this,Or,_s).call(this,{type:"continue"})};Te(this,Ta,r1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,_)=>{Ht(this,Or,_s).call(this,{type:"failed",failureCount:T,error:_})},onPause:()=>{Ht(this,Or,_s).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,nn).canRun(this)}));const s=this.state.status==="pending",a=!B(this,Ta).canStart();try{if(s)n();else{Ht(this,Or,_s).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=B(this,nn).config).onMutate)==null?void 0:o.call(i,t,this));const _=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));_!==this.state.context&&Ht(this,Or,_s).call(this,{type:"pending",context:_,variables:t,isPaused:a})}const T=await B(this,Ta).start();return await((f=(d=B(this,nn).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,T,t,this.state.context)),await((j=(h=B(this,nn).config).onSettled)==null?void 0:j.call(h,T,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,T,null,t,this.state.context)),Ht(this,Or,_s).call(this,{type:"success",data:T}),T}catch(T){try{throw await((y=(v=B(this,nn).config).onError)==null?void 0:y.call(v,T,t,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,T,t,this.state.context)),await((S=(N=B(this,nn).config).onSettled)==null?void 0:S.call(N,void 0,T,this.state.variables,this.state.context,this)),await((k=(C=this.options).onSettled)==null?void 0:k.call(C,void 0,T,t,this.state.context)),T}finally{Ht(this,Or,_s).call(this,{type:"error",error:T})}}finally{B(this,nn).runNext(this)}}},Ar=new WeakMap,nn=new WeakMap,Ta=new WeakMap,Or=new WeakSet,_s=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),an.batch(()=>{B(this,Ar).forEach(s=>{s.onMutationUpdate(t)}),B(this,nn).notify({mutation:this,type:"updated",action:t})})},dy);function j4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ns,ur,kl,uy,b4=(uy=class extends uu{constructor(t={}){super();qe(this,ns);qe(this,ur);qe(this,kl);this.config=t,Te(this,ns,new Set),Te(this,ur,new Map),Te(this,kl,0)}build(t,n,s){const a=new w4({mutationCache:this,mutationId:++Gl(this,kl)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){B(this,ns).add(t);const n=gc(t);if(typeof n=="string"){const s=B(this,ur).get(n);s?s.push(t):B(this,ur).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,ns).delete(t)){const n=gc(t);if(typeof n=="string"){const s=B(this,ur).get(n);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&B(this,ur).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=gc(t);if(typeof n=="string"){const s=B(this,ur).get(n),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const n=gc(t);if(typeof n=="string"){const a=(s=B(this,ur).get(n))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){an.batch(()=>{B(this,ns).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,ns).clear(),B(this,ur).clear()})}getAll(){return Array.from(B(this,ns))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Jg(n,s))}findAll(t={}){return this.getAll().filter(n=>Jg(t,n))}notify(t){an.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return an.batch(()=>Promise.all(t.map(n=>n.continue().catch(cr))))}},ns=new WeakMap,ur=new WeakMap,kl=new WeakMap,uy);function gc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function nv(e){return{onFetch:(t,n)=>{var f,m,p,h,j;const s=t.options,a=(p=(m=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((j=t.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=Jj(t.options,t.fetchOptions),y=async(w,b,N)=>{if(g)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:b,direction:N?"backward":"forward",meta:t.options.meta};return x(P),P})(),k=await v(C),{maxPages:T}=t.options,_=N?c4:l4;return{pages:_(w.pages,k,T),pageParams:_(w.pageParams,b,T)}};if(a&&i.length){const w=a==="backward",b=w?N4:rv,N={pages:i,pageParams:o},S=b(s,N);l=await y(N,S,w)}else{const w=e??i.length;do{const b=c===0?o[0]??s.initialPageParam:rv(s,l);if(c>0&&b==null)break;l=await y(l,b),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function rv(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function N4(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var mt,Os,Ds,Fi,Ii,Fs,Li,$i,fy,_4=(fy=class{constructor(e={}){qe(this,mt);qe(this,Os);qe(this,Ds);qe(this,Fi);qe(this,Ii);qe(this,Fs);qe(this,Li);qe(this,$i);Te(this,mt,e.queryCache||new y4),Te(this,Os,e.mutationCache||new b4),Te(this,Ds,e.defaultOptions||{}),Te(this,Fi,new Map),Te(this,Ii,new Map),Te(this,Fs,0)}mount(){Gl(this,Fs)._++,B(this,Fs)===1&&(Te(this,Li,e1.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,mt).onFocus())})),Te(this,$i,jd.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,mt).onOnline())})))}unmount(){var e,t;Gl(this,Fs)._--,B(this,Fs)===0&&((e=B(this,Li))==null||e.call(this),Te(this,Li,void 0),(t=B(this,$i))==null||t.call(this),Te(this,$i,void 0))}isFetching(e){return B(this,mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,Os).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,mt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=B(this,mt).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Wm(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return B(this,mt).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=B(this,mt).get(s.queryHash),i=a==null?void 0:a.state.data,o=n4(t,i);if(o!==void 0)return B(this,mt).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return an.batch(()=>B(this,mt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,mt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,mt);an.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,mt);return an.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=an.batch(()=>B(this,mt).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(cr).catch(cr)}invalidateQueries(e,t={}){return an.batch(()=>(B(this,mt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=an.batch(()=>B(this,mt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(cr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(cr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,mt).build(this,t);return n.isStaleByTime(Wm(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(cr).catch(cr)}fetchInfiniteQuery(e){return e.behavior=nv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(cr).catch(cr)}ensureInfiniteQueryData(e){return e.behavior=nv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return jd.isOnline()?B(this,Os).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,mt)}getMutationCache(){return B(this,Os)}getDefaultOptions(){return B(this,Ds)}setDefaultOptions(e){Te(this,Ds,e)}setQueryDefaults(e,t){B(this,Fi).set(gl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,Fi).values()],n={};return t.forEach(s=>{vl(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){B(this,Ii).set(gl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,Ii).values()],n={};return t.forEach(s=>{vl(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,Ds).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Op(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Dp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,Ds).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,mt).clear(),B(this,Os).clear()}},mt=new WeakMap,Os=new WeakMap,Ds=new WeakMap,Fi=new WeakMap,Ii=new WeakMap,Fs=new WeakMap,Li=new WeakMap,$i=new WeakMap,fy),S4=u.createContext(void 0),C4=({client:e,children:t})=>(u.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(S4.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yl.apply(this,arguments)}var $s;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($s||($s={}));const sv="popstate";function k4(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return Hm("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:bd(a)}return P4(t,n,null,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function a1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function E4(){return Math.random().toString(36).substr(2,8)}function av(e,t){return{usr:e.state,key:e.key,idx:t}}function Hm(e,t,n,s){return n===void 0&&(n=null),yl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?po(t):t,{state:n,key:t&&t.key||s||E4()})}function bd(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function po(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function P4(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=$s.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(yl({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=$s.Pop;let x=f(),v=x==null?null:x-d;d=x,c&&c({action:l,location:g.location,delta:v})}function p(x,v){l=$s.Push;let y=Hm(g.location,x,v);d=f()+1;let w=av(y,d),b=g.createHref(y);try{o.pushState(w,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(b)}i&&c&&c({action:l,location:g.location,delta:1})}function h(x,v){l=$s.Replace;let y=Hm(g.location,x,v);d=f();let w=av(y,d),b=g.createHref(y);o.replaceState(w,"",b),i&&c&&c({action:l,location:g.location,delta:0})}function j(x){let v=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof x=="string"?x:bd(x);return y=y.replace(/ $/,"%20"),wt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return l},get location(){return e(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(sv,m),c=x,()=>{a.removeEventListener(sv,m),c=null}},createHref(x){return t(a,x)},createURL:j,encodeLocation(x){let v=j(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:h,go(x){return o.go(x)}};return g}var iv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(iv||(iv={}));function R4(e,t,n){return n===void 0&&(n="/"),T4(e,t,n,!1)}function T4(e,t,n,s){let a=typeof t=="string"?po(t):t,i=Fp(a.pathname||"/",n);if(i==null)return null;let o=i1(e);M4(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=W4(i);l=U4(o[c],d,s)}return l}function i1(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(wt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Zs([s,c.relativePath]),f=n.concat(c);i.children&&i.children.length>0&&(wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),i1(i.children,t,f,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:$4(d,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of o1(i.path))a(i,o,c)}),t}function o1(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=o1(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function M4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:z4(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const A4=/^:[\w-]+$/,O4=3,D4=2,F4=1,I4=10,L4=-2,ov=e=>e==="*";function $4(e,t){let n=e.split("/"),s=n.length;return n.some(ov)&&(s+=L4),t&&(s+=D4),n.filter(a=>!ov(a)).reduce((a,i)=>a+(A4.test(i)?O4:i===""?F4:I4),s)}function z4(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function U4(e,t,n){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,f=i==="/"?t:t.slice(i.length)||"/",m=lv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),p=c.route;if(!m&&d&&n&&!s[s.length-1].route.index&&(m=lv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:Zs([i,m.pathname]),pathnameBase:q4(Zs([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Zs([i,m.pathnameBase]))}return o}function lv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=B4(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,f,m)=>{let{paramName:p,isOptional:h}=f;if(p==="*"){let g=l[m]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const j=l[m];return h&&!j?d[p]=void 0:d[p]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function B4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),a1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function W4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return a1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function V4(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?po(e):e;return{pathname:n?n.startsWith("/")?n:H4(n,t):t,search:G4(s),hash:K4(a)}}function H4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function bf(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Y4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ip(e,t){let n=Y4(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Lp(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=po(e):(a=yl({},e),wt(!a.pathname||!a.pathname.includes("?"),bf("?","pathname","search",a)),wt(!a.pathname||!a.pathname.includes("#"),bf("#","pathname","hash",a)),wt(!a.search||!a.search.includes("#"),bf("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let m=t.length-1;if(!s&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}l=m>=0?t[m]:"/"}let c=V4(a,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const Zs=e=>e.join("/").replace(/\/\/+/g,"/"),q4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,K4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Q4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const l1=["post","put","patch","delete"];new Set(l1);const Z4=["get",...l1];new Set(Z4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wl.apply(this,arguments)}const $p=u.createContext(null),X4=u.createContext(null),da=u.createContext(null),mu=u.createContext(null),ua=u.createContext({outlet:null,matches:[],isDataRoute:!1}),c1=u.createContext(null);function J4(e,t){let{relative:n}=t===void 0?{}:t;xo()||wt(!1);let{basename:s,navigator:a}=u.useContext(da),{hash:i,pathname:o,search:l}=u1(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:Zs([s,o])),a.createHref({pathname:c,search:l,hash:i})}function xo(){return u.useContext(mu)!=null}function Jn(){return xo()||wt(!1),u.useContext(mu).location}function d1(e){u.useContext(da).static||u.useLayoutEffect(e)}function Nn(){let{isDataRoute:e}=u.useContext(ua);return e?fR():eR()}function eR(){xo()||wt(!1);let e=u.useContext($p),{basename:t,future:n,navigator:s}=u.useContext(da),{matches:a}=u.useContext(ua),{pathname:i}=Jn(),o=JSON.stringify(Ip(a,n.v7_relativeSplatPath)),l=u.useRef(!1);return d1(()=>{l.current=!0}),u.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let m=Lp(d,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Zs([t,m.pathname])),(f.replace?s.replace:s.push)(m,f.state,f)},[t,s,o,i,e])}function u1(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=u.useContext(da),{matches:a}=u.useContext(ua),{pathname:i}=Jn(),o=JSON.stringify(Ip(a,s.v7_relativeSplatPath));return u.useMemo(()=>Lp(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function tR(e,t){return nR(e,t)}function nR(e,t,n,s){xo()||wt(!1);let{navigator:a}=u.useContext(da),{matches:i}=u.useContext(ua),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Jn(),f;if(t){var m;let x=typeof t=="string"?po(t):t;c==="/"||(m=x.pathname)!=null&&m.startsWith(c)||wt(!1),f=x}else f=d;let p=f.pathname||"/",h=p;if(c!=="/"){let x=c.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let j=R4(e,{pathname:h}),g=oR(j&&j.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Zs([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Zs([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,s);return t&&g?u.createElement(mu.Provider,{value:{location:wl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:$s.Pop}},g):g}function rR(){let e=uR(),t=Q4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),n?u.createElement("pre",{style:a},n):null,null)}const sR=u.createElement(rR,null);class aR extends u.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?u.createElement(ua.Provider,{value:this.props.routeContext},u.createElement(c1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iR(e){let{routeContext:t,match:n,children:s}=e,a=u.useContext($p);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),u.createElement(ua.Provider,{value:t},s)}function oR(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||wt(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:p,errors:h}=n,j=m.route.loader&&p[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||j){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,m,p)=>{let h,j=!1,g=null,x=null;n&&(h=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||sR,c&&(d<0&&p===0?(j=!0,x=null):d===p&&(j=!0,x=m.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,p+1)),y=()=>{let w;return h?w=g:j?w=x:m.route.Component?w=u.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=f,u.createElement(iR,{match:m,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:w})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?u.createElement(aR,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var f1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(f1||{}),Nd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Nd||{});function lR(e){let t=u.useContext($p);return t||wt(!1),t}function cR(e){let t=u.useContext(X4);return t||wt(!1),t}function dR(e){let t=u.useContext(ua);return t||wt(!1),t}function m1(e){let t=dR(),n=t.matches[t.matches.length-1];return n.route.id||wt(!1),n.route.id}function uR(){var e;let t=u.useContext(c1),n=cR(Nd.UseRouteError),s=m1(Nd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function fR(){let{router:e}=lR(f1.UseNavigateStable),t=m1(Nd.UseNavigateStable),n=u.useRef(!1);return d1(()=>{n.current=!0}),u.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,wl({fromRouteId:t},i)))},[e,t])}function mR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function hR(e){let{to:t,replace:n,state:s,relative:a}=e;xo()||wt(!1);let{future:i,static:o}=u.useContext(da),{matches:l}=u.useContext(ua),{pathname:c}=Jn(),d=Nn(),f=Lp(t,Ip(l,i.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(f);return u.useEffect(()=>d(JSON.parse(m),{replace:n,state:s,relative:a}),[d,m,a,n,s]),null}function ir(e){wt(!1)}function pR(e){let{basename:t="/",children:n=null,location:s,navigationType:a=$s.Pop,navigator:i,static:o=!1,future:l}=e;xo()&&wt(!1);let c=t.replace(/^\/*/,"/"),d=u.useMemo(()=>({basename:c,navigator:i,static:o,future:wl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=po(s));let{pathname:f="/",search:m="",hash:p="",state:h=null,key:j="default"}=s,g=u.useMemo(()=>{let x=Fp(f,c);return x==null?null:{location:{pathname:x,search:m,hash:p,state:h,key:j},navigationType:a}},[c,f,m,p,h,j,a]);return g==null?null:u.createElement(da.Provider,{value:d},u.createElement(mu.Provider,{children:n,value:g}))}function xR(e){let{children:t,location:n}=e;return tR(Ym(t),n)}new Promise(()=>{});function Ym(e,t){t===void 0&&(t=[]);let n=[];return u.Children.forEach(e,(s,a)=>{if(!u.isValidElement(s))return;let i=[...t,a];if(s.type===u.Fragment){n.push.apply(n,Ym(s.props.children,i));return}s.type!==ir&&wt(!1),!s.props.index||!s.props.children||wt(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Ym(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qm.apply(this,arguments)}function gR(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function vR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yR(e,t){return e.button===0&&(!t||t==="_self")&&!vR(e)}function Gm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function wR(e,t){let n=Gm(e);return t&&t.forEach((s,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const jR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bR="6";try{window.__reactRouterVersion=bR}catch{}const NR="startTransition",cv=yh[NR];function _R(e){let{basename:t,children:n,future:s,window:a}=e,i=u.useRef();i.current==null&&(i.current=k4({window:a,v5Compat:!0}));let o=i.current,[l,c]=u.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},f=u.useCallback(m=>{d&&cv?cv(()=>c(m)):c(m)},[c,d]);return u.useLayoutEffect(()=>o.listen(f),[o,f]),u.useEffect(()=>mR(s),[s]),u.createElement(pR,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const SR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=u.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:f,viewTransition:m}=t,p=gR(t,jR),{basename:h}=u.useContext(da),j,g=!1;if(typeof d=="string"&&CR.test(d)&&(j=d,SR))try{let w=new URL(window.location.href),b=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=Fp(b.pathname,h);b.origin===w.origin&&N!=null?d=N+b.search+b.hash:g=!0}catch{}let x=J4(d,{relative:a}),v=kR(d,{replace:o,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:m});function y(w){s&&s(w),w.defaultPrevented||v(w)}return u.createElement("a",qm({},p,{href:j||x,onClick:g||i?s:y,ref:n,target:c}))});var dv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dv||(dv={}));var uv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uv||(uv={}));function kR(e,t){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Nn(),d=Jn(),f=u1(e,{relative:o});return u.useCallback(m=>{if(yR(m,n)){m.preventDefault();let p=s!==void 0?s:bd(d)===bd(f);c(e,{replace:p,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,f,s,a,n,e,i,o,l])}function zp(e){let t=u.useRef(Gm(e)),n=u.useRef(!1),s=Jn(),a=u.useMemo(()=>wR(s.search,n.current?null:t.current),[s.search]),i=Nn(),o=u.useCallback((l,c)=>{const d=Gm(typeof l=="function"?l(a):l);n.current=!0,i("?"+d,c)},[i,a]);return[a,o]}/*! Capacitor: https://capacitorjs.com/ - MIT License */var Qi;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Qi||(Qi={}));class Ri extends Error{constructor(t,n,s){super(t),this.message=t,this.code=n,this.data=s}}const ER=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},PR=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},s=n.Plugins=n.Plugins||{},a=()=>t!==null?t.name:ER(e),i=()=>a()!=="web",o=m=>{const p=d.get(m);return!!(p!=null&&p.platforms.has(a())||l(m))},l=m=>{var p;return(p=n.PluginHeaders)===null||p===void 0?void 0:p.find(h=>h.name===m)},c=m=>e.console.error(m),d=new Map,f=(m,p={})=>{const h=d.get(m);if(h)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),h.proxy;const j=a(),g=l(m);let x;const v=async()=>(!x&&j in p?x=typeof p[j]=="function"?x=await p[j]():x=p[j]:t!==null&&!x&&"web"in p&&(x=typeof p.web=="function"?x=await p.web():x=p.web),x),y=(k,T)=>{var _,P;if(g){const A=g==null?void 0:g.methods.find($=>T===$.name);if(A)return A.rtype==="promise"?$=>n.nativePromise(m,T.toString(),$):($,M)=>n.nativeCallback(m,T.toString(),$,M);if(k)return(_=k[T])===null||_===void 0?void 0:_.bind(k)}else{if(k)return(P=k[T])===null||P===void 0?void 0:P.bind(k);throw new Ri(`"${m}" plugin is not implemented on ${j}`,Qi.Unimplemented)}},w=k=>{let T;const _=(...P)=>{const A=v().then($=>{const M=y($,k);if(M){const K=M(...P);return T=K==null?void 0:K.remove,K}else throw new Ri(`"${m}.${k}()" is not implemented on ${j}`,Qi.Unimplemented)});return k==="addListener"&&(A.remove=async()=>T()),A};return _.toString=()=>`${k.toString()}() { [capacitor code] }`,Object.defineProperty(_,"name",{value:k,writable:!1,configurable:!1}),_},b=w("addListener"),N=w("removeListener"),S=(k,T)=>{const _=b({eventName:k},T),P=async()=>{const $=await _;N({eventName:k,callbackId:$},T)},A=new Promise($=>_.then(()=>$({remove:P})));return A.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},A},C=new Proxy({},{get(k,T){switch(T){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return g?S:b;case"removeListener":return N;default:return w(T)}}});return s[m]=C,d.set(m,{name:m,proxy:C,platforms:new Set([...Object.keys(p),...g?[j]:[]])}),C};return n.convertFileSrc||(n.convertFileSrc=m=>m),n.getPlatform=a,n.handleError=c,n.isNativePlatform=i,n.isPluginAvailable=o,n.registerPlugin=f,n.Exception=Ri,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},RR=e=>e.Capacitor=PR(e),Ya=RR(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),hu=Ya.registerPlugin;class pu{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let s=!1;this.listeners[t]||(this.listeners[t]=[],s=!0),this.listeners[t].push(n);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),s&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,s){const a=this.listeners[t];if(!a){if(s){let i=this.retainedEventArguments[t];i||(i=[]),i.push(n),this.retainedEventArguments[t]=i}return}a.forEach(i=>i(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:s=>{this.notifyListeners(n,s)}}}unimplemented(t="not implemented"){return new Ya.Exception(t,Qi.Unimplemented)}unavailable(t="not available"){return new Ya.Exception(t,Qi.Unavailable)}async removeListener(t,n){const s=this.listeners[t];if(!s)return;const a=s.indexOf(n);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(s=>{this.notifyListeners(t,s)}))}}const fv=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),mv=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class TR extends pu{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(s=>{if(s.length<=0)return;let[a,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=mv(a).trim(),i=mv(i).trim(),n[a]=i}),n}async setCookie(t){try{const n=fv(t.key),s=fv(t.value),a=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${s||""}${a}; path=${i}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}hu("CapacitorCookies",{web:()=>new TR});const MR=async e=>new Promise((t,n)=>{const s=new FileReader;s.onload=()=>{const a=s.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},s.onerror=a=>n(a),s.readAsDataURL(e)}),AR=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,i,o)=>(a[i]=e[t[o]],a),{})},OR=(e,t=!0)=>e?Object.entries(e).reduce((s,a)=>{const[i,o]=a;let l,c;return Array.isArray(o)?(c="",o.forEach(d=>{l=t?encodeURIComponent(d):d,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(o):o,c=`${i}=${l}`),`${s}&${c}`},"").substr(1):null,DR=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=AR(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))i.set(o,l);n.body=i.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(e.data))i.append(l,e.data[l]);n.body=i;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(a.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class FR extends pu{async request(t){const n=DR(t,t.webFetchExtra),s=OR(t.params,t.shouldEncodeUrlParams),a=s?`${t.url}?${s}`:t.url,i=await fetch(a,n),o=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?t:{};o.includes("application/json")&&(l="json");let c,d;switch(l){case"arraybuffer":case"blob":d=await i.blob(),c=await MR(d);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const f={};return i.headers.forEach((m,p)=>{f[p]=m}),{data:c,headers:f,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}hu("CapacitorHttp",{web:()=>new FR});var hv;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(hv||(hv={}));var pv;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(pv||(pv={}));class IR extends pu{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}hu("SystemBars",{web:()=>new IR});const LR="https://docuflow.ontomatrix-staging1.club/api",Ut=LR,jl=()=>{const e=localStorage.getItem("access_token");return{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}}};async function xv(e,t){const n=await e.text();if(!n||!n.trim())throw new Error(`Server returned an empty response for ${t}. Check that VITE_API_BASE_URL points to your API (e.g. /api) and the server is running.`);if(!(e.headers.get("content-type")||"").includes("application/json"))throw new Error(`Server did not return JSON for ${t}: ${n.substring(0,120)}`);try{return JSON.parse(n)}catch{throw new Error(`Invalid JSON from server (${t}): ${n.substring(0,120)}`)}}async function be(e,t={}){try{const n=await fetch(`${Ut}${e}`,{...t,headers:{...jl(),...t.headers}}),s=await n.json();return n.ok?{data:s.data??s,error:null}:{data:null,error:s.error||"Request failed"}}catch(n){return{data:null,error:n.message}}}const _a={signUp:async(e,t,n,s)=>(await fetch(`${Ut}/auth/signup.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,full_name:n,role:s})})).json(),signIn:async(e,t)=>{const n=await fetch(`${Ut}/auth/login.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),s=n.headers.get("content-type");if(!s||!s.includes("application/json")){const a=await n.text();throw new Error(`Invalid response from server: ${a.substring(0,100)}`)}return n.json()},signOut:async()=>(await fetch(`${Ut}/auth/logout.php`,{method:"POST",headers:jl()})).json(),getSession:async()=>localStorage.getItem("access_token")?(await fetch(`${Ut}/auth/session.php`,{headers:jl()})).json():{user:null,session:null,role:null},forgotPassword:async e=>{const t=await fetch(`${Ut}/auth/forgot-password.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});return xv(t,"forgot-password")},resetPassword:async(e,t)=>{const n=await fetch(`${Ut}/auth/reset-password.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:t})});return xv(n,"reset-password")}},Km={get:()=>be("/firms/index.php"),create:e=>be("/firms/index.php",{method:"POST",body:JSON.stringify(e)})},Zi={getByFirm:e=>be(`/clients/index.php?firm_id=${e}`),getOwn:()=>be("/clients/index.php"),getAssigned:()=>be("/clients/assigned.php"),create:e=>be("/clients/index.php",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>be(`/clients/index.php?id=${e}`,{method:"PUT",body:JSON.stringify(t)})},Up={getByFirm:e=>be(`/accountants/index.php?firm_id=${e}`),create:e=>be("/accountants/index.php",{method:"POST",body:JSON.stringify(e)})},xu={getByClient:e=>be(`/companies/index.php?client_id=${e}`),create:e=>be("/companies/index.php",{method:"POST",body:JSON.stringify(e)}),delete:e=>be(`/companies/index.php?id=${e}`,{method:"DELETE"})},Xi={getByClient:e=>be(`/documents/index.php?client_id=${e}`),getByFirm:e=>be(`/documents/index.php?firm_id=${e}`),getOwn:()=>be("/documents/index.php"),getAssigned:()=>be("/documents/assigned.php"),create:e=>be("/documents/index.php",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>be(`/documents/index.php?id=${e}`,{method:"PUT",body:JSON.stringify(t)}),replace:(e,t)=>be("/documents/replace.php",{method:"POST",body:JSON.stringify({old_document_id:e,new_document_id:t})})},gn={get:()=>be("/notifications/index.php"),create:e=>be("/notifications/index.php",{method:"POST",body:JSON.stringify(e)}),markRead:e=>be(`/notifications/index.php?id=${e}`,{method:"PUT",body:JSON.stringify({is_read:!0})}),markAllRead:()=>be("/notifications/index.php?id=all",{method:"PUT",body:JSON.stringify({is_read:!0})})},Sa={getByFirm:e=>be(`/reminders/index.php?firm_id=${e}`),getForClient:()=>be("/reminders/index.php"),create:e=>be("/reminders/index.php",{method:"POST",body:JSON.stringify(e)}),delete:e=>be(`/reminders/index.php?id=${e}`,{method:"DELETE"}),processDue:()=>be("/reminders/process.php")},_d={validate:async e=>(await fetch(`${Ut}/invites/index.php?token=${e}`)).json(),create:e=>be("/invites/index.php",{method:"POST",body:JSON.stringify(e)}),markUsed:e=>be(`/invites/index.php?token=${e}`,{method:"PUT"})},Qm={get:e=>be(e?`/profiles/index.php?user_id=${e}`:"/profiles/index.php"),update:e=>be("/profiles/index.php",{method:"PUT",body:JSON.stringify(e)})},Nf=async(e,t,n)=>{const s=new FormData;s.append("file",e),t&&s.append("client_id",t),n&&s.append("company_id",n);const a=localStorage.getItem("access_token");return(await fetch(`${Ut}/upload/index.php`,{method:"POST",headers:a?{Authorization:`Bearer ${a}`}:{},body:s})).json()},Qt={getDashboard:()=>be("/admin/dashboard.php"),firms:{list:e=>{const t=new URLSearchParams;e!=null&&e.search&&t.set("search",e.search),e!=null&&e.status&&t.set("status",e.status),e!=null&&e.plan&&t.set("plan",e.plan),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.per_page&&t.set("per_page",String(e.per_page));const n=t.toString();return be(`/admin/firms/index.php${n?"?"+n:""}`)},get:e=>be(`/admin/firms/index.php?id=${e}`),update:(e,t)=>be(`/admin/firms/index.php?id=${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>be(`/admin/firms/index.php?id=${e}`,{method:"DELETE"})},users:{list:e=>{const t=new URLSearchParams;e!=null&&e.search&&t.set("search",e.search),e!=null&&e.role&&t.set("role",e.role),e!=null&&e.firm_id&&t.set("firm_id",e.firm_id),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.per_page&&t.set("per_page",String(e.per_page));const n=t.toString();return be(`/admin/users/index.php${n?"?"+n:""}`)},update:(e,t)=>be(`/admin/users/index.php?id=${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>be(`/admin/users/index.php?id=${e}`,{method:"DELETE"})},settings:{get:()=>be("/admin/settings/index.php"),update:e=>be("/admin/settings/index.php",{method:"POST",body:JSON.stringify(e)})},usage:{getAll:e=>{const t=e?`?period=${e}`:"";return be(`/admin/usage/index.php${t}`)},getByFirm:(e,t)=>{const n=new URLSearchParams({firm_id:e});return t&&n.set("period",t),be(`/admin/usage/index.php?${n.toString()}`)}},plans:{list:()=>be("/admin/plans/index.php"),create:e=>be("/admin/plans/index.php",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>be(`/admin/plans/index.php?id=${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>be(`/admin/plans/index.php?id=${e}`,{method:"DELETE"})},audit:{list:e=>{const t=new URLSearchParams;e!=null&&e.search&&t.set("search",e.search),e!=null&&e.action&&t.set("action",e.action),e!=null&&e.entity_type&&t.set("entity_type",e.entity_type),e!=null&&e.page&&t.set("page",String(e.page)),e!=null&&e.per_page&&t.set("per_page",String(e.per_page));const n=t.toString();return be(`/admin/audit/index.php${n?"?"+n:""}`)}}},as={getDocuments:()=>be("/clarifications/index.php"),getMessages:e=>be(`/clarifications/index.php?document_id=${e}`),sendMessage:e=>be("/clarifications/index.php",{method:"POST",body:JSON.stringify(e)})};function $R(e){const t=e.replace(/^#/,"");let n,s,a;if(t.length===3)n=parseInt(t[0]+t[0],16)/255,s=parseInt(t[1]+t[1],16)/255,a=parseInt(t[2]+t[2],16)/255;else if(t.length===6)n=parseInt(t.slice(0,2),16)/255,s=parseInt(t.slice(2,4),16)/255,a=parseInt(t.slice(4,6),16)/255;else return"220 70% 50%";const i=Math.max(n,s,a),o=Math.min(n,s,a);let l=0,c=0;const d=(i+o)/2;if(i!==o){const h=i-o;c=d>.5?h/(2-i-o):h/(i+o),i===n?l=((s-a)/h+(s<a?6:0))/6:i===s?l=((a-n)/h+2)/6:l=((n-s)/h+4)/6}const f=Math.round(l*360),m=Math.round(c*100),p=Math.round(d*100);return`${f} ${m}% ${p}%`}function zR(e){const t=$R(e),[n,s,a]=t.split(/\s+/),i=(s==null?void 0:s.replace("%",""))??"70",o=(a==null?void 0:a.replace("%",""))??"50",l=Math.min(100,Math.max(0,parseInt(i,10)||70)),c=Math.min(100,Math.max(0,parseInt(o,10)||50));return{"--primary":`${n} ${l}% ${c}%`,"--accent":`${n} ${l}% ${c}%`,"--ring":`${n} ${l}% ${c}%`,"--sidebar-background":`${n} ${l}% 25%`,"--sidebar-primary":`${n} ${l}% 45%`,"--sidebar-accent":`${n} ${Math.min(l,70)}% 30%`,"--sidebar-border":`${n} ${Math.min(l,70)}% 30%`,"--sidebar-ring":`${n} ${l}% 45%`}}const gv={emerald:{"--primary":"160 84% 39%","--accent":"160 84% 39%","--ring":"160 84% 39%","--sidebar-background":"160 84% 25%","--sidebar-primary":"160 84% 45%","--sidebar-accent":"160 70% 30%","--sidebar-border":"160 70% 30%","--sidebar-ring":"160 84% 45%"},violet:{"--primary":"263 70% 50%","--accent":"263 70% 50%","--ring":"263 70% 50%","--sidebar-background":"263 70% 30%","--sidebar-primary":"263 70% 58%","--sidebar-accent":"263 60% 35%","--sidebar-border":"263 60% 35%","--sidebar-ring":"263 70% 58%"},slate:{"--primary":"215 25% 35%","--accent":"215 25% 35%","--ring":"215 25% 35%","--sidebar-background":"215 25% 22%","--sidebar-primary":"215 25% 45%","--sidebar-accent":"215 20% 28%","--sidebar-border":"215 20% 28%","--sidebar-ring":"215 25% 45%"},amber:{"--primary":"38 92% 50%","--accent":"38 92% 50%","--ring":"38 92% 50%","--sidebar-background":"38 92% 32%","--sidebar-primary":"38 92% 55%","--sidebar-accent":"38 85% 38%","--sidebar-border":"38 85% 38%","--sidebar-ring":"38 92% 55%"}},UR=["--primary","--accent","--ring","--sidebar-background","--sidebar-primary","--sidebar-accent","--sidebar-border","--sidebar-ring"],h1=/^#[0-9A-Fa-f]{3}$|^#[0-9A-Fa-f]{6}$/;function vc(e){return!!e&&h1.test(e.trim())}function Sd(e,t){e.removeAttribute("data-theme"),UR.forEach(i=>e.style.removeProperty(i));const n=t&&t.trim()!==""&&t.trim()!=="default"?t.trim():null;if(!n)return;if(h1.test(n)){e.setAttribute("data-theme","custom");const i=zR(n);Object.entries(i).forEach(([o,l])=>{e.style.setProperty(o,l)});return}const a=n.toLowerCase();gv[a]&&(e.setAttribute("data-theme",a),Object.entries(gv[a]).forEach(([i,o])=>{e.style.setProperty(i,o)}))}const p1=u.createContext(void 0);function BR({children:e}){const[t,n]=u.useState(null),[s,a]=u.useState(null),[i,o]=u.useState(null),[l,c]=u.useState(!0);u.useEffect(()=>{(async()=>{if(!localStorage.getItem("access_token")){c(!1);return}try{const j=await _a.getSession();j.user?(n(j.user),a(j.session),o(j.role)):localStorage.removeItem("access_token")}catch(j){console.error("Session check failed:",j),localStorage.removeItem("access_token")}c(!1)})()},[]);const d=async(p,h,j,g)=>{try{const x=await _a.signUp(p,h,j,g);return x.error?{error:new Error(x.error)}:(localStorage.setItem("access_token",x.session.access_token),n(x.user),a(x.session),o(x.role),{error:null})}catch(x){return{error:x}}},f=async(p,h)=>{try{const j=await _a.signIn(p,h);return j.error?{error:new Error(j.error)}:(localStorage.setItem("access_token",j.session.access_token),n(j.user),a(j.session),o(j.role),{error:null})}catch(j){return{error:j}}},m=async()=>{try{await _a.signOut()}catch(p){console.error("Logout error:",p)}finally{localStorage.removeItem("access_token"),a(null),n(null),o(null),Sd(document.documentElement,null)}};return r.jsx(p1.Provider,{value:{user:t,session:s,userRole:i,loading:l,signUp:d,signIn:f,signOut:m},children:e})}function er(){const e=u.useContext(p1);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const x1=u.createContext(null),gu=()=>{const e=u.useContext(x1);if(!e)throw new Error("useAppSettings must be used within AppSettingsProvider");return e},Dr=({children:e,firmId:t})=>{const[n,s]=u.useState(null),[a,i]=u.useState(!0),o=te.useCallback(async()=>{try{const c=t?`${Ut}/settings/index.php?public=1&firm_id=${encodeURIComponent(t)}`:`${Ut}/settings/index.php?public=1`,f=await(await fetch(c,{cache:"no-store"})).json();if(f.success&&f.settings&&typeof f.settings=="object"){const m=f.settings,p=m.theme_color,h=p!=null&&String(p).trim()!==""&&String(p).trim()!=="default"?String(p).trim():null;Sd(document.documentElement,h),s(m)}else throw new Error("Failed to load settings")}catch(c){console.error("Failed to load app settings:",c),s({app_name:"DocqFlow",app_description:"Streamline Your Document Workflow",company_name:"DocqFlow",hero_title:"Streamline Your Document Workflow",hero_subtitle:"Connect your clients with your accounting team through a simple, secure document management platform.",features_json:[{title:"Easy Document Upload",description:"Clients can snap photos or upload documents directly from their mobile device",icon:"FileUp"},{title:"Team Management",description:"Firms can assign clients to accountants and track all document workflows",icon:"Users"},{title:"Real-time Notifications",description:"Stay updated with instant alerts when documents are uploaded or require action",icon:"Bell"},{title:"Secure & Compliant",description:"Bank-level security ensures your sensitive financial documents are protected",icon:"Shield"}]})}finally{i(!1)}},[t]);if(u.useEffect(()=>{i(!0),o()},[o]),u.useEffect(()=>{const c=n==null?void 0:n.theme_color,d=c!=null&&String(c).trim()!==""&&String(c).trim()!=="default"?String(c).trim():null;Sd(document.documentElement,d)},[n]),a)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const l={...n||{},refetchSettings:o};return r.jsx(x1.Provider,{value:l,children:e})},Zm=nu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",accent:"bg-accent text-accent-foreground hover:bg-accent/90 shadow-md hover:shadow-glow",success:"bg-success text-success-foreground hover:bg-success/90 shadow-md",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-md",hero:"gradient-primary text-primary-foreground shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=u.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},i)=>{const o=s?JC:"button";return r.jsx(o,{className:ye(Zm({variant:t,size:n,className:e})),ref:i,...a})});Y.displayName="Button";const WR=[{step:"1",title:"Client Uploads",description:"Clients capture or upload invoices and receipts"},{step:"2",title:"Accountant Reviews",description:"Your team gets notified and processes documents"},{step:"3",title:"Status Updates",description:"Clients receive updates on their document status"}],VR={FileUp:hr,Users:Fn,Bell:gr,Shield:vp,Building:nt,CheckCircle:bt,ArrowRight:Fm};function HR(){const e=gu(),t=((e==null?void 0:e.features_json)||[]).map(n=>({...n,icon:VR[n.icon]||hr}));return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 glass border-b border-border/50",children:r.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg gradient-primary flex items-center justify-center",children:r.jsx(hr,{className:"w-5 h-5 text-primary-foreground"})}),r.jsx("span",{className:"text-xl font-bold text-foreground",children:(e==null?void 0:e.app_name)||"DocqFlow"})]}),r.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[r.jsx("a",{href:"#features",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),r.jsx("a",{href:"#how-it-works",className:"text-muted-foreground hover:text-foreground transition-colors",children:"How It Works"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(xt,{to:"/auth",children:r.jsx(Y,{variant:"ghost",children:"Sign In"})}),r.jsx(xt,{to:"/auth?mode=signup",children:r.jsx(Y,{variant:"accent",children:"Get Started"})})]})]})}),r.jsx("section",{className:"pt-32 pb-20 px-4",children:r.jsxs("div",{className:"container mx-auto max-w-6xl",children:[r.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-accent/10 text-accent border border-accent/20",children:[r.jsx(bt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Trusted by 500+ Accounting Firms"})]}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-foreground leading-tight",children:(e==null?void 0:e.hero_title)||"Streamline Your Document Workflow"}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:(e==null?void 0:e.hero_subtitle)||"Connect your clients with your accounting team through a simple, secure document management platform."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:[r.jsx(xt,{to:"/auth?mode=signup",children:r.jsxs(Y,{variant:"hero",size:"xl",children:["Register Your Firm",r.jsx(Fm,{className:"w-5 h-5"})]})}),r.jsx(xt,{to:"/auth",children:r.jsx(Y,{variant:"outline",size:"xl",children:"Sign In"})})]})]}),r.jsx("div",{className:"mt-16 relative animate-slide-up",style:{animationDelay:"0.2s"},children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-lg border border-border/50 hover:shadow-xl hover:border-primary/30 transition-all duration-300 group",children:[r.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:r.jsx(nt,{className:"w-7 h-7 text-primary"})}),r.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"For Firms"}),r.jsxs("ul",{className:"space-y-2 text-muted-foreground text-sm",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-4 h-4 text-success"}),"Manage all clients & accountants"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-4 h-4 text-success"}),"Track document workflows"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-4 h-4 text-success"}),"Generate invite links"]})]})]}),r.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-lg border border-border/50 hover:shadow-xl hover:border-accent/30 transition-all duration-300 group",children:[r.jsx("div",{className:"w-14 h-14 rounded-xl bg-accent/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:r.jsx(Fn,{className:"w-7 h-7 text-accent"})}),r.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"For Accountants"}),r.jsxs("ul",{className:"space-y-2 text-muted-foreground text-sm",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-4 h-4 text-success"}),"Review assigned client documents"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-4 h-4 text-success"}),"Update document status"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-4 h-4 text-success"}),"Request clarifications"]})]})]}),r.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-lg border border-border/50 hover:shadow-xl hover:border-success/30 transition-all duration-300 group",children:[r.jsx("div",{className:"w-14 h-14 rounded-xl bg-success/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:r.jsx(hr,{className:"w-7 h-7 text-success"})}),r.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"For Clients"}),r.jsxs("ul",{className:"space-y-2 text-muted-foreground text-sm",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-4 h-4 text-success"}),"Upload documents easily"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-4 h-4 text-success"}),"Track processing status"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"w-4 h-4 text-success"}),"Get real-time notifications"]})]})]})]})})]})}),r.jsx("section",{id:"features",className:"py-20 px-4 bg-secondary/30",children:r.jsxs("div",{className:"container mx-auto max-w-6xl",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Everything You Need"}),r.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:(e==null?void 0:e.app_description)||"A complete solution for managing accounting documents between your firm and clients"})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((n,s)=>r.jsxs("div",{className:"bg-card rounded-xl p-6 shadow-md border border-border/50 hover:shadow-lg transition-all duration-300 animate-slide-up",style:{animationDelay:`${s*.1}s`},children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-accent/10 flex items-center justify-center mb-4",children:r.jsx(n.icon,{className:"w-6 h-6 text-accent"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:n.title}),r.jsx("p",{className:"text-muted-foreground text-sm",children:n.description})]},n.title))})]})}),r.jsx("section",{id:"how-it-works",className:"py-20 px-4",children:r.jsxs("div",{className:"container mx-auto max-w-4xl",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"How It Works"}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"Simple, efficient workflow in three easy steps"})]}),r.jsx("div",{className:"relative",children:r.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:WR.map((n,s)=>r.jsxs("div",{className:"relative text-center animate-slide-up",style:{animationDelay:`${s*.15}s`},children:[r.jsx("div",{className:"w-16 h-16 rounded-full gradient-primary text-primary-foreground text-2xl font-bold flex items-center justify-center mx-auto mb-4 relative z-10 shadow-lg",children:n.step}),r.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:n.title}),r.jsx("p",{className:"text-muted-foreground",children:n.description})]},n.step))})})]})}),r.jsx("section",{className:"py-20 px-4 gradient-primary",children:r.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary-foreground mb-4",children:"Ready to Streamline Your Workflow?"}),r.jsx("p",{className:"text-primary-foreground/80 text-lg mb-8 max-w-2xl mx-auto",children:"Join hundreds of accounting firms who have simplified their document management with DocqFlow"}),r.jsx(xt,{to:"/auth?mode=signup",children:r.jsxs(Y,{variant:"secondary",size:"xl",children:["Get Started Free",r.jsx(Fm,{className:"w-5 h-5"})]})})]})}),r.jsx("footer",{className:"py-8 px-4 border-t border-border",children:r.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 rounded gradient-primary flex items-center justify-center",children:r.jsx(hr,{className:"w-4 h-4 text-primary-foreground"})}),r.jsx("span",{className:"font-semibold text-foreground",children:(e==null?void 0:e.app_name)||"DocqFlow"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[" 2024 ",(e==null?void 0:e.app_name)||"DocqFlow",". All rights reserved."]})]})})]})}function YR(){return r.jsx(Dr,{children:r.jsx(HR,{})})}const xe=u.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));xe.displayName="Input";var qR="Label",g1=u.forwardRef((e,t)=>r.jsx(_e.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));g1.displayName=qR;var v1=g1;const GR=nu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=u.forwardRef(({className:e,...t},n)=>r.jsx(v1,{ref:n,className:ye(GR(),e),...t}));ce.displayName=v1.displayName;var Ge;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Ge||(Ge={}));var vv;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(vv||(vv={}));const pe=Ge.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ps=e=>{switch(typeof e){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return Number.isNaN(e)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(e)?pe.array:e===null?pe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?pe.promise:typeof Map<"u"&&e instanceof Map?pe.map:typeof Set<"u"&&e instanceof Set?pe.set:typeof Date<"u"&&e instanceof Date?pe.date:pe.object;default:return pe.unknown}},ee=Ge.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class vs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof vs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ge.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];n[i]=n[i]||[],n[i].push(t(a))}else s.push(t(a));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}vs.create=e=>new vs(e);const Xm=(e,t)=>{let n;switch(e.code){case ee.invalid_type:e.received===pe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ee.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ge.jsonStringifyReplacer)}`;break;case ee.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ge.joinValues(e.keys,", ")}`;break;case ee.invalid_union:n="Invalid input";break;case ee.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ge.joinValues(e.options)}`;break;case ee.invalid_enum_value:n=`Invalid enum value. Expected ${Ge.joinValues(e.options)}, received '${e.received}'`;break;case ee.invalid_arguments:n="Invalid function arguments";break;case ee.invalid_return_type:n="Invalid function return type";break;case ee.invalid_date:n="Invalid date";break;case ee.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ge.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ee.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ee.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ee.custom:n="Invalid input";break;case ee.invalid_intersection_types:n="Intersection results could not be merged";break;case ee.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ee.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ge.assertNever(e)}return{message:n}};let KR=Xm;function QR(){return KR}const ZR=e=>{const{data:t,path:n,errorMaps:s,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function de(e,t){const n=QR(),s=ZR({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Xm?void 0:Xm].filter(a=>!!a)});e.common.issues.push(s)}class In{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const a of n){if(a.status==="aborted")return Pe;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const a of n){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return In.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const a of n){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Pe;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const Pe=Object.freeze({status:"aborted"}),Lo=e=>({status:"dirty",value:e}),tr=e=>({status:"valid",value:e}),yv=e=>e.status==="aborted",wv=e=>e.status==="dirty",Ji=e=>e.status==="valid",Cd=e=>typeof Promise<"u"&&e instanceof Promise;var ge;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ge||(ge={}));class aa{constructor(t,n,s,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const jv=(e,t)=>{if(Ji(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new vs(e.common.issues);return this._error=n,this._error}}};function De(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:a}=e;if(t&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:a}}class He{get description(){return this._def.description}_getType(t){return Ps(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ps(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new In,ctx:{common:t.parent.common,data:t.data,parsedType:Ps(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Cd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){const s={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ps(t)},a=this._parseSync({data:t,path:s.path,parent:s});return jv(s,a)}"~validate"(t){var s,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ps(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return Ji(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(a=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>Ji(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ps(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(Cd(a)?a:Promise.resolve(a));return jv(s,i)}refine(t,n){const s=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ee.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof n=="function"?n(s,a):n),!1))}_refinement(t){return new to({schema:this,typeName:Re.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Xs.create(this,this._def)}nullable(){return no.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Vr.create(this)}promise(){return Rd.create(this,this._def)}or(t){return Ed.create([this,t],this._def)}and(t){return Pd.create(this,t,this._def)}transform(t){return new to({...De(this._def),schema:this,typeName:Re.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new eh({...De(this._def),innerType:this,defaultValue:n,typeName:Re.ZodDefault})}brand(){return new wT({typeName:Re.ZodBranded,type:this,...De(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new th({...De(this._def),innerType:this,catchValue:n,typeName:Re.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Bp.create(this,t)}readonly(){return nh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const XR=/^c[^\s-]{8,}$/i,JR=/^[0-9a-z]+$/,eT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,tT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nT=/^[a-z0-9_-]{21}$/i,rT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,sT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,aT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,iT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _f;const oT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,dT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,fT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,y1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mT=new RegExp(`^${y1}$`);function w1(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function hT(e){return new RegExp(`^${w1(e)}$`)}function pT(e){let t=`${y1}T${w1(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function xT(e,t){return!!((t==="v4"||!t)&&oT.test(e)||(t==="v6"||!t)&&cT.test(e))}function gT(e,t){if(!rT.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function vT(e,t){return!!((t==="v4"||!t)&&lT.test(e)||(t==="v6"||!t)&&dT.test(e))}class zs extends He{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==pe.string){const i=this._getOrReturnCtx(t);return de(i,{code:ee.invalid_type,expected:pe.string,received:i.parsedType}),Pe}const s=new In;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),de(a,{code:ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),de(a,{code:ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?de(a,{code:ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&de(a,{code:ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")aT.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"email",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")_f||(_f=new RegExp(iT,"u")),_f.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"emoji",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")tT.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"uuid",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")nT.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"nanoid",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")XR.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"cuid",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")JR.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"cuid2",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")eT.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"ulid",code:ee.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),de(a,{validation:"url",code:ee.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"regex",code:ee.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),de(a,{code:ee.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),de(a,{code:ee.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),de(a,{code:ee.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?pT(i).test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{code:ee.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?mT.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{code:ee.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?hT(i).test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{code:ee.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?sT.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"duration",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?xT(t.data,i.version)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"ip",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?gT(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"jwt",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?vT(t.data,i.version)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"cidr",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?uT.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"base64",code:ee.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?fT.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"base64url",code:ee.invalid_string,message:i.message}),s.dirty()):Ge.assertNever(i);return{status:s.value,value:t.data}}_regex(t,n,s){return this.refinement(a=>t.test(a),{validation:n,code:ee.invalid_string,...ge.errToObj(s)})}_addCheck(t){return new zs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ge.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ge.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ge.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ge.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ge.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ge.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ge.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ge.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ge.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ge.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ge.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ge.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ge.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ge.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ge.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ge.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ge.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ge.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ge.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ge.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ge.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ge.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ge.errToObj(n)})}nonempty(t){return this.min(1,ge.errToObj(t))}trim(){return new zs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}zs.create=e=>new zs({checks:[],typeName:Re.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...De(e)});function yT(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=n>s?n:s,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class bl extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==pe.number){const i=this._getOrReturnCtx(t);return de(i,{code:ee.invalid_type,expected:pe.number,received:i.parsedType}),Pe}let s;const a=new In;for(const i of this._def.checks)i.kind==="int"?Ge.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),de(s,{code:ee.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),de(s,{code:ee.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),de(s,{code:ee.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?yT(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),de(s,{code:ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),de(s,{code:ee.not_finite,message:i.message}),a.dirty()):Ge.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ge.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ge.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ge.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ge.toString(n))}setLimit(t,n,s,a){return new bl({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:ge.toString(a)}]})}_addCheck(t){return new bl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ge.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ge.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ge.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ge.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ge.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ge.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ge.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(n)&&Number.isFinite(t)}}bl.create=e=>new bl({checks:[],typeName:Re.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...De(e)});class Nl extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==pe.bigint)return this._getInvalidInput(t);let s;const a=new In;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),de(s,{code:ee.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),de(s,{code:ee.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),de(s,{code:ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Ge.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return de(n,{code:ee.invalid_type,expected:pe.bigint,received:n.parsedType}),Pe}gte(t,n){return this.setLimit("min",t,!0,ge.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ge.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ge.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ge.toString(n))}setLimit(t,n,s,a){return new Nl({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:ge.toString(a)}]})}_addCheck(t){return new Nl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ge.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ge.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Nl.create=e=>new Nl({checks:[],typeName:Re.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...De(e)});class bv extends He{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==pe.boolean){const s=this._getOrReturnCtx(t);return de(s,{code:ee.invalid_type,expected:pe.boolean,received:s.parsedType}),Pe}return tr(t.data)}}bv.create=e=>new bv({typeName:Re.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...De(e)});class kd extends He{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==pe.date){const i=this._getOrReturnCtx(t);return de(i,{code:ee.invalid_type,expected:pe.date,received:i.parsedType}),Pe}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return de(i,{code:ee.invalid_date}),Pe}const s=new In;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),de(a,{code:ee.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),de(a,{code:ee.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Ge.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new kd({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ge.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ge.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}kd.create=e=>new kd({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Re.ZodDate,...De(e)});class Nv extends He{_parse(t){if(this._getType(t)!==pe.symbol){const s=this._getOrReturnCtx(t);return de(s,{code:ee.invalid_type,expected:pe.symbol,received:s.parsedType}),Pe}return tr(t.data)}}Nv.create=e=>new Nv({typeName:Re.ZodSymbol,...De(e)});class _v extends He{_parse(t){if(this._getType(t)!==pe.undefined){const s=this._getOrReturnCtx(t);return de(s,{code:ee.invalid_type,expected:pe.undefined,received:s.parsedType}),Pe}return tr(t.data)}}_v.create=e=>new _v({typeName:Re.ZodUndefined,...De(e)});class Sv extends He{_parse(t){if(this._getType(t)!==pe.null){const s=this._getOrReturnCtx(t);return de(s,{code:ee.invalid_type,expected:pe.null,received:s.parsedType}),Pe}return tr(t.data)}}Sv.create=e=>new Sv({typeName:Re.ZodNull,...De(e)});class Cv extends He{constructor(){super(...arguments),this._any=!0}_parse(t){return tr(t.data)}}Cv.create=e=>new Cv({typeName:Re.ZodAny,...De(e)});class kv extends He{constructor(){super(...arguments),this._unknown=!0}_parse(t){return tr(t.data)}}kv.create=e=>new kv({typeName:Re.ZodUnknown,...De(e)});class ia extends He{_parse(t){const n=this._getOrReturnCtx(t);return de(n,{code:ee.invalid_type,expected:pe.never,received:n.parsedType}),Pe}}ia.create=e=>new ia({typeName:Re.ZodNever,...De(e)});class Ev extends He{_parse(t){if(this._getType(t)!==pe.undefined){const s=this._getOrReturnCtx(t);return de(s,{code:ee.invalid_type,expected:pe.void,received:s.parsedType}),Pe}return tr(t.data)}}Ev.create=e=>new Ev({typeName:Re.ZodVoid,...De(e)});class Vr extends He{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),a=this._def;if(n.parsedType!==pe.array)return de(n,{code:ee.invalid_type,expected:pe.array,received:n.parsedType}),Pe;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(o||l)&&(de(n,{code:o?ee.too_big:ee.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(de(n,{code:ee.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(de(n,{code:ee.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>a.type._parseAsync(new aa(n,o,n.path,l)))).then(o=>In.mergeArray(s,o));const i=[...n.data].map((o,l)=>a.type._parseSync(new aa(n,o,n.path,l)));return In.mergeArray(s,i)}get element(){return this._def.type}min(t,n){return new Vr({...this._def,minLength:{value:t,message:ge.toString(n)}})}max(t,n){return new Vr({...this._def,maxLength:{value:t,message:ge.toString(n)}})}length(t,n){return new Vr({...this._def,exactLength:{value:t,message:ge.toString(n)}})}nonempty(t){return this.min(1,t)}}Vr.create=(e,t)=>new Vr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Re.ZodArray,...De(t)});function ci(e){if(e instanceof ht){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=Xs.create(ci(s))}return new ht({...e._def,shape:()=>t})}else return e instanceof Vr?new Vr({...e._def,type:ci(e.element)}):e instanceof Xs?Xs.create(ci(e.unwrap())):e instanceof no?no.create(ci(e.unwrap())):e instanceof qa?qa.create(e.items.map(t=>ci(t))):e}class ht extends He{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ge.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==pe.object){const d=this._getOrReturnCtx(t);return de(d,{code:ee.invalid_type,expected:pe.object,received:d.parsedType}),Pe}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ia&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=i[d],m=a.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new aa(a,m,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof ia){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:a.data[f]}});else if(d==="strict")l.length>0&&(de(a,{code:ee.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const m=a.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new aa(a,m,a.path,f)),alwaysSet:f in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const m=await f.key,p=await f.value;d.push({key:m,value:p,alwaysSet:f.alwaysSet})}return d}).then(d=>In.mergeObjectSync(s,d)):In.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return ge.errToObj,new ht({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,s).message)??s.defaultError;return n.code==="unrecognized_keys"?{message:ge.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new ht({...this._def,unknownKeys:"strip"})}passthrough(){return new ht({...this._def,unknownKeys:"passthrough"})}extend(t){return new ht({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ht({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Re.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ht({...this._def,catchall:t})}pick(t){const n={};for(const s of Ge.objectKeys(t))t[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new ht({...this._def,shape:()=>n})}omit(t){const n={};for(const s of Ge.objectKeys(this.shape))t[s]||(n[s]=this.shape[s]);return new ht({...this._def,shape:()=>n})}deepPartial(){return ci(this)}partial(t){const n={};for(const s of Ge.objectKeys(this.shape)){const a=this.shape[s];t&&!t[s]?n[s]=a:n[s]=a.optional()}return new ht({...this._def,shape:()=>n})}required(t){const n={};for(const s of Ge.objectKeys(this.shape))if(t&&!t[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Xs;)i=i._def.innerType;n[s]=i}return new ht({...this._def,shape:()=>n})}keyof(){return j1(Ge.objectKeys(this.shape))}}ht.create=(e,t)=>new ht({shape:()=>e,unknownKeys:"strip",catchall:ia.create(),typeName:Re.ZodObject,...De(t)});ht.strictCreate=(e,t)=>new ht({shape:()=>e,unknownKeys:"strict",catchall:ia.create(),typeName:Re.ZodObject,...De(t)});ht.lazycreate=(e,t)=>new ht({shape:e,unknownKeys:"strip",catchall:ia.create(),typeName:Re.ZodObject,...De(t)});class Ed extends He{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new vs(l.ctx.common.issues));return de(n,{code:ee.invalid_union,unionErrors:o}),Pe}if(n.common.async)return Promise.all(s.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new vs(c));return de(n,{code:ee.invalid_union,unionErrors:l}),Pe}}get options(){return this._def.options}}Ed.create=(e,t)=>new Ed({options:e,typeName:Re.ZodUnion,...De(t)});function Jm(e,t){const n=Ps(e),s=Ps(t);if(e===t)return{valid:!0,data:e};if(n===pe.object&&s===pe.object){const a=Ge.objectKeys(t),i=Ge.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Jm(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===pe.array&&s===pe.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Jm(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===pe.date&&s===pe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Pd extends He{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(yv(i)||yv(o))return Pe;const l=Jm(i.value,o.value);return l.valid?((wv(i)||wv(o))&&n.dirty(),{status:n.value,value:l.data}):(de(s,{code:ee.invalid_intersection_types}),Pe)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Pd.create=(e,t,n)=>new Pd({left:e,right:t,typeName:Re.ZodIntersection,...De(n)});class qa extends He{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==pe.array)return de(s,{code:ee.invalid_type,expected:pe.array,received:s.parsedType}),Pe;if(s.data.length<this._def.items.length)return de(s,{code:ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pe;!this._def.rest&&s.data.length>this._def.items.length&&(de(s,{code:ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new aa(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>In.mergeArray(n,o)):In.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new qa({...this._def,rest:t})}}qa.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qa({items:e,typeName:Re.ZodTuple,rest:null,...De(t)})};class Pv extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==pe.map)return de(s,{code:ee.invalid_type,expected:pe.map,received:s.parsedType}),Pe;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new aa(s,l,s.path,[d,"key"])),value:i._parse(new aa(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return Pe;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return Pe;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}Pv.create=(e,t,n)=>new Pv({valueType:t,keyType:e,typeName:Re.ZodMap,...De(n)});class _l extends He{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==pe.set)return de(s,{code:ee.invalid_type,expected:pe.set,received:s.parsedType}),Pe;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(de(s,{code:ee.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(de(s,{code:ee.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return Pe;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new aa(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new _l({...this._def,minSize:{value:t,message:ge.toString(n)}})}max(t,n){return new _l({...this._def,maxSize:{value:t,message:ge.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}_l.create=(e,t)=>new _l({valueType:e,minSize:null,maxSize:null,typeName:Re.ZodSet,...De(t)});class Rv extends He{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Rv.create=(e,t)=>new Rv({getter:e,typeName:Re.ZodLazy,...De(t)});class Tv extends He{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return de(n,{received:n.data,code:ee.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:t.data}}get value(){return this._def.value}}Tv.create=(e,t)=>new Tv({value:e,typeName:Re.ZodLiteral,...De(t)});function j1(e,t){return new eo({values:e,typeName:Re.ZodEnum,...De(t)})}class eo extends He{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return de(n,{expected:Ge.joinValues(s),received:n.parsedType,code:ee.invalid_type}),Pe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),s=this._def.values;return de(n,{received:n.data,code:ee.invalid_enum_value,options:s}),Pe}return tr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return eo.create(t,{...this._def,...n})}exclude(t,n=this._def){return eo.create(this.options.filter(s=>!t.includes(s)),{...this._def,...n})}}eo.create=j1;class Mv extends He{_parse(t){const n=Ge.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==pe.string&&s.parsedType!==pe.number){const a=Ge.objectValues(n);return de(s,{expected:Ge.joinValues(a),received:s.parsedType,code:ee.invalid_type}),Pe}if(this._cache||(this._cache=new Set(Ge.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Ge.objectValues(n);return de(s,{received:s.data,code:ee.invalid_enum_value,options:a}),Pe}return tr(t.data)}get enum(){return this._def.values}}Mv.create=(e,t)=>new Mv({values:e,typeName:Re.ZodNativeEnum,...De(t)});class Rd extends He{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==pe.promise&&n.common.async===!1)return de(n,{code:ee.invalid_type,expected:pe.promise,received:n.parsedType}),Pe;const s=n.parsedType===pe.promise?n.data:Promise.resolve(n.data);return tr(s.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Rd.create=(e,t)=>new Rd({type:e,typeName:Re.ZodPromise,...De(t)});class to extends He{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{de(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Pe;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?Pe:c.status==="dirty"||n.value==="dirty"?Lo(c.value):c});{if(n.value==="aborted")return Pe;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?Pe:l.status==="dirty"||n.value==="dirty"?Lo(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Pe:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?Pe:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Ji(o))return Pe;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Ji(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:n.value,value:l})):Pe);Ge.assertNever(a)}}to.create=(e,t,n)=>new to({schema:e,typeName:Re.ZodEffects,effect:t,...De(n)});to.createWithPreprocess=(e,t,n)=>new to({schema:t,effect:{type:"preprocess",transform:e},typeName:Re.ZodEffects,...De(n)});class Xs extends He{_parse(t){return this._getType(t)===pe.undefined?tr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xs.create=(e,t)=>new Xs({innerType:e,typeName:Re.ZodOptional,...De(t)});class no extends He{_parse(t){return this._getType(t)===pe.null?tr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}no.create=(e,t)=>new no({innerType:e,typeName:Re.ZodNullable,...De(t)});class eh extends He{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===pe.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}eh.create=(e,t)=>new eh({innerType:e,typeName:Re.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...De(t)});class th extends He{_parse(t){const{ctx:n}=this._processInputParams(t),s={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Cd(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new vs(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new vs(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}th.create=(e,t)=>new th({innerType:e,typeName:Re.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...De(t)});class Av extends He{_parse(t){if(this._getType(t)!==pe.nan){const s=this._getOrReturnCtx(t);return de(s,{code:ee.invalid_type,expected:pe.nan,received:s.parsedType}),Pe}return{status:"valid",value:t.data}}}Av.create=e=>new Av({typeName:Re.ZodNaN,...De(e)});class wT extends He{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Bp extends He{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Pe:i.status==="dirty"?(n.dirty(),Lo(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Pe:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,n){return new Bp({in:t,out:n,typeName:Re.ZodPipeline})}}class nh extends He{_parse(t){const n=this._def.innerType._parse(t),s=a=>(Ji(a)&&(a.value=Object.freeze(a.value)),a);return Cd(n)?n.then(a=>s(a)):s(n)}unwrap(){return this._def.innerType}}nh.create=(e,t)=>new nh({innerType:e,typeName:Re.ZodReadonly,...De(t)});ht.lazycreate;var Re;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Re||(Re={}));const fa=zs.create;ia.create;Vr.create;ht.create;ht.strictCreate;Ed.create;Pd.create;qa.create;eo.create;Rd.create;Xs.create;no.create;const jT=fa().email("Please enter a valid email address"),bT=fa().min(6,"Password must be at least 6 characters"),NT=fa().min(2,"Name must be at least 2 characters");function _T(){const[e]=zp(),t=Nn(),{signIn:n,signUp:s,user:a}=er(),{toast:i}=Et(),o=Ya.isNativePlatform()||e.get("app")==="client",[l,c]=u.useState(!o&&e.get("mode")==="signup"),[d,f]=u.useState(""),[m,p]=u.useState(""),[h,j]=u.useState(""),[g,x]=u.useState(!1),[v,y]=u.useState({});u.useEffect(()=>{a&&t("/dashboard")},[a,t]);const w=()=>{const N={},S=jT.safeParse(d);S.success||(N.email=S.error.errors[0].message);const C=bT.safeParse(m);if(C.success||(N.password=C.error.errors[0].message),l){const k=NT.safeParse(h);k.success||(N.name=k.error.errors[0].message)}return y(N),Object.keys(N).length===0},b=async N=>{if(N.preventDefault(),!!w()){x(!0);try{if(l){const{error:S}=await s(d,m,h,"firm");S?i({title:"Sign up failed",description:S.message,variant:"destructive"}):(i({title:"Account created!",description:"Welcome to DocqFlow. Redirecting to dashboard..."}),t("/dashboard"))}else{const{error:S}=await n(d,m);S?i({title:"Sign in failed",description:S.message,variant:"destructive"}):(i({title:"Welcome back!",description:"Redirecting to dashboard..."}),t("/dashboard"))}}finally{x(!1)}}};return o?r.jsxs("div",{className:"min-h-screen bg-background flex flex-col safe-area-top safe-area-bottom",children:[r.jsxs("div",{className:"gradient-primary px-6 pt-12 pb-16 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-foreground/20 flex items-center justify-center",children:r.jsx(hr,{className:"w-6 h-6 text-primary-foreground"})}),r.jsx("span",{className:"text-2xl font-bold text-primary-foreground",children:"DocqFlow"})]}),r.jsx("h1",{className:"text-xl font-semibold text-primary-foreground",children:"Client Sign In"}),r.jsx("p",{className:"text-primary-foreground/80 text-sm mt-1",children:"Upload documents & track status"})]}),r.jsx("div",{className:"flex-1 px-6 -mt-8",children:r.jsxs("div",{className:"bg-card rounded-2xl shadow-lg p-6 space-y-6",children:[r.jsxs("form",{onSubmit:b,className:"space-y-5",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"email",className:"text-foreground",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),r.jsx(xe,{id:"email",type:"email",placeholder:"you@example.com",value:d,onChange:N=>f(N.target.value),className:"pl-10 h-12"})]}),v.email&&r.jsx("p",{className:"text-sm text-destructive",children:v.email})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"password",className:"text-foreground",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),r.jsx(xe,{id:"password",type:"password",placeholder:"",value:m,onChange:N=>p(N.target.value),className:"pl-10 h-12"})]}),v.password&&r.jsx("p",{className:"text-sm text-destructive",children:v.password})]}),r.jsx(Y,{type:"submit",variant:"hero",size:"lg",className:"w-full h-12",disabled:g,children:g?"Signing in...":"Sign In"})]}),r.jsxs("div",{className:"pt-4 border-t border-border space-y-2",children:[r.jsx("p",{className:"text-center",children:r.jsx(xt,{to:"/forgot-password",className:"text-sm text-accent hover:underline font-medium",children:"Forgot your password?"})}),r.jsx("p",{className:"text-center text-muted-foreground text-sm",children:"New here? Check your email for an invitation link from your accounting firm."})]})]})}),r.jsx("div",{className:"px-6 py-4 text-center",children:r.jsx("p",{className:"text-muted-foreground/60 text-xs",children:" 2024 DocqFlow"})})]}):r.jsxs("div",{className:"min-h-screen bg-background flex",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 gradient-primary p-12 flex-col justify-between",children:[r.jsxs(xt,{to:"/",className:"flex items-center gap-2 text-primary-foreground hover:opacity-80 transition-opacity",children:[r.jsx(na,{className:"w-5 h-5"}),r.jsx("span",{children:"Back to Home"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary-foreground/20 flex items-center justify-center",children:r.jsx(hr,{className:"w-7 h-7 text-primary-foreground"})}),r.jsx("span",{className:"text-3xl font-bold text-primary-foreground",children:"DocqFlow"})]}),r.jsxs("h1",{className:"text-4xl font-bold text-primary-foreground leading-tight",children:["Simplify Your",r.jsx("br",{}),"Document Management"]}),r.jsx("p",{className:"text-primary-foreground/80 text-lg max-w-md",children:"Connect your accounting firm with clients through a seamless, secure document workflow."})]}),r.jsx("p",{className:"text-primary-foreground/60 text-sm",children:" 2024 DocqFlow. Secure document management."})]}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:r.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[r.jsx("div",{className:"lg:hidden mb-8",children:r.jsxs(xt,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[r.jsx(na,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]})}),r.jsxs("div",{className:"text-center lg:text-left",children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:l?"Register Your Firm":"Welcome back"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:l?"Create your accounting firm account":"Sign in to access your dashboard"}),l&&r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Accountants and clients are invited by firm administrators."})]}),r.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-4 rounded-lg border-2 border-accent bg-accent/5",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent text-accent-foreground flex items-center justify-center",children:r.jsx(nt,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:"Accounting Firm"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your firm and team"})]})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"fullName",className:"text-foreground",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),r.jsx(xe,{id:"fullName",type:"text",placeholder:"John Doe",value:h,onChange:N=>j(N.target.value),className:"pl-10"})]}),v.name&&r.jsx("p",{className:"text-sm text-destructive",children:v.name})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"email",className:"text-foreground",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),r.jsx(xe,{id:"email",type:"email",placeholder:"you@example.com",value:d,onChange:N=>f(N.target.value),className:"pl-10"})]}),v.email&&r.jsx("p",{className:"text-sm text-destructive",children:v.email})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"password",className:"text-foreground",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),r.jsx(xe,{id:"password",type:"password",placeholder:"",value:m,onChange:N=>p(N.target.value),className:"pl-10"})]}),v.password&&r.jsx("p",{className:"text-sm text-destructive",children:v.password})]}),r.jsx(Y,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:g,children:g?"Please wait...":l?"Register Firm":"Sign In"})]}),r.jsxs("div",{className:"space-y-2",children:[!l&&r.jsx("p",{className:"text-center",children:r.jsx(xt,{to:"/forgot-password",className:"text-sm text-accent hover:underline font-medium",children:"Forgot your password?"})}),r.jsxs("p",{className:"text-center text-muted-foreground",children:[l?"Already have an account?":"Don't have an account?"," ",r.jsx("button",{type:"button",onClick:()=>c(!l),className:"text-accent hover:underline font-medium",children:l?"Sign in":"Register your firm"})]})]})]})})]})}const ST=fa().email("Please enter a valid email address");function CT(){const e=Nn(),{toast:t}=Et(),[n,s]=u.useState(""),[a,i]=u.useState(!1),[o,l]=u.useState(""),[c,d]=u.useState(!1),f=async m=>{m.preventDefault();const p=ST.safeParse(n);if(!p.success){l(p.error.errors[0].message);return}l(""),i(!0);try{const h=await _a.forgotPassword(n);h.error?(l(h.error),t({title:"Error",description:h.error,variant:"destructive"})):(d(!0),t({title:"Email sent",description:h.message||"If an account with that email exists, a password reset link has been sent."}))}catch(h){const j=h instanceof Error?h.message:"Failed to send reset email";l(j),t({title:"Error",description:j,variant:"destructive"})}finally{i(!1)}};return r.jsxs("div",{className:"min-h-screen bg-background flex",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 gradient-primary p-12 flex-col justify-between",children:[r.jsxs(xt,{to:"/auth",className:"flex items-center gap-2 text-primary-foreground hover:opacity-80 transition-opacity",children:[r.jsx(na,{className:"w-5 h-5"}),r.jsx("span",{children:"Back to Sign In"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary-foreground/20 flex items-center justify-center",children:r.jsx(hr,{className:"w-7 h-7 text-primary-foreground"})}),r.jsx("span",{className:"text-3xl font-bold text-primary-foreground",children:"DocqFlow"})]}),r.jsxs("h1",{className:"text-4xl font-bold text-primary-foreground leading-tight",children:["Reset Your",r.jsx("br",{}),"Password"]}),r.jsx("p",{className:"text-primary-foreground/80 text-lg max-w-md",children:"Enter your email address and we'll send you a link to reset your password."})]}),r.jsx("p",{className:"text-primary-foreground/60 text-sm",children:" 2024 DocqFlow. Secure document management."})]}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:r.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[r.jsx("div",{className:"lg:hidden mb-8",children:r.jsxs(xt,{to:"/auth",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[r.jsx(na,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]})}),r.jsxs("div",{className:"text-center lg:text-left",children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Forgot Password?"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"No worries! Enter your email and we'll send you reset instructions."})]}),c?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"p-6 rounded-lg border-2 border-green-500 bg-green-50 dark:bg-green-950/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500 text-white flex items-center justify-center flex-shrink-0",children:r.jsx(ps,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground mb-1",children:"Check your email"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["We've sent a password reset link to ",r.jsx("strong",{children:n}),". Please check your inbox and click the link to reset your password."]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"The link will expire in 1 hour."})]})]})}),r.jsx(Y,{variant:"outline",className:"w-full",onClick:()=>e("/auth"),children:"Back to Sign In"})]}):r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"email",className:"text-foreground",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),r.jsx(xe,{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:m=>{s(m.target.value),l("")},className:"pl-10",disabled:a})]}),o&&r.jsx("p",{className:"text-sm text-destructive",children:o})]}),r.jsx(Y,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),r.jsxs("p",{className:"text-center text-muted-foreground",children:["Remember your password?"," ",r.jsx(xt,{to:"/auth",className:"text-accent hover:underline font-medium",children:"Sign in"})]})]})})]})}const kT=fa().min(6,"Password must be at least 6 characters");function ET(){const[e]=zp(),t=Nn(),{toast:n}=Et(),s=e.get("token"),[a,i]=u.useState(""),[o,l]=u.useState(""),[c,d]=u.useState(!1),[f,m]=u.useState({}),[p,h]=u.useState(!1);u.useEffect(()=>{s||(n({title:"Invalid link",description:"Password reset link is missing or invalid.",variant:"destructive"}),t("/forgot-password"))},[s,t,n]);const j=()=>{const x={},v=kT.safeParse(a);return v.success||(x.password=v.error.errors[0].message),a!==o&&(x.confirmPassword="Passwords do not match"),m(x),Object.keys(x).length===0},g=async x=>{if(x.preventDefault(),!s){n({title:"Error",description:"Reset token is missing.",variant:"destructive"});return}if(j()){d(!0);try{const v=await _a.resetPassword(s,a);v.error?n({title:"Error",description:v.error,variant:"destructive"}):(h(!0),n({title:"Success",description:v.message||"Password has been reset successfully."}),setTimeout(()=>{t("/auth")},2e3))}catch(v){const y=v instanceof Error?v.message:"Failed to reset password";n({title:"Error",description:y,variant:"destructive"})}finally{d(!1)}}};return s?r.jsxs("div",{className:"min-h-screen bg-background flex",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 gradient-primary p-12 flex-col justify-between",children:[r.jsxs(xt,{to:"/auth",className:"flex items-center gap-2 text-primary-foreground hover:opacity-80 transition-opacity",children:[r.jsx(na,{className:"w-5 h-5"}),r.jsx("span",{children:"Back to Sign In"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary-foreground/20 flex items-center justify-center",children:r.jsx(hr,{className:"w-7 h-7 text-primary-foreground"})}),r.jsx("span",{className:"text-3xl font-bold text-primary-foreground",children:"DocqFlow"})]}),r.jsxs("h1",{className:"text-4xl font-bold text-primary-foreground leading-tight",children:["Set New",r.jsx("br",{}),"Password"]}),r.jsx("p",{className:"text-primary-foreground/80 text-lg max-w-md",children:"Choose a strong password to secure your account."})]}),r.jsx("p",{className:"text-primary-foreground/60 text-sm",children:" 2024 DocqFlow. Secure document management."})]}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:r.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[r.jsx("div",{className:"lg:hidden mb-8",children:r.jsxs(xt,{to:"/auth",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[r.jsx(na,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]})}),r.jsxs("div",{className:"text-center lg:text-left",children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Reset Password"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Enter your new password below."})]}),p?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"p-6 rounded-lg border-2 border-green-500 bg-green-50 dark:bg-green-950/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500 text-white flex items-center justify-center flex-shrink-0",children:r.jsx(Io,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground mb-1",children:"Password Reset Successful!"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Your password has been reset successfully. Redirecting to sign in..."})]})]})}),r.jsx(Y,{variant:"hero",className:"w-full",onClick:()=>t("/auth"),children:"Go to Sign In"})]}):r.jsxs("form",{onSubmit:g,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"password",className:"text-foreground",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),r.jsx(xe,{id:"password",type:"password",placeholder:"",value:a,onChange:x=>{i(x.target.value),m({...f,password:void 0})},className:"pl-10",disabled:c})]}),f.password&&r.jsx("p",{className:"text-sm text-destructive",children:f.password})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"confirmPassword",className:"text-foreground",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),r.jsx(xe,{id:"confirmPassword",type:"password",placeholder:"",value:o,onChange:x=>{l(x.target.value),m({...f,confirmPassword:void 0})},className:"pl-10",disabled:c})]}),f.confirmPassword&&r.jsx("p",{className:"text-sm text-destructive",children:f.confirmPassword})]}),r.jsx(Y,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:c,children:c?"Resetting...":"Reset Password"})]}),r.jsxs("p",{className:"text-center text-muted-foreground",children:["Remember your password?"," ",r.jsx(xt,{to:"/auth",className:"text-accent hover:underline font-medium",children:"Sign in"})]})]})})]}):null}const PT=fa().email("Please enter a valid email address"),RT=fa().min(6,"Password must be at least 6 characters"),TT=fa().min(2,"Name must be at least 2 characters");function MT(){const[e]=zp(),t=Nn(),{toast:n}=Et(),{signUp:s}=er(),a=e.get("token"),[i,o]=u.useState(""),[l,c]=u.useState(""),[d,f]=u.useState(""),[m,p]=u.useState(""),[h,j]=u.useState(!1),[g,x]=u.useState(!0),[v,y]=u.useState({}),[w,b]=u.useState(null),[N,S]=u.useState(null);u.useEffect(()=>{(async()=>{if(!a){S("No invitation token provided"),x(!1);return}try{const A=await _d.validate(a),$=A==null?void 0:A.data;if(!$){S((A==null?void 0:A.error)||"Invalid or expired invitation link"),x(!1);return}if($.role!=="accountant"&&$.role!=="client"){S("Invalid invitation type"),x(!1);return}b($),o($.email),x(!1)}catch{S("Failed to validate invitation"),x(!1)}})()},[a]);const C=()=>{const P={},A=PT.safeParse(i);A.success||(P.email=A.error.errors[0].message);const $=RT.safeParse(l);$.success||(P.password=$.error.errors[0].message);const M=TT.safeParse(d);return M.success||(P.name=M.error.errors[0].message),y(P),Object.keys(P).length===0},k=async P=>{var A;if(P.preventDefault(),!(!C()||!w)){j(!0);try{const{error:$}=await s(i,l,d,w.role);if($){n({title:"Sign up failed",description:$.message,variant:"destructive"});return}const M=await _a.getSession(),K=(A=M==null?void 0:M.user)==null?void 0:A.id;if(!K){n({title:"Error",description:"Account created, but session could not be established.",variant:"destructive"});return}if(w.role==="accountant"){const{error:O}=await Up.create({firm_id:w.firm_id,accountant_id:K});if(O){n({title:"Error",description:O,variant:"destructive"});return}}else{const O=m.trim(),{error:R}=await Zi.create({firm_id:w.firm_id,user_id:K,...O?{company_name:O}:{}});if(R){n({title:"Error",description:R,variant:"destructive"});return}}const{error:U}=await _d.markUsed(w.token);if(U&&n({title:"Warning",description:U,variant:"destructive"}),w.firm_owner_id){const O=w.role==="accountant"?"Accountant":"Client",R=d||i;await gn.create({user_id:w.firm_owner_id,title:`New ${O} Joined`,message:`${R} has joined your firm${w.role==="client"&&m?` (${m})`:""}.`})}n({title:"Account created!",description:"Welcome to DocqFlow. Redirecting to dashboard..."}),t("/dashboard")}finally{j(!1)}}};if(g)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx(Me,{className:"w-8 h-8 animate-spin mx-auto text-primary"}),r.jsx("p",{className:"text-muted-foreground",children:"Validating invitation..."})]})});if(N||!w)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Invalid Invitation"}),r.jsx("p",{className:"text-muted-foreground",children:N||"This invitation link is invalid or has expired."}),r.jsx(xt,{to:"/auth",children:r.jsx(Y,{variant:"outline",children:"Go to Login"})})]})});const T={accountant:{icon:Fn,label:"Accountant",description:"You've been invited to join a firm as an accountant"},client:{icon:nt,label:"Client",description:"You've been invited to upload documents to your accounting firm"}},_=T[w.role].icon;return r.jsxs("div",{className:"min-h-screen bg-background flex",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 gradient-primary p-12 flex-col justify-between",children:[r.jsxs(xt,{to:"/",className:"flex items-center gap-2 text-primary-foreground hover:opacity-80 transition-opacity",children:[r.jsx(na,{className:"w-5 h-5"}),r.jsx("span",{children:"Back to Home"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary-foreground/20 flex items-center justify-center",children:r.jsx(hr,{className:"w-7 h-7 text-primary-foreground"})}),r.jsx("span",{className:"text-3xl font-bold text-primary-foreground",children:"DocqFlow"})]}),r.jsx("h1",{className:"text-4xl font-bold text-primary-foreground leading-tight",children:"You're Invited!"}),r.jsx("p",{className:"text-primary-foreground/80 text-lg max-w-md",children:T[w.role].description})]}),r.jsx("p",{className:"text-primary-foreground/60 text-sm",children:" 2024 DocqFlow. Secure document management."})]}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:r.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[r.jsx("div",{className:"lg:hidden mb-8",children:r.jsxs(xt,{to:"/",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[r.jsx(na,{className:"w-4 h-4"}),r.jsx("span",{children:"Back"})]})}),r.jsxs("div",{className:"text-center lg:text-left",children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Complete Your Registration"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Create your account to get started"})]}),r.jsxs("form",{onSubmit:k,className:"space-y-6",children:[r.jsx("div",{className:"p-4 rounded-lg border-2 border-accent bg-accent/5",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent text-accent-foreground flex items-center justify-center",children:r.jsx(_,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:T[w.role].label}),r.jsx("p",{className:"text-sm text-muted-foreground",children:T[w.role].description})]})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"fullName",className:"text-foreground",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),r.jsx(xe,{id:"fullName",type:"text",placeholder:"John Doe",value:d,onChange:P=>f(P.target.value),className:"pl-10"})]}),v.name&&r.jsx("p",{className:"text-sm text-destructive",children:v.name})]}),w.role==="client"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"companyName",className:"text-foreground",children:"Company Name (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx(nt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),r.jsx(xe,{id:"companyName",type:"text",placeholder:"Your Company Ltd.",value:m,onChange:P=>p(P.target.value),className:"pl-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"email",className:"text-foreground",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),r.jsx(xe,{id:"email",type:"email",placeholder:"you@example.com",value:i,onChange:P=>o(P.target.value),className:"pl-10",readOnly:!0})]}),v.email&&r.jsx("p",{className:"text-sm text-destructive",children:v.email})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"password",className:"text-foreground",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),r.jsx(xe,{id:"password",type:"password",placeholder:"",value:l,onChange:P=>c(P.target.value),className:"pl-10"})]}),v.password&&r.jsx("p",{className:"text-sm text-destructive",children:v.password})]}),r.jsx(Y,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:h,children:h?"Please wait...":"Create Account"})]}),r.jsxs("p",{className:"text-center text-muted-foreground",children:["Already have an account?"," ",r.jsx(xt,{to:"/auth",className:"text-accent hover:underline font-medium",children:"Sign in"})]})]})})]})}const AT=nu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rt({className:e,variant:t,...n}){return r.jsx("div",{className:ye(AT({variant:t}),e),...n})}var OT=u.createContext(void 0);function vu(e){const t=u.useContext(OT);return e||t||"ltr"}function rh(e,[t,n]){return Math.min(n,Math.max(t,e))}function DT(e,t){return u.useReducer((n,s)=>t[n][s]??n,e)}var Wp="ScrollArea",[b1,B3]=Xn(Wp),[FT,nr]=b1(Wp),N1=u.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=u.useState(null),[d,f]=u.useState(null),[m,p]=u.useState(null),[h,j]=u.useState(null),[g,x]=u.useState(null),[v,y]=u.useState(0),[w,b]=u.useState(0),[N,S]=u.useState(!1),[C,k]=u.useState(!1),T=Oe(t,P=>c(P)),_=vu(a);return r.jsx(FT,{scope:n,type:s,dir:_,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:f,content:m,onContentChange:p,scrollbarX:h,onScrollbarXChange:j,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:b,children:r.jsx(_e.div,{dir:_,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});N1.displayName=Wp;var _1="ScrollAreaViewport",S1=u.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:a,...i}=e,o=nr(_1,n),l=u.useRef(null),c=Oe(t,l,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(_e.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});S1.displayName=_1;var Gr="ScrollAreaScrollbar",Vp=u.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=nr(Gr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return u.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?r.jsx(IT,{...s,ref:t,forceMount:n}):a.type==="scroll"?r.jsx(LT,{...s,ref:t,forceMount:n}):a.type==="auto"?r.jsx(C1,{...s,ref:t,forceMount:n}):a.type==="always"?r.jsx(Hp,{...s,ref:t}):null});Vp.displayName=Gr;var IT=u.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=nr(Gr,e.__scopeScrollArea),[i,o]=u.useState(!1);return u.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),r.jsx(Un,{present:n||i,children:r.jsx(C1,{"data-state":i?"visible":"hidden",...s,ref:t})})}),LT=u.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=nr(Gr,e.__scopeScrollArea),i=e.orientation==="horizontal",o=wu(()=>c("SCROLL_END"),100),[l,c]=DT("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return u.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),u.useEffect(()=>{const d=a.viewport,f=i?"scrollLeft":"scrollTop";if(d){let m=d[f];const p=()=>{const h=d[f];m!==h&&(c("SCROLL"),o()),m=h};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[a.viewport,i,c,o]),r.jsx(Un,{present:n||l!=="hidden",children:r.jsx(Hp,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:me(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:me(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),C1=u.forwardRef((e,t)=>{const n=nr(Gr,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=u.useState(!1),l=e.orientation==="horizontal",c=wu(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:f)}},10);return ro(n.viewport,c),ro(n.content,c),r.jsx(Un,{present:s||i,children:r.jsx(Hp,{"data-state":i?"visible":"hidden",...a,ref:t})})}),Hp=u.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,a=nr(Gr,e.__scopeScrollArea),i=u.useRef(null),o=u.useRef(0),[l,c]=u.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=T1(l.viewport,l.content),f={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function m(p,h){return VT(p,o.current,l,h)}return n==="horizontal"?r.jsx($T,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,h=Ov(p,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=m(p,a.dir))}}):n==="vertical"?r.jsx(zT,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,h=Ov(p,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=m(p))}}):null}),$T=u.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...a}=e,i=nr(Gr,e.__scopeScrollArea),[o,l]=u.useState(),c=u.useRef(null),d=Oe(t,c,i.onScrollbarXChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(E1,{"data-orientation":"horizontal",...a,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yu(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(i.viewport){const p=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(p),A1(p,m)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Md(o.paddingLeft),paddingEnd:Md(o.paddingRight)}})}})}),zT=u.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...a}=e,i=nr(Gr,e.__scopeScrollArea),[o,l]=u.useState(),c=u.useRef(null),d=Oe(t,c,i.onScrollbarYChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(E1,{"data-orientation":"vertical",...a,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yu(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(i.viewport){const p=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(p),A1(p,m)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Md(o.paddingTop),paddingEnd:Md(o.paddingBottom)}})}})}),[UT,k1]=b1(Gr),E1=u.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:f,onResize:m,...p}=e,h=nr(Gr,n),[j,g]=u.useState(null),x=Oe(t,T=>g(T)),v=u.useRef(null),y=u.useRef(""),w=h.viewport,b=s.content-s.viewport,N=Rt(f),S=Rt(c),C=wu(m,10);function k(T){if(v.current){const _=T.clientX-v.current.left,P=T.clientY-v.current.top;d({x:_,y:P})}}return u.useEffect(()=>{const T=_=>{const P=_.target;(j==null?void 0:j.contains(P))&&N(_,b)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,j,b,N]),u.useEffect(S,[s,S]),ro(j,C),ro(h.content,C),r.jsx(UT,{scope:n,scrollbar:j,hasThumb:a,onThumbChange:Rt(i),onThumbPointerUp:Rt(o),onThumbPositionChange:S,onThumbPointerDown:Rt(l),children:r.jsx(_e.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:me(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),v.current=j.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),k(T))}),onPointerMove:me(e.onPointerMove,k),onPointerUp:me(e.onPointerUp,T=>{const _=T.target;_.hasPointerCapture(T.pointerId)&&_.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=y.current,h.viewport&&(h.viewport.style.scrollBehavior=""),v.current=null})})})}),Td="ScrollAreaThumb",P1=u.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=k1(Td,e.__scopeScrollArea);return r.jsx(Un,{present:n||a.hasThumb,children:r.jsx(BT,{ref:t,...s})})}),BT=u.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...a}=e,i=nr(Td,n),o=k1(Td,n),{onThumbPositionChange:l}=o,c=Oe(t,m=>o.onThumbChange(m)),d=u.useRef(void 0),f=wu(()=>{d.current&&(d.current(),d.current=void 0)},100);return u.useEffect(()=>{const m=i.viewport;if(m){const p=()=>{if(f(),!d.current){const h=HT(m,l);d.current=h,l()}};return l(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[i.viewport,f,l]),r.jsx(_e.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:me(e.onPointerDownCapture,m=>{const h=m.target.getBoundingClientRect(),j=m.clientX-h.left,g=m.clientY-h.top;o.onThumbPointerDown({x:j,y:g})}),onPointerUp:me(e.onPointerUp,o.onThumbPointerUp)})});P1.displayName=Td;var Yp="ScrollAreaCorner",R1=u.forwardRef((e,t)=>{const n=nr(Yp,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(WT,{...e,ref:t}):null});R1.displayName=Yp;var WT=u.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,a=nr(Yp,n),[i,o]=u.useState(0),[l,c]=u.useState(0),d=!!(i&&l);return ro(a.scrollbarX,()=>{var m;const f=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(f),c(f)}),ro(a.scrollbarY,()=>{var m;const f=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(f),o(f)}),d?r.jsx(_e.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Md(e){return e?parseInt(e,10):0}function T1(e,t){const n=e/t;return isNaN(n)?0:n}function yu(e){const t=T1(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function VT(e,t,n,s="ltr"){const a=yu(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,m=s==="ltr"?[0,f]:[f*-1,0];return M1([c,d],m)(e)}function Ov(e,t,n="ltr"){const s=yu(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=n==="ltr"?[0,o]:[o*-1,0],d=rh(e,c);return M1([0,o],[0,l])(d)}function M1(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function A1(e,t){return e>0&&e<t}var HT=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function wu(e,t){const n=Rt(e),s=u.useRef(0);return u.useEffect(()=>()=>window.clearTimeout(s.current),[]),u.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function ro(e,t){const n=Rt(t);$t(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,n])}var O1=N1,YT=S1,qT=R1;const Dt=u.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(O1,{ref:s,className:ye("relative overflow-hidden",e),...n,children:[r.jsx(YT,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(D1,{}),r.jsx(qT,{})]}));Dt.displayName=O1.displayName;const D1=u.forwardRef(({className:e,orientation:t="vertical",...n},s)=>r.jsx(Vp,{ref:s,orientation:t,className:ye("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(P1,{className:"relative flex-1 rounded-full bg-border"})}));D1.displayName=Vp.displayName;var Sf=0;function qp(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Dv()),document.body.insertAdjacentElement("beforeend",e[1]??Dv()),Sf++,()=>{Sf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Sf--}},[])}function Dv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Cf="focusScope.autoFocusOnMount",kf="focusScope.autoFocusOnUnmount",Fv={bubbles:!1,cancelable:!0},GT="FocusScope",ju=u.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=u.useState(null),d=Rt(a),f=Rt(i),m=u.useRef(null),p=Oe(t,g=>c(g)),h=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(s){let g=function(w){if(h.paused||!l)return;const b=w.target;l.contains(b)?m.current=b:Ss(m.current,{select:!0})},x=function(w){if(h.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||Ss(m.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Ss(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),y.disconnect()}}},[s,l,h.paused]),u.useEffect(()=>{if(l){Lv.add(h);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(Cf,Fv);l.addEventListener(Cf,d),l.dispatchEvent(v),v.defaultPrevented||(KT(eM(F1(l)),{select:!0}),document.activeElement===g&&Ss(l))}return()=>{l.removeEventListener(Cf,d),setTimeout(()=>{const v=new CustomEvent(kf,Fv);l.addEventListener(kf,f),l.dispatchEvent(v),v.defaultPrevented||Ss(g??document.body,{select:!0}),l.removeEventListener(kf,f),Lv.remove(h)},0)}}},[l,d,f,h]);const j=u.useCallback(g=>{if(!n&&!s||h.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(x&&v){const y=g.currentTarget,[w,b]=QT(y);w&&b?!g.shiftKey&&v===b?(g.preventDefault(),n&&Ss(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),n&&Ss(b,{select:!0})):v===y&&g.preventDefault()}},[n,s,h.paused]);return r.jsx(_e.div,{tabIndex:-1,...o,ref:p,onKeyDown:j})});ju.displayName=GT;function KT(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ss(s,{select:t}),document.activeElement!==n)return}function QT(e){const t=F1(e),n=Iv(t,e),s=Iv(t.reverse(),e);return[n,s]}function F1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Iv(e,t){for(const n of e)if(!ZT(n,{upTo:t}))return n}function ZT(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XT(e){return e instanceof HTMLInputElement&&"select"in e}function Ss(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&XT(e)&&t&&e.select()}}var Lv=JT();function JT(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=$v(e,t),e.unshift(t)},remove(t){var n;e=$v(e,t),(n=e[0])==null||n.resume()}}}function $v(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function eM(e){return e.filter(t=>t.tagName!=="A")}var tM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ai=new WeakMap,yc=new WeakMap,wc={},Ef=0,I1=function(e){return e&&(e.host||I1(e.parentNode))},nM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=I1(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},rM=function(e,t,n,s){var a=nM(t,Array.isArray(e)?e:[e]);wc[n]||(wc[n]=new WeakMap);var i=wc[n],o=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))f(p);else try{var h=p.getAttribute(s),j=h!==null&&h!=="false",g=(ai.get(p)||0)+1,x=(i.get(p)||0)+1;ai.set(p,g),i.set(p,x),o.push(p),g===1&&j&&yc.set(p,!0),x===1&&p.setAttribute(n,"true"),j||p.setAttribute(s,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return f(t),l.clear(),Ef++,function(){o.forEach(function(m){var p=ai.get(m)-1,h=i.get(m)-1;ai.set(m,p),i.set(m,h),p||(yc.has(m)||m.removeAttribute(s),yc.delete(m)),h||m.removeAttribute(n)}),Ef--,Ef||(ai=new WeakMap,ai=new WeakMap,yc=new WeakMap,wc={})}},Gp=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=tM(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),rM(s,a,n,"aria-hidden")):function(){return null}},Ir=function(){return Ir=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ir.apply(this,arguments)};function L1(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function sM(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var $c="right-scroll-bar-position",zc="width-before-scroll-bar",aM="with-scroll-bars-hidden",iM="--removed-body-scroll-bar-size";function Pf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function oM(e,t){var n=u.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var lM=typeof window<"u"?u.useLayoutEffect:u.useEffect,zv=new WeakMap;function cM(e,t){var n=oM(null,function(s){return e.forEach(function(a){return Pf(a,s)})});return lM(function(){var s=zv.get(n);if(s){var a=new Set(s),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||Pf(l,null)}),i.forEach(function(l){a.has(l)||Pf(l,o)})}zv.set(n,e)},[e]),n}function dM(e){return e}function uM(e,t){t===void 0&&(t=dM);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return a}function fM(e){e===void 0&&(e={});var t=uM(null);return t.options=Ir({async:!0,ssr:!1},e),t}var $1=function(e){var t=e.sideCar,n=L1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return u.createElement(s,Ir({},n))};$1.isSideCarExport=!0;function mM(e,t){return e.useMedium(t),$1}var z1=fM(),Rf=function(){},bu=u.forwardRef(function(e,t){var n=u.useRef(null),s=u.useState({onScrollCapture:Rf,onWheelCapture:Rf,onTouchMoveCapture:Rf}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,p=e.sideCar,h=e.noRelative,j=e.noIsolation,g=e.inert,x=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,w=e.gapMode,b=L1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,S=cM([n,t]),C=Ir(Ir({},b),a);return u.createElement(u.Fragment,null,f&&u.createElement(N,{sideCar:z1,removeScrollBar:d,shards:m,noRelative:h,noIsolation:j,inert:g,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:w}),o?u.cloneElement(u.Children.only(l),Ir(Ir({},C),{ref:S})):u.createElement(y,Ir({},C,{className:c,ref:S}),l))});bu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bu.classNames={fullWidth:zc,zeroRight:$c};var hM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hM();return t&&e.setAttribute("nonce",t),e}function xM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function gM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=pM())&&(xM(t,n),gM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yM=function(){var e=vM();return function(t,n){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},U1=function(){var e=yM(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},wM={left:0,top:0,right:0,gap:0},Tf=function(e){return parseInt(e||"",10)||0},jM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Tf(n),Tf(s),Tf(a)]},bM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wM;var t=jM(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},NM=U1(),Ti="data-scroll-locked",_M=function(e,t,n,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(aM,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Ti,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($c,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(zc,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat($c," .").concat($c,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(zc," .").concat(zc,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ti,`] {
    `).concat(iM,": ").concat(l,`px;
  }
`)},Uv=function(){var e=parseInt(document.body.getAttribute(Ti)||"0",10);return isFinite(e)?e:0},SM=function(){u.useEffect(function(){return document.body.setAttribute(Ti,(Uv()+1).toString()),function(){var e=Uv()-1;e<=0?document.body.removeAttribute(Ti):document.body.setAttribute(Ti,e.toString())}},[])},CM=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;SM();var i=u.useMemo(function(){return bM(a)},[a]);return u.createElement(NM,{styles:_M(i,!t,a,n?"":"!important")})},sh=!1;if(typeof window<"u")try{var jc=Object.defineProperty({},"passive",{get:function(){return sh=!0,!0}});window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{sh=!1}var ii=sh?{passive:!1}:!1,kM=function(e){return e.tagName==="TEXTAREA"},B1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!kM(e)&&n[t]==="visible")},EM=function(e){return B1(e,"overflowY")},PM=function(e){return B1(e,"overflowX")},Bv=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=W1(e,s);if(a){var i=V1(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},RM=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},TM=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},W1=function(e,t){return e==="v"?EM(t):PM(t)},V1=function(e,t){return e==="v"?RM(t):TM(t)},MM=function(e,t){return e==="h"&&t==="rtl"?-1:1},AM=function(e,t,n,s,a){var i=MM(e,window.getComputedStyle(t).direction),o=i*s,l=n.target,c=t.contains(l),d=!1,f=o>0,m=0,p=0;do{if(!l)break;var h=V1(e,l),j=h[0],g=h[1],x=h[2],v=g-x-i*j;(j||v)&&W1(e,l)&&(m+=v,p+=j);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(m)<1||!a)||!f&&(Math.abs(p)<1||!a))&&(d=!0),d},bc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Wv=function(e){return[e.deltaX,e.deltaY]},Vv=function(e){return e&&"current"in e?e.current:e},OM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},DM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FM=0,oi=[];function IM(e){var t=u.useRef([]),n=u.useRef([0,0]),s=u.useRef(),a=u.useState(FM++)[0],i=u.useState(U1)[0],o=u.useRef(e);u.useEffect(function(){o.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=sM([e.lockRef.current],(e.shards||[]).map(Vv),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=bc(g),y=n.current,w="deltaX"in g?g.deltaX:y[0]-v[0],b="deltaY"in g?g.deltaY:y[1]-v[1],N,S=g.target,C=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in g&&C==="h"&&S.type==="range")return!1;var k=Bv(C,S);if(!k)return!0;if(k?N=C:(N=C==="v"?"h":"v",k=Bv(C,S)),!k)return!1;if(!s.current&&"changedTouches"in g&&(w||b)&&(s.current=N),!N)return!0;var T=s.current||N;return AM(T,x,g,T==="h"?w:b,!0)},[]),c=u.useCallback(function(g){var x=g;if(!(!oi.length||oi[oi.length-1]!==i)){var v="deltaY"in x?Wv(x):bc(x),y=t.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&OM(N.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(Vv).filter(Boolean).filter(function(N){return N.contains(x.target)}),b=w.length>0?l(x,w[0]):!o.current.noIsolation;b&&x.cancelable&&x.preventDefault()}}},[]),d=u.useCallback(function(g,x,v,y){var w={name:g,delta:x,target:v,should:y,shadowParent:LM(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),f=u.useCallback(function(g){n.current=bc(g),s.current=void 0},[]),m=u.useCallback(function(g){d(g.type,Wv(g),g.target,l(g,e.lockRef.current))},[]),p=u.useCallback(function(g){d(g.type,bc(g),g.target,l(g,e.lockRef.current))},[]);u.useEffect(function(){return oi.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ii),document.addEventListener("touchmove",c,ii),document.addEventListener("touchstart",f,ii),function(){oi=oi.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,ii),document.removeEventListener("touchmove",c,ii),document.removeEventListener("touchstart",f,ii)}},[]);var h=e.removeScrollBar,j=e.inert;return u.createElement(u.Fragment,null,j?u.createElement(i,{styles:DM(a)}):null,h?u.createElement(CM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function LM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $M=mM(z1,IM);var Nu=u.forwardRef(function(e,t){return u.createElement(bu,Ir({},e,{ref:t,sideCar:$M}))});Nu.classNames=bu.classNames;var _u="Popover",[H1,W3]=Xn(_u,[ho]),Fl=ho(),[zM,ma]=H1(_u),Y1=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Fl(t),c=u.useRef(null),[d,f]=u.useState(!1),[m,p]=ta({prop:s,defaultProp:a??!1,onChange:i,caller:_u});return r.jsx(Wj,{...l,children:r.jsx(zM,{scope:t,contentId:Qs(),triggerRef:c,open:m,onOpenChange:p,onOpenToggle:u.useCallback(()=>p(h=>!h),[p]),hasCustomAnchor:d,onCustomAnchorAdd:u.useCallback(()=>f(!0),[]),onCustomAnchorRemove:u.useCallback(()=>f(!1),[]),modal:o,children:n})})};Y1.displayName=_u;var q1="PopoverAnchor",UM=u.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=ma(q1,n),i=Fl(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return u.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(lu,{...i,...s,ref:t})});UM.displayName=q1;var G1="PopoverTrigger",K1=u.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=ma(G1,n),i=Fl(n),o=Oe(t,a.triggerRef),l=r.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":eb(a.open),...s,ref:o,onClick:me(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:r.jsx(lu,{asChild:!0,...i,children:l})});K1.displayName=G1;var Kp="PopoverPortal",[BM,WM]=H1(Kp,{forceMount:void 0}),Q1=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,i=ma(Kp,t);return r.jsx(BM,{scope:t,forceMount:n,children:r.jsx(Un,{present:n||i.open,children:r.jsx(Al,{asChild:!0,container:a,children:s})})})};Q1.displayName=Kp;var so="PopoverContent",Z1=u.forwardRef((e,t)=>{const n=WM(so,e.__scopePopover),{forceMount:s=n.forceMount,...a}=e,i=ma(so,e.__scopePopover);return r.jsx(Un,{present:s||i.open,children:i.modal?r.jsx(HM,{...a,ref:t}):r.jsx(YM,{...a,ref:t})})});Z1.displayName=so;var VM=Ua("PopoverContent.RemoveScroll"),HM=u.forwardRef((e,t)=>{const n=ma(so,e.__scopePopover),s=u.useRef(null),a=Oe(t,s),i=u.useRef(!1);return u.useEffect(()=>{const o=s.current;if(o)return Gp(o)},[]),r.jsx(Nu,{as:VM,allowPinchZoom:!0,children:r.jsx(X1,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:me(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),YM=u.forwardRef((e,t)=>{const n=ma(so,e.__scopePopover),s=u.useRef(!1),a=u.useRef(!1);return r.jsx(X1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),X1=u.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...m}=e,p=ma(so,n),h=Fl(n);return qp(),r.jsx(ju,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(co,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:r.jsx(Tp,{"data-state":eb(p.open),role:"dialog",id:p.contentId,...h,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),J1="PopoverClose",qM=u.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=ma(J1,n);return r.jsx(_e.button,{type:"button",...s,ref:t,onClick:me(e.onClick,()=>a.onOpenChange(!1))})});qM.displayName=J1;var GM="PopoverArrow",KM=u.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=Fl(n);return r.jsx(Mp,{...a,...s,ref:t})});KM.displayName=GM;function eb(e){return e?"open":"closed"}var QM=Y1,ZM=K1,XM=Q1,tb=Z1;const JM=QM,e5=ZM,nb=u.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},a)=>r.jsx(XM,{children:r.jsx(tb,{ref:a,align:t,sideOffset:n,className:ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));nb.displayName=tb.displayName;function rb({onNewNotification:e,onNotificationClick:t}){const{user:n}=er(),{toast:s}=Et(),[a,i]=u.useState([]),[o,l]=u.useState(!0),[c,d]=u.useState(!1),f=u.useRef(null);u.useEffect(()=>{if(n)return m(),f.current=setInterval(()=>{m()},3e4),()=>{f.current&&clearInterval(f.current)}},[n]);const m=async()=>{if(n)try{const x=await gn.get();if(x.data){const y=x.data.sort((w,b)=>new Date(b.created_at).getTime()-new Date(w.created_at).getTime()).slice(0,10);i(y)}}catch(x){console.error("Error fetching notifications:",x)}finally{l(!1)}},p=async x=>{(await gn.markRead(x)).error||i(y=>y.map(w=>w.id===x?{...w,is_read:!0}:w))},h=async()=>{if(n)try{(await gn.markAllRead()).error||(i(v=>v.map(y=>({...y,is_read:!0}))),s({title:"All marked as read"}))}catch(x){console.error("Error marking all as read:",x)}},j=a.filter(x=>!x.is_read).length,g=x=>{const v=new Date(x),w=new Date().getTime()-v.getTime(),b=Math.floor(w/6e4),N=Math.floor(w/36e5),S=Math.floor(w/864e5);return b<1?"Just now":b<60?`${b}m ago`:N<24?`${N}h ago`:S<7?`${S}d ago`:v.toLocaleDateString()};return r.jsxs(JM,{open:c,onOpenChange:d,children:[r.jsx(e5,{asChild:!0,children:r.jsxs(Y,{variant:"ghost",size:"icon",className:"relative",children:[r.jsx(gr,{className:"w-5 h-5"}),j>0&&r.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-destructive rounded-full text-[10px] text-destructive-foreground flex items-center justify-center",children:j>9?"9+":j})]})}),r.jsxs(nb,{className:"w-80 p-0",align:"end",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[r.jsx("h3",{className:"font-semibold text-foreground",children:"Notifications"}),j>0&&r.jsxs(Y,{variant:"ghost",size:"sm",onClick:h,children:[r.jsx(sj,{className:"w-4 h-4 mr-1"}),"Read all"]})]}),o?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(Me,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):a.length===0?r.jsxs("div",{className:"py-8 text-center",children:[r.jsx(gr,{className:"w-10 h-10 mx-auto text-muted-foreground/40 mb-2"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"No notifications"})]}):r.jsx(Dt,{className:"h-[300px]",children:r.jsx("div",{className:"divide-y divide-border",children:a.map(x=>r.jsx("div",{className:`p-3 transition-colors hover:bg-secondary/30 cursor-pointer ${x.is_read?"":"bg-accent/5"}`,onClick:()=>{x.is_read||p(x.id),t==null||t(x),d(!1)},children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${x.document_id?"bg-primary/10":x.title.toLowerCase().includes("joined")?"bg-success/10":"bg-accent/10"}`,children:x.document_id?r.jsx(gt,{className:"w-4 h-4 text-primary"}):x.title.toLowerCase().includes("joined")?r.jsx(yp,{className:"w-4 h-4 text-success"}):r.jsx(gr,{className:"w-4 h-4 text-accent"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:x.title}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:x.message}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsxs("span",{className:"text-[10px] text-muted-foreground flex items-center gap-1",children:[r.jsx(pn,{className:"w-3 h-3"}),g(x.created_at)]}),!x.is_read&&r.jsx(rt,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:"New"})]})]})]})},x.id))})})]})]})}function Cs({children:e,navItems:t,title:n,unreadCount:s=0}){var x;const{user:a,signOut:i}=er(),{toast:o}=Et(),l=Jn(),c=Nn(),[d,f]=u.useState(!1),m=gu(),p=(m==null?void 0:m.app_name)||"DocqFlow",h=async()=>{await i()},j=v=>{o({title:v.title,description:v.message})},g=v=>{((v.title||"")+" "+(v.message||"")).toLowerCase().includes("reminder")&&c("/dashboard/reminders")};return r.jsxs("div",{className:"min-h-screen bg-background flex",children:[d&&r.jsx("div",{className:"fixed inset-0 bg-foreground/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>f(!1)}),r.jsx("aside",{className:ye("fixed inset-y-0 left-0 z-50 w-64 bg-sidebar h-screen overflow-y-hidden transform transition-transform duration-300 ease-in-out lg:translate-x-0",d?"translate-x-0":"-translate-x-full"),children:r.jsxs("div",{className:"h-full flex flex-col min-h-0",children:[r.jsxs("div",{className:"flex-shrink-0 p-6 flex items-center justify-between border-b border-sidebar-border",children:[r.jsxs(xt,{to:"/",className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-sidebar-primary flex items-center justify-center",children:r.jsx(hr,{className:"w-5 h-5 text-sidebar-primary-foreground"})}),r.jsx("span",{className:"text-xl font-bold text-sidebar-foreground",children:p})]}),r.jsx("button",{className:"lg:hidden text-sidebar-foreground",onClick:()=>f(!1),children:r.jsx(Da,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"flex-1 min-h-0",children:r.jsx("nav",{className:"h-full overflow-y-auto p-4 space-y-1",children:t.map((v,y)=>{const w=l.pathname===v.href;return r.jsxs(xt,{to:v.href,onClick:()=>f(!1),className:ye("flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 relative border-b border-sidebar-border/30 last:border-b-0",w?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"),children:[r.jsx(v.icon,{className:"w-5 h-5"}),r.jsxs("span",{className:"font-medium",children:[v.label,v.isNotification&&s>0&&r.jsx("div",{className:"absolute -top-1 -right-3 min-w-[18px] h-[18px] bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-lg border-2 border-white dark:border-gray-900",children:r.jsx("span",{className:"text-[10px] text-white font-extrabold leading-none px-0.5",children:s>99?"99+":s})})]})]},v.href)})})}),r.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-sidebar-border bg-sidebar",children:[r.jsxs("div",{className:"flex items-center gap-3 px-2 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-sidebar-primary flex items-center justify-center",children:r.jsx("span",{className:"text-sidebar-primary-foreground font-medium",children:(x=a==null?void 0:a.email)==null?void 0:x.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:a==null?void 0:a.email}),r.jsx("p",{className:"text-xs text-sidebar-foreground/60 capitalize",children:n})]})]}),r.jsxs(Y,{variant:"ghost",className:"w-full justify-start text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/50",onClick:h,children:[r.jsx(pd,{className:"w-5 h-5 mr-3"}),"Sign Out"]})]})]})}),r.jsxs("div",{className:"flex-1 flex flex-col min-h-screen lg:ml-64",children:[r.jsxs("header",{className:"h-16 border-b border-border bg-card flex items-center justify-between px-4 lg:px-8",children:[r.jsx("button",{className:"lg:hidden text-foreground",onClick:()=>f(!0),children:r.jsx(pp,{className:"w-6 h-6"})}),r.jsxs("h1",{className:"text-lg font-semibold text-foreground",children:[n," Dashboard"]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(rb,{onNewNotification:j,onNotificationClick:g})})]}),r.jsx("main",{className:"flex-1 p-4 lg:p-8 overflow-auto",children:e})]})]})}const se=u.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));se.displayName="Card";const Ft=u.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("flex flex-col space-y-1.5 p-6",e),...t}));Ft.displayName="CardHeader";const It=u.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:ye("text-2xl font-semibold leading-none tracking-tight",e),...t}));It.displayName="CardTitle";const ah=u.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));ah.displayName="CardDescription";const ae=u.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("p-6 pt-0",e),...t}));ae.displayName="CardContent";const t5=u.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ye("flex items-center p-6 pt-0",e),...t}));t5.displayName="CardFooter";var Su="Dialog",[sb,V3]=Xn(Su),[n5,Nr]=sb(Su),ab=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=u.useRef(null),c=u.useRef(null),[d,f]=ta({prop:s,defaultProp:a??!1,onChange:i,caller:Su});return r.jsx(n5,{scope:t,triggerRef:l,contentRef:c,contentId:Qs(),titleId:Qs(),descriptionId:Qs(),open:d,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};ab.displayName=Su;var ib="DialogTrigger",ob=u.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Nr(ib,n),i=Oe(t,a.triggerRef);return r.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Xp(a.open),...s,ref:i,onClick:me(e.onClick,a.onOpenToggle)})});ob.displayName=ib;var Qp="DialogPortal",[r5,lb]=sb(Qp,{forceMount:void 0}),cb=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=Nr(Qp,t);return r.jsx(r5,{scope:t,forceMount:n,children:u.Children.map(s,o=>r.jsx(Un,{present:n||i.open,children:r.jsx(Al,{asChild:!0,container:a,children:o})}))})};cb.displayName=Qp;var Ad="DialogOverlay",db=u.forwardRef((e,t)=>{const n=lb(Ad,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Nr(Ad,e.__scopeDialog);return i.modal?r.jsx(Un,{present:s||i.open,children:r.jsx(a5,{...a,ref:t})}):null});db.displayName=Ad;var s5=Ua("DialogOverlay.RemoveScroll"),a5=u.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Nr(Ad,n);return r.jsx(Nu,{as:s5,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(_e.div,{"data-state":Xp(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Ga="DialogContent",ub=u.forwardRef((e,t)=>{const n=lb(Ga,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=Nr(Ga,e.__scopeDialog);return r.jsx(Un,{present:s||i.open,children:i.modal?r.jsx(i5,{...a,ref:t}):r.jsx(o5,{...a,ref:t})})});ub.displayName=Ga;var i5=u.forwardRef((e,t)=>{const n=Nr(Ga,e.__scopeDialog),s=u.useRef(null),a=Oe(t,n.contentRef,s);return u.useEffect(()=>{const i=s.current;if(i)return Gp(i)},[]),r.jsx(fb,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:me(e.onFocusOutside,i=>i.preventDefault())})}),o5=u.forwardRef((e,t)=>{const n=Nr(Ga,e.__scopeDialog),s=u.useRef(!1),a=u.useRef(!1);return r.jsx(fb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),fb=u.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Nr(Ga,n),c=u.useRef(null),d=Oe(t,c);return qp(),r.jsxs(r.Fragment,{children:[r.jsx(ju,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:r.jsx(co,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Xp(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(l5,{titleId:l.titleId}),r.jsx(d5,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Zp="DialogTitle",mb=u.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Nr(Zp,n);return r.jsx(_e.h2,{id:a.titleId,...s,ref:t})});mb.displayName=Zp;var hb="DialogDescription",pb=u.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Nr(hb,n);return r.jsx(_e.p,{id:a.descriptionId,...s,ref:t})});pb.displayName=hb;var xb="DialogClose",gb=u.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=Nr(xb,n);return r.jsx(_e.button,{type:"button",...s,ref:t,onClick:me(e.onClick,()=>a.onOpenChange(!1))})});gb.displayName=xb;function Xp(e){return e?"open":"closed"}var vb="DialogTitleWarning",[H3,yb]=ZC(vb,{contentName:Ga,titleName:Zp,docsSlug:"dialog"}),l5=({titleId:e})=>{const t=yb(vb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},c5="DialogDescriptionWarning",d5=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yb(c5).contentName}}.`;return u.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},u5=ab,f5=ob,m5=cb,wb=db,jb=ub,bb=mb,Nb=pb,h5=gb;const Mt=u5,Il=f5,p5=m5,_b=u.forwardRef(({className:e,...t},n)=>r.jsx(wb,{ref:n,className:ye("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));_b.displayName=wb.displayName;const St=u.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(p5,{children:[r.jsx(_b,{}),r.jsxs(jb,{ref:s,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(h5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[r.jsx(Da,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));St.displayName=jb.displayName;const Ct=({className:e,...t})=>r.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ct.displayName="DialogHeader";const kt=u.forwardRef(({className:e,...t},n)=>r.jsx(bb,{ref:n,className:ye("text-lg font-semibold leading-none tracking-tight",e),...t}));kt.displayName=bb.displayName;const x5=u.forwardRef(({className:e,...t},n)=>r.jsx(Nb,{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));x5.displayName=Nb.displayName;function Jp(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var g5=[" ","Enter","ArrowUp","ArrowDown"],v5=[" ","Enter"],Ka="Select",[Cu,ku,y5]=dp(Ka),[go,Y3]=Xn(Ka,[y5,ho]),Eu=ho(),[w5,ha]=go(Ka),[j5,b5]=go(Ka),Sb=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:m,disabled:p,required:h,form:j}=e,g=Eu(t),[x,v]=u.useState(null),[y,w]=u.useState(null),[b,N]=u.useState(!1),S=vu(d),[C,k]=ta({prop:s,defaultProp:a??!1,onChange:i,caller:Ka}),[T,_]=ta({prop:o,defaultProp:l,onChange:c,caller:Ka}),P=u.useRef(null),A=x?j||!!x.closest("form"):!0,[$,M]=u.useState(new Set),K=Array.from($).map(U=>U.props.value).join(";");return r.jsx(Wj,{...g,children:r.jsxs(w5,{required:h,scope:t,trigger:x,onTriggerChange:v,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:Qs(),value:T,onValueChange:_,open:C,onOpenChange:k,dir:S,triggerPointerDownPosRef:P,disabled:p,children:[r.jsx(Cu.Provider,{scope:t,children:r.jsx(j5,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(U=>{M(O=>new Set(O).add(U))},[]),onNativeOptionRemove:u.useCallback(U=>{M(O=>{const R=new Set(O);return R.delete(U),R})},[]),children:n})}),A?r.jsxs(Kb,{"aria-hidden":!0,required:h,tabIndex:-1,name:f,autoComplete:m,value:T,onChange:U=>_(U.target.value),disabled:p,form:j,children:[T===void 0?r.jsx("option",{value:""}):null,Array.from($)]},K):null]})})};Sb.displayName=Ka;var Cb="SelectTrigger",kb=u.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=Eu(n),o=ha(Cb,n),l=o.disabled||s,c=Oe(t,o.onTriggerChange),d=ku(n),f=u.useRef("touch"),[m,p,h]=Zb(g=>{const x=d().filter(w=>!w.disabled),v=x.find(w=>w.value===o.value),y=Xb(x,g,v);y!==void 0&&o.onValueChange(y.value)}),j=g=>{l||(o.onOpenChange(!0),h()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return r.jsx(lu,{asChild:!0,...i,children:r.jsx(_e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Qb(o.value)?"":void 0,...a,ref:c,onClick:me(a.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&j(g)}),onPointerDown:me(a.onPointerDown,g=>{f.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(j(g),g.preventDefault())}),onKeyDown:me(a.onKeyDown,g=>{const x=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(x&&g.key===" ")&&g5.includes(g.key)&&(j(),g.preventDefault())})})})});kb.displayName=Cb;var Eb="SelectValue",Pb=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=e,c=ha(Eb,n),{onValueNodeHasChildrenChange:d}=c,f=i!==void 0,m=Oe(t,c.onValueNodeChange);return $t(()=>{d(f)},[d,f]),r.jsx(_e.span,{...l,ref:m,style:{pointerEvents:"none"},children:Qb(c.value)?r.jsx(r.Fragment,{children:o}):i})});Pb.displayName=Eb;var N5="SelectIcon",Rb=u.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return r.jsx(_e.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});Rb.displayName=N5;var _5="SelectPortal",Tb=e=>r.jsx(Al,{asChild:!0,...e});Tb.displayName=_5;var Qa="SelectContent",Mb=u.forwardRef((e,t)=>{const n=ha(Qa,e.__scopeSelect),[s,a]=u.useState();if($t(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?ei.createPortal(r.jsx(Ab,{scope:e.__scopeSelect,children:r.jsx(Cu.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(Ob,{...e,ref:t})});Mb.displayName=Qa;var or=10,[Ab,pa]=go(Qa),S5="SelectContentImpl",C5=Ua("SelectContent.RemoveScroll"),Ob=u.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:h,sticky:j,hideWhenDetached:g,avoidCollisions:x,...v}=e,y=ha(Qa,n),[w,b]=u.useState(null),[N,S]=u.useState(null),C=Oe(t,W=>b(W)),[k,T]=u.useState(null),[_,P]=u.useState(null),A=ku(n),[$,M]=u.useState(!1),K=u.useRef(!1);u.useEffect(()=>{if(w)return Gp(w)},[w]),qp();const U=u.useCallback(W=>{const[Ce,...I]=A().map(we=>we.ref.current),[J]=I.slice(-1),ie=document.activeElement;for(const we of W)if(we===ie||(we==null||we.scrollIntoView({block:"nearest"}),we===Ce&&N&&(N.scrollTop=0),we===J&&N&&(N.scrollTop=N.scrollHeight),we==null||we.focus(),document.activeElement!==ie))return},[A,N]),O=u.useCallback(()=>U([k,w]),[U,k,w]);u.useEffect(()=>{$&&O()},[$,O]);const{onOpenChange:R,triggerPointerDownPosRef:F}=y;u.useEffect(()=>{if(w){let W={x:0,y:0};const Ce=J=>{var ie,we;W={x:Math.abs(Math.round(J.pageX)-(((ie=F.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(J.pageY)-(((we=F.current)==null?void 0:we.y)??0))}},I=J=>{W.x<=10&&W.y<=10?J.preventDefault():w.contains(J.target)||R(!1),document.removeEventListener("pointermove",Ce),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",I,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",I,{capture:!0})}}},[w,R,F]),u.useEffect(()=>{const W=()=>R(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[R]);const[D,X]=Zb(W=>{const Ce=A().filter(ie=>!ie.disabled),I=Ce.find(ie=>ie.ref.current===document.activeElement),J=Xb(Ce,W,I);J&&setTimeout(()=>J.ref.current.focus())}),ne=u.useCallback((W,Ce,I)=>{const J=!K.current&&!I;(y.value!==void 0&&y.value===Ce||J)&&(T(W),J&&(K.current=!0))},[y.value]),ve=u.useCallback(()=>w==null?void 0:w.focus(),[w]),z=u.useCallback((W,Ce,I)=>{const J=!K.current&&!I;(y.value!==void 0&&y.value===Ce||J)&&P(W)},[y.value]),ue=s==="popper"?ih:Db,oe=ue===ih?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:h,sticky:j,hideWhenDetached:g,avoidCollisions:x}:{};return r.jsx(Ab,{scope:n,content:w,viewport:N,onViewportChange:S,itemRefCallback:ne,selectedItem:k,onItemLeave:ve,itemTextRefCallback:z,focusSelectedItem:O,selectedItemText:_,position:s,isPositioned:$,searchRef:D,children:r.jsx(Nu,{as:C5,allowPinchZoom:!0,children:r.jsx(ju,{asChild:!0,trapped:y.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:me(a,W=>{var Ce;(Ce=y.trigger)==null||Ce.focus({preventScroll:!0}),W.preventDefault()}),children:r.jsx(co,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:r.jsx(ue,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:W=>W.preventDefault(),...v,...oe,onPlaced:()=>M(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:me(v.onKeyDown,W=>{const Ce=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!Ce&&W.key.length===1&&X(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let J=A().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(W.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const ie=W.target,we=J.indexOf(ie);J=J.slice(we+1)}setTimeout(()=>U(J)),W.preventDefault()}})})})})})})});Ob.displayName=S5;var k5="SelectItemAlignedPosition",Db=u.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=ha(Qa,n),o=pa(Qa,n),[l,c]=u.useState(null),[d,f]=u.useState(null),m=Oe(t,C=>f(C)),p=ku(n),h=u.useRef(!1),j=u.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:v,focusSelectedItem:y}=o,w=u.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&x&&v){const C=i.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),_=v.getBoundingClientRect();if(i.dir!=="rtl"){const ie=_.left-k.left,we=T.left-ie,V=C.left-we,je=C.width+V,Ke=Math.max(je,k.width),L=window.innerWidth-or,Ne=rh(we,[or,Math.max(or,L-Ke)]);l.style.minWidth=je+"px",l.style.left=Ne+"px"}else{const ie=k.right-_.right,we=window.innerWidth-T.right-ie,V=window.innerWidth-C.right-we,je=C.width+V,Ke=Math.max(je,k.width),L=window.innerWidth-or,Ne=rh(we,[or,Math.max(or,L-Ke)]);l.style.minWidth=je+"px",l.style.right=Ne+"px"}const P=p(),A=window.innerHeight-or*2,$=g.scrollHeight,M=window.getComputedStyle(d),K=parseInt(M.borderTopWidth,10),U=parseInt(M.paddingTop,10),O=parseInt(M.borderBottomWidth,10),R=parseInt(M.paddingBottom,10),F=K+U+$+R+O,D=Math.min(x.offsetHeight*5,F),X=window.getComputedStyle(g),ne=parseInt(X.paddingTop,10),ve=parseInt(X.paddingBottom,10),z=C.top+C.height/2-or,ue=A-z,oe=x.offsetHeight/2,W=x.offsetTop+oe,Ce=K+U+W,I=F-Ce;if(Ce<=z){const ie=P.length>0&&x===P[P.length-1].ref.current;l.style.bottom="0px";const we=d.clientHeight-g.offsetTop-g.offsetHeight,V=Math.max(ue,oe+(ie?ve:0)+we+O),je=Ce+V;l.style.height=je+"px"}else{const ie=P.length>0&&x===P[0].ref.current;l.style.top="0px";const V=Math.max(z,K+g.offsetTop+(ie?ne:0)+oe)+I;l.style.height=V+"px",g.scrollTop=Ce-z+g.offsetTop}l.style.margin=`${or}px 0`,l.style.minHeight=D+"px",l.style.maxHeight=A+"px",s==null||s(),requestAnimationFrame(()=>h.current=!0)}},[p,i.trigger,i.valueNode,l,d,g,x,v,i.dir,s]);$t(()=>w(),[w]);const[b,N]=u.useState();$t(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const S=u.useCallback(C=>{C&&j.current===!0&&(w(),y==null||y(),j.current=!1)},[w,y]);return r.jsx(P5,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:S,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:r.jsx(_e.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Db.displayName=k5;var E5="SelectPopperPosition",ih=u.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=or,...i}=e,o=Eu(n);return r.jsx(Tp,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ih.displayName=E5;var[P5,ex]=go(Qa,{}),oh="SelectViewport",Fb=u.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=pa(oh,n),o=ex(oh,n),l=Oe(t,i.onViewportChange),c=u.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Cu.Slot,{scope:n,children:r.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:me(a.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&m){const h=Math.abs(c.current-f.scrollTop);if(h>0){const j=window.innerHeight-or*2,g=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),v=Math.max(g,x);if(v<j){const y=v+h,w=Math.min(j,y),b=y-w;m.style.height=w+"px",m.style.bottom==="0px"&&(f.scrollTop=b>0?b:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});Fb.displayName=oh;var Ib="SelectGroup",[R5,T5]=go(Ib),M5=u.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Qs();return r.jsx(R5,{scope:n,id:a,children:r.jsx(_e.div,{role:"group","aria-labelledby":a,...s,ref:t})})});M5.displayName=Ib;var Lb="SelectLabel",$b=u.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=T5(Lb,n);return r.jsx(_e.div,{id:a.id,...s,ref:t})});$b.displayName=Lb;var Od="SelectItem",[A5,zb]=go(Od),Ub=u.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=e,l=ha(Od,n),c=pa(Od,n),d=l.value===s,[f,m]=u.useState(i??""),[p,h]=u.useState(!1),j=Oe(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,s,a)}),g=Qs(),x=u.useRef("touch"),v=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(A5,{scope:n,value:s,disabled:a,textId:g,isSelected:d,onItemTextChange:u.useCallback(y=>{m(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:r.jsx(Cu.ItemSlot,{scope:n,value:s,disabled:a,textValue:f,children:r.jsx(_e.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:j,onFocus:me(o.onFocus,()=>h(!0)),onBlur:me(o.onBlur,()=>h(!1)),onClick:me(o.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:me(o.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:me(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:me(o.onPointerMove,y=>{var w;x.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:me(o.onKeyDown,y=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&y.key===" "||(v5.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});Ub.displayName=Od;var $o="SelectItemText",Bb=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,o=ha($o,n),l=pa($o,n),c=zb($o,n),d=b5($o,n),[f,m]=u.useState(null),p=Oe(t,v=>m(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),h=f==null?void 0:f.textContent,j=u.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=d;return $t(()=>(g(j),()=>x(j)),[g,x,j]),r.jsxs(r.Fragment,{children:[r.jsx(_e.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ei.createPortal(i.children,o.valueNode):null]})});Bb.displayName=$o;var Wb="SelectItemIndicator",Vb=u.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return zb(Wb,n).isSelected?r.jsx(_e.span,{"aria-hidden":!0,...s,ref:t}):null});Vb.displayName=Wb;var lh="SelectScrollUpButton",Hb=u.forwardRef((e,t)=>{const n=pa(lh,e.__scopeSelect),s=ex(lh,e.__scopeSelect),[a,i]=u.useState(!1),o=Oe(t,s.onScrollButtonChange);return $t(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(qb,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Hb.displayName=lh;var ch="SelectScrollDownButton",Yb=u.forwardRef((e,t)=>{const n=pa(ch,e.__scopeSelect),s=ex(ch,e.__scopeSelect),[a,i]=u.useState(!1),o=Oe(t,s.onScrollButtonChange);return $t(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;i(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(qb,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Yb.displayName=ch;var qb=u.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=pa("SelectScrollButton",n),o=u.useRef(null),l=ku(n),c=u.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),$t(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),r.jsx(_e.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:me(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:me(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:me(a.onPointerLeave,()=>{c()})})}),O5="SelectSeparator",Gb=u.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(_e.div,{"aria-hidden":!0,...s,ref:t})});Gb.displayName=O5;var dh="SelectArrow",D5=u.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Eu(n),i=ha(dh,n),o=pa(dh,n);return i.open&&o.position==="popper"?r.jsx(Mp,{...a,...s,ref:t}):null});D5.displayName=dh;var F5="SelectBubbleInput",Kb=u.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const a=u.useRef(null),i=Oe(s,a),o=Jp(t);return u.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const m=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(m)}},[o,t]),r.jsx(_e.select,{...n,style:{...Ow,...n.style},ref:i,defaultValue:t})});Kb.displayName=F5;function Qb(e){return e===""||e===void 0}function Zb(e){const t=Rt(e),n=u.useRef(""),s=u.useRef(0),a=u.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=u.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function Xb(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=I5(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function I5(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var L5=Sb,Jb=kb,$5=Pb,z5=Rb,U5=Tb,eN=Mb,B5=Fb,tN=$b,nN=Ub,W5=Bb,V5=Vb,rN=Hb,sN=Yb,aN=Gb;const Ue=L5,Be=$5,$e=u.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(Jb,{ref:s,className:ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(z5,{asChild:!0,children:r.jsx(ij,{className:"h-4 w-4 opacity-50"})})]}));$e.displayName=Jb.displayName;const iN=u.forwardRef(({className:e,...t},n)=>r.jsx(rN,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(K2,{className:"h-4 w-4"})}));iN.displayName=rN.displayName;const oN=u.forwardRef(({className:e,...t},n)=>r.jsx(sN,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(ij,{className:"h-4 w-4"})}));oN.displayName=sN.displayName;const ze=u.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>r.jsx(U5,{children:r.jsxs(eN,{ref:a,className:ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(iN,{}),r.jsx(B5,{className:ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(oN,{})]})}));ze.displayName=eN.displayName;const H5=u.forwardRef(({className:e,...t},n)=>r.jsx(tN,{ref:n,className:ye("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));H5.displayName=tN.displayName;const Q=u.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(nN,{ref:s,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(V5,{children:r.jsx(aj,{className:"h-4 w-4"})})}),r.jsx(W5,{children:t})]}));Q.displayName=nN.displayName;const Y5=u.forwardRef(({className:e,...t},n)=>r.jsx(aN,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));Y5.displayName=aN.displayName;function Ve(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ln(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function sn(e,t){const n=Ve(e);return isNaN(t)?Ln(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function jr(e,t){const n=Ve(e);if(isNaN(t))return Ln(e,NaN);if(!t)return n;const s=n.getDate(),a=Ln(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),s),n)}const tx=6048e5,q5=864e5;let G5={};function Ll(){return G5}function Yr(e,t){var l,c,d,f;const n=Ll(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,a=Ve(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Za(e){return Yr(e,{weekStartsOn:1})}function lN(e){const t=Ve(e),n=t.getFullYear(),s=Ln(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=Za(s),i=Ln(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Za(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function ao(e){const t=Ve(e);return t.setHours(0,0,0,0),t}function Dd(e){const t=Ve(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function zr(e,t){const n=ao(e),s=ao(t),a=+n-Dd(n),i=+s-Dd(s);return Math.round((a-i)/q5)}function K5(e){const t=lN(e),n=Ln(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Za(n)}function uh(e,t){const n=t*7;return sn(e,n)}function Q5(e,t){return jr(e,t*12)}function Z5(e){let t;return e.forEach(function(n){const s=Ve(n);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function X5(e){let t;return e.forEach(n=>{const s=Ve(n);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function vn(e,t){const n=ao(e),s=ao(t);return+n==+s}function nx(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function J5(e){if(!nx(e)&&typeof e!="number")return!1;const t=Ve(e);return!isNaN(Number(t))}function Sl(e,t){const n=Ve(e),s=Ve(t),a=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return a*12+i}function eA(e,t,n){const s=Yr(e,n),a=Yr(t,n),i=+s-Dd(s),o=+a-Dd(a);return Math.round((i-o)/tx)}function rx(e){const t=Ve(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function bn(e){const t=Ve(e);return t.setDate(1),t.setHours(0,0,0,0),t}function cN(e){const t=Ve(e),n=Ln(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function sx(e,t){var l,c,d,f;const n=Ll(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,a=Ve(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function dN(e){return sx(e,{weekStartsOn:1})}const tA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nA=(e,t,n)=>{let s;const a=tA[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Mf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const rA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iA={date:Mf({formats:rA,defaultWidth:"full"}),time:Mf({formats:sA,defaultWidth:"full"}),dateTime:Mf({formats:aA,defaultWidth:"full"})},oA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lA=(e,t,n,s)=>oA[e];function To(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const cA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pA=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xA={ordinalNumber:pA,era:To({values:cA,defaultWidth:"wide"}),quarter:To({values:dA,defaultWidth:"wide",argumentCallback:e=>e-1}),month:To({values:uA,defaultWidth:"wide"}),day:To({values:fA,defaultWidth:"wide"}),dayPeriod:To({values:mA,defaultWidth:"wide",formattingValues:hA,defaultFormattingWidth:"wide"})};function Mo(e){return(t,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?vA(l,m=>m.test(o)):gA(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=t.slice(o.length);return{value:d,rest:f}}}function gA(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function vA(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function yA(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const wA=/^(\d+)(th|st|nd|rd)?/i,jA=/\d+/i,bA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NA={any:[/^b/i,/^(a|c)/i]},_A={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SA={any:[/1/i,/2/i,/3/i,/4/i]},CA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MA={ordinalNumber:yA({matchPattern:wA,parsePattern:jA,valueCallback:e=>parseInt(e,10)}),era:Mo({matchPatterns:bA,defaultMatchWidth:"wide",parsePatterns:NA,defaultParseWidth:"any"}),quarter:Mo({matchPatterns:_A,defaultMatchWidth:"wide",parsePatterns:SA,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mo({matchPatterns:CA,defaultMatchWidth:"wide",parsePatterns:kA,defaultParseWidth:"any"}),day:Mo({matchPatterns:EA,defaultMatchWidth:"wide",parsePatterns:PA,defaultParseWidth:"any"}),dayPeriod:Mo({matchPatterns:RA,defaultMatchWidth:"any",parsePatterns:TA,defaultParseWidth:"any"})},uN={code:"en-US",formatDistance:nA,formatLong:iA,formatRelative:lA,localize:xA,match:MA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AA(e){const t=Ve(e);return zr(t,cN(t))+1}function fN(e){const t=Ve(e),n=+Za(t)-+K5(t);return Math.round(n/tx)+1}function mN(e,t){var f,m,p,h;const n=Ve(e),s=n.getFullYear(),a=Ll(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(p=a.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=Ln(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Yr(o,t),c=Ln(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Yr(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}function OA(e,t){var l,c,d,f;const n=Ll(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=mN(e,t),i=Ln(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Yr(i,t)}function hN(e,t){const n=Ve(e),s=+Yr(n,t)-+OA(n,t);return Math.round(s/tx)+1}function Je(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Ns={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return Je(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Je(n+1,2)},d(e,t){return Je(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Je(e.getHours()%12||12,t.length)},H(e,t){return Je(e.getHours(),t.length)},m(e,t){return Je(e.getMinutes(),t.length)},s(e,t){return Je(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return Je(a,t.length)}},li={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hv={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return Ns.y(e,t)},Y:function(e,t,n,s){const a=mN(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Je(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Je(i,t.length)},R:function(e,t){const n=lN(e);return Je(n,t.length)},u:function(e,t){const n=e.getFullYear();return Je(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Je(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Je(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Ns.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Je(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const a=hN(e,s);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Je(a,t.length)},I:function(e,t,n){const s=fN(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):Je(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ns.d(e,t)},D:function(e,t,n){const s=AA(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Je(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Je(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Je(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Je(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let a;switch(s===12?a=li.noon:s===0?a=li.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let a;switch(s>=17?a=li.evening:s>=12?a=li.afternoon:s>=4?a=li.morning:a=li.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ns.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ns.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Je(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):Je(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ns.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ns.s(e,t)},S:function(e,t){return Ns.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return qv(s);case"XXXX":case"XX":return wa(s);case"XXXXX":case"XXX":default:return wa(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return qv(s);case"xxxx":case"xx":return wa(s);case"xxxxx":case"xxx":default:return wa(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Yv(s,":");case"OOOO":default:return"GMT"+wa(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Yv(s,":");case"zzzz":default:return"GMT"+wa(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return Je(s,t.length)},T:function(e,t,n){const s=e.getTime();return Je(s,t.length)}};function Yv(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?n+String(a):n+String(a)+t+Je(i,2)}function qv(e,t){return e%60===0?(e>0?"-":"+")+Je(Math.abs(e)/60,2):wa(e,t)}function wa(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Je(Math.trunc(s/60),2),i=Je(s%60,2);return n+a+t+i}const Gv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},pN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},DA=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return Gv(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Gv(s,t)).replace("{{time}}",pN(a,t))},FA={p:pN,P:DA},IA=/^D+$/,LA=/^Y+$/,$A=["D","DD","YY","YYYY"];function zA(e){return IA.test(e)}function UA(e){return LA.test(e)}function BA(e,t,n){const s=WA(e,t,n);if(console.warn(s),$A.includes(e))throw new RangeError(s)}function WA(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YA=/^'([^]*?)'?$/,qA=/''/g,GA=/[a-zA-Z]/;function _t(e,t,n){var f,m,p,h,j,g,x,v;const s=Ll(),a=(n==null?void 0:n.locale)??s.locale??uN,i=(n==null?void 0:n.firstWeekContainsDate)??((m=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(p=s.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(j=n==null?void 0:n.locale)==null?void 0:j.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((v=(x=s.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,l=Ve(e);if(!J5(l))throw new RangeError("Invalid time value");let c=t.match(HA).map(y=>{const w=y[0];if(w==="p"||w==="P"){const b=FA[w];return b(y,a.formatLong)}return y}).join("").match(VA).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:KA(y)};if(Hv[w])return{isToken:!0,value:y};if(w.match(GA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&UA(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&zA(w))&&BA(w,t,String(e));const b=Hv[w[0]];return b(l,w,a.localize,d)}).join("")}function KA(e){const t=e.match(YA);return t?t[1].replace(qA,"'"):e}function QA(e){const t=Ve(e),n=t.getFullYear(),s=t.getMonth(),a=Ln(e,0);return a.setFullYear(n,s+1,0),a.setHours(0,0,0,0),a.getDate()}function ZA(e){return Math.trunc(+Ve(e)/1e3)}function XA(e){const t=Ve(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function JA(e,t){return eA(XA(e),bn(e),t)+1}function fh(e,t){const n=Ve(e),s=Ve(t);return n.getTime()>s.getTime()}function xN(e,t){const n=Ve(e),s=Ve(t);return+n<+s}function ax(e,t){const n=Ve(e),s=Ve(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function eO(e,t){const n=Ve(e),s=Ve(t);return n.getFullYear()===s.getFullYear()}function Af(e,t){return sn(e,-t)}function Of(e,t){const n=Ve(e),s=n.getFullYear(),a=n.getDate(),i=Ln(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=QA(i);return n.setMonth(t,Math.min(a,o)),n}function Kv(e,t){const n=Ve(e);return isNaN(+n)?Ln(e,NaN):(n.setFullYear(t),n)}var Se=function(){return Se=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Se.apply(this,arguments)};function tO(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function gN(e,t,n){for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function $l(e){return e.mode==="multiple"}function zl(e){return e.mode==="range"}function Pu(e){return e.mode==="single"}var nO={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function rO(e,t){return _t(e,"LLLL y",t)}function sO(e,t){return _t(e,"d",t)}function aO(e,t){return _t(e,"LLLL",t)}function iO(e){return"".concat(e)}function oO(e,t){return _t(e,"cccccc",t)}function lO(e,t){return _t(e,"yyyy",t)}var cO=Object.freeze({__proto__:null,formatCaption:rO,formatDay:sO,formatMonthCaption:aO,formatWeekNumber:iO,formatWeekdayName:oO,formatYearCaption:lO}),dO=function(e,t,n){return _t(e,"do MMMM (EEEE)",n)},uO=function(){return"Month: "},fO=function(){return"Go to next month"},mO=function(){return"Go to previous month"},hO=function(e,t){return _t(e,"cccc",t)},pO=function(e){return"Week n. ".concat(e)},xO=function(){return"Year: "},gO=Object.freeze({__proto__:null,labelDay:dO,labelMonthDropdown:uO,labelNext:fO,labelPrevious:mO,labelWeekNumber:pO,labelWeekday:hO,labelYearDropdown:xO});function vO(){var e="buttons",t=nO,n=uN,s={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:cO,labels:gO,locale:n,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function yO(e){var t=e.fromYear,n=e.toYear,s=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return s?i=bn(s):t&&(i=new Date(t,0,1)),a?o=rx(a):n&&(o=new Date(n,11,31)),{fromDate:i?ao(i):void 0,toDate:o?ao(o):void 0}}var vN=u.createContext(void 0);function wO(e){var t,n=e.initialProps,s=vO(),a=yO(n),i=a.fromDate,o=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Pu(n)||$l(n)||zl(n))&&(c=n.onSelect);var d=Se(Se(Se({},s),n),{captionLayout:l,classNames:Se(Se({},s.classNames),n.classNames),components:Se({},n.components),formatters:Se(Se({},s.formatters),n.formatters),fromDate:i,labels:Se(Se({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:Se(Se({},s.modifiers),n.modifiers),modifiersClassNames:Se(Se({},s.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Se(Se({},s.styles),n.styles),toDate:o});return r.jsx(vN.Provider,{value:d,children:e.children})}function at(){var e=u.useContext(vN);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function yN(e){var t=at(),n=t.locale,s=t.classNames,a=t.styles,i=t.formatters.formatCaption;return r.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function jO(e){return r.jsx("svg",Se({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:r.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function wN(e){var t,n,s=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=at(),f=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:jO;return r.jsxs("div",{className:l,style:c,children:[r.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),r.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:s,children:i}),r.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,r.jsx(f,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function bO(e){var t,n=at(),s=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,f=n.labels.labelMonthDropdown;if(!s)return r.jsx(r.Fragment,{});if(!a)return r.jsx(r.Fragment,{});var m=[];if(eO(s,a))for(var p=bn(s),h=s.getMonth();h<=a.getMonth();h++)m.push(Of(p,h));else for(var p=bn(new Date),h=0;h<=11;h++)m.push(Of(p,h));var j=function(x){var v=Number(x.target.value),y=Of(bn(e.displayMonth),v);e.onChange(y)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:wN;return r.jsx(g,{name:"months","aria-label":f(),className:c.dropdown_month,style:i.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:m.map(function(x){return r.jsx("option",{value:x.getMonth(),children:l(x,{locale:o})},x.getMonth())})})}function NO(e){var t,n=e.displayMonth,s=at(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,d=s.components,f=s.formatters.formatYearCaption,m=s.labels.labelYearDropdown,p=[];if(!a)return r.jsx(r.Fragment,{});if(!i)return r.jsx(r.Fragment,{});for(var h=a.getFullYear(),j=i.getFullYear(),g=h;g<=j;g++)p.push(Kv(cN(new Date),g));var x=function(y){var w=Kv(bn(n),Number(y.target.value));e.onChange(w)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:wN;return r.jsx(v,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:n.getFullYear(),caption:f(n,{locale:o}),children:p.map(function(y){return r.jsx("option",{value:y.getFullYear(),children:f(y,{locale:o})},y.getFullYear())})})}function _O(e,t){var n=u.useState(e),s=n[0],a=n[1],i=t===void 0?s:t;return[i,a]}function SO(e){var t=e.month,n=e.defaultMonth,s=e.today,a=t||n||s||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Sl(i,a)<0){var d=-1*(c-1);a=jr(i,d)}return o&&Sl(a,o)<0&&(a=o),bn(a)}function CO(){var e=at(),t=SO(e),n=_O(t,e.month),s=n[0],a=n[1],i=function(o){var l;if(!e.disableNavigation){var c=bn(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,i]}function kO(e,t){for(var n=t.reverseMonths,s=t.numberOfMonths,a=bn(e),i=bn(jr(a,s)),o=Sl(i,a),l=[],c=0;c<o;c++){var d=jr(a,c);l.push(d)}return n&&(l=l.reverse()),l}function EO(e,t){if(!t.disableNavigation){var n=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=bn(e);if(!n)return jr(l,o);var c=Sl(n,e);if(!(c<i))return jr(l,o)}}function PO(e,t){if(!t.disableNavigation){var n=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=bn(e);if(!n)return jr(l,-o);var c=Sl(l,n);if(!(c<=0))return jr(l,-o)}}var jN=u.createContext(void 0);function RO(e){var t=at(),n=CO(),s=n[0],a=n[1],i=kO(s,t),o=EO(s,t),l=PO(s,t),c=function(m){return i.some(function(p){return ax(m,p)})},d=function(m,p){c(m)||(p&&xN(m,p)?a(jr(m,1+t.numberOfMonths*-1)):a(m))},f={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return r.jsx(jN.Provider,{value:f,children:e.children})}function Ul(){var e=u.useContext(jN);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Qv(e){var t,n=at(),s=n.classNames,a=n.styles,i=n.components,o=Ul().goToMonth,l=function(f){o(jr(f,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:yN,d=r.jsx(c,{id:e.id,displayMonth:e.displayMonth});return r.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[r.jsx("div",{className:s.vhidden,children:d}),r.jsx(bO,{onChange:l,displayMonth:e.displayMonth}),r.jsx(NO,{onChange:l,displayMonth:e.displayMonth})]})}function TO(e){return r.jsx("svg",Se({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function MO(e){return r.jsx("svg",Se({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Fd=u.forwardRef(function(e,t){var n=at(),s=n.classNames,a=n.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var o=i.join(" "),l=Se(Se({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),r.jsx("button",Se({},e,{ref:t,type:"button",className:o,style:l}))});function AO(e){var t,n,s=at(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,f=c.labelNext,m=s.components;if(!e.nextMonth&&!e.previousMonth)return r.jsx(r.Fragment,{});var p=d(e.previousMonth,{locale:i}),h=[o.nav_button,o.nav_button_previous].join(" "),j=f(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),x=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:MO,v=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:TO;return r.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&r.jsx(Fd,{name:"previous-month","aria-label":p,className:h,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?r.jsx(x,{className:o.nav_icon,style:l.nav_icon}):r.jsx(v,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&r.jsx(Fd,{name:"next-month","aria-label":j,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?r.jsx(v,{className:o.nav_icon,style:l.nav_icon}):r.jsx(x,{className:o.nav_icon,style:l.nav_icon})})]})}function Zv(e){var t=at().numberOfMonths,n=Ul(),s=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(j){return ax(e.displayMonth,j)}),c=l===0,d=l===o.length-1,f=t>1&&(c||!d),m=t>1&&(d||!c),p=function(){s&&i(s)},h=function(){a&&i(a)};return r.jsx(AO,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:m,nextMonth:a,previousMonth:s,onPreviousClick:p,onNextClick:h})}function OO(e){var t,n=at(),s=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:yN,d;return a?d=r.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=r.jsx(Qv,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=r.jsxs(r.Fragment,{children:[r.jsx(Qv,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),r.jsx(Zv,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=r.jsxs(r.Fragment,{children:[r.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(Zv,{displayMonth:e.displayMonth,id:e.id})]}),r.jsx("div",{className:s.caption,style:i.caption,children:d})}function DO(e){var t=at(),n=t.footer,s=t.styles,a=t.classNames.tfoot;return n?r.jsx("tfoot",{className:a,style:s.tfoot,children:r.jsx("tr",{children:r.jsx("td",{colSpan:8,children:n})})}):r.jsx(r.Fragment,{})}function FO(e,t,n){for(var s=n?Za(new Date):Yr(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=sn(s,i);a.push(o)}return a}function IO(){var e=at(),t=e.classNames,n=e.styles,s=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=FO(a,i,o);return r.jsxs("tr",{style:n.head_row,className:t.head_row,children:[s&&r.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(f,m){return r.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(f,{locale:a}),children:l(f,{locale:a})},m)})]})}function LO(){var e,t=at(),n=t.classNames,s=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:IO;return r.jsx("thead",{style:s.head,className:n.head,children:r.jsx(i,{})})}function $O(e){var t=at(),n=t.locale,s=t.formatters.formatDay;return r.jsx(r.Fragment,{children:s(e.date,{locale:n})})}var ix=u.createContext(void 0);function zO(e){if(!$l(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return r.jsx(ix.Provider,{value:t,children:e.children})}return r.jsx(UO,{initialProps:e.initialProps,children:e.children})}function UO(e){var t=e.initialProps,n=e.children,s=t.selected,a=t.min,i=t.max,o=function(d,f,m){var p,h;(p=t.onDayClick)===null||p===void 0||p.call(t,d,f,m);var j=!!(f.selected&&a&&(s==null?void 0:s.length)===a);if(!j){var g=!!(!f.selected&&i&&(s==null?void 0:s.length)===i);if(!g){var x=s?gN([],s):[];if(f.selected){var v=x.findIndex(function(y){return vn(d,y)});x.splice(v,1)}else x.push(d);(h=t.onSelect)===null||h===void 0||h.call(t,x,d,f,m)}}},l={disabled:[]};s&&l.disabled.push(function(d){var f=i&&s.length>i-1,m=s.some(function(p){return vn(p,d)});return!!(f&&!m)});var c={selected:s,onDayClick:o,modifiers:l};return r.jsx(ix.Provider,{value:c,children:n})}function ox(){var e=u.useContext(ix);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function BO(e,t){var n=t||{},s=n.from,a=n.to;return s&&a?vn(a,e)&&vn(s,e)?void 0:vn(a,e)?{from:a,to:void 0}:vn(s,e)?void 0:fh(s,e)?{from:e,to:a}:{from:s,to:e}:a?fh(e,a)?{from:a,to:e}:{from:e,to:a}:s?xN(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var lx=u.createContext(void 0);function WO(e){if(!zl(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return r.jsx(lx.Provider,{value:t,children:e.children})}return r.jsx(VO,{initialProps:e.initialProps,children:e.children})}function VO(e){var t=e.initialProps,n=e.children,s=t.selected,a=s||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(h,j,g){var x,v;(x=t.onDayClick)===null||x===void 0||x.call(t,h,j,g);var y=BO(h,s);(v=t.onSelect)===null||v===void 0||v.call(t,y,h,j,g)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(f.range_start=[i],o?(f.range_end=[o],vn(i,o)||(f.range_middle=[{after:i,before:o}])):f.range_end=[i]):o&&(f.range_start=[o],f.range_end=[o]),l&&(i&&!o&&f.disabled.push({after:Af(i,l-1),before:sn(i,l-1)}),i&&o&&f.disabled.push({after:i,before:sn(i,l-1)}),!i&&o&&f.disabled.push({after:Af(o,l-1),before:sn(o,l-1)})),c){if(i&&!o&&(f.disabled.push({before:sn(i,-c+1)}),f.disabled.push({after:sn(i,c-1)})),i&&o){var m=zr(o,i)+1,p=c-m;f.disabled.push({before:Af(i,p)}),f.disabled.push({after:sn(o,p)})}!i&&o&&(f.disabled.push({before:sn(o,-c+1)}),f.disabled.push({after:sn(o,c-1)}))}return r.jsx(lx.Provider,{value:{selected:s,onDayClick:d,modifiers:f},children:n})}function cx(){var e=u.useContext(lx);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Uc(e){return Array.isArray(e)?gN([],e):e!==void 0?[e]:[]}function HO(e){var t={};return Object.entries(e).forEach(function(n){var s=n[0],a=n[1];t[s]=Uc(a)}),t}var br;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(br||(br={}));var YO=br.Selected,Xr=br.Disabled,qO=br.Hidden,GO=br.Today,Df=br.RangeEnd,Ff=br.RangeMiddle,If=br.RangeStart,KO=br.Outside;function QO(e,t,n){var s,a=(s={},s[YO]=Uc(e.selected),s[Xr]=Uc(e.disabled),s[qO]=Uc(e.hidden),s[GO]=[e.today],s[Df]=[],s[Ff]=[],s[If]=[],s[KO]=[],s);return e.fromDate&&a[Xr].push({before:e.fromDate}),e.toDate&&a[Xr].push({after:e.toDate}),$l(e)?a[Xr]=a[Xr].concat(t.modifiers[Xr]):zl(e)&&(a[Xr]=a[Xr].concat(n.modifiers[Xr]),a[If]=n.modifiers[If],a[Ff]=n.modifiers[Ff],a[Df]=n.modifiers[Df]),a}var bN=u.createContext(void 0);function ZO(e){var t=at(),n=ox(),s=cx(),a=QO(t,n,s),i=HO(t.modifiers),o=Se(Se({},a),i);return r.jsx(bN.Provider,{value:o,children:e.children})}function NN(){var e=u.useContext(bN);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function XO(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function JO(e){return!!(e&&typeof e=="object"&&"from"in e)}function eD(e){return!!(e&&typeof e=="object"&&"after"in e)}function tD(e){return!!(e&&typeof e=="object"&&"before"in e)}function nD(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function rD(e,t){var n,s=t.from,a=t.to;if(s&&a){var i=zr(a,s)<0;i&&(n=[a,s],s=n[0],a=n[1]);var o=zr(e,s)>=0&&zr(a,e)>=0;return o}return a?vn(a,e):s?vn(s,e):!1}function sD(e){return nx(e)}function aD(e){return Array.isArray(e)&&e.every(nx)}function iD(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(sD(n))return vn(e,n);if(aD(n))return n.includes(e);if(JO(n))return rD(e,n);if(nD(n))return n.dayOfWeek.includes(e.getDay());if(XO(n)){var s=zr(n.before,e),a=zr(n.after,e),i=s>0,o=a<0,l=fh(n.before,n.after);return l?o&&i:i||o}return eD(n)?zr(e,n.after)>0:tD(n)?zr(n.before,e)>0:typeof n=="function"?n(e):!1})}function dx(e,t,n){var s=Object.keys(t).reduce(function(i,o){var l=t[o];return iD(e,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),n&&!ax(e,n)&&(a.outside=!0),a}function oD(e,t){for(var n=bn(e[0]),s=rx(e[e.length-1]),a,i,o=n;o<=s;){var l=dx(o,t),c=!l.disabled&&!l.hidden;if(!c){o=sn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=sn(o,1)}return i||a}var lD=365;function _N(e,t){var n=t.moveBy,s=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,f=a.toDate,m=a.locale,p={day:sn,week:uh,month:jr,year:Q5,startOfWeek:function(x){return a.ISOWeek?Za(x):Yr(x,{locale:m,weekStartsOn:c})},endOfWeek:function(x){return a.ISOWeek?dN(x):sx(x,{locale:m,weekStartsOn:c})}},h=p[n](e,s==="after"?1:-1);s==="before"&&d?h=Z5([d,h]):s==="after"&&f&&(h=X5([f,h]));var j=!0;if(i){var g=dx(h,i);j=!g.disabled&&!g.hidden}return j?h:l.count>lD?l.lastFocused:_N(h,{moveBy:n,direction:s,context:a,modifiers:i,retry:Se(Se({},l),{count:l.count+1})})}var SN=u.createContext(void 0);function cD(e){var t=Ul(),n=NN(),s=u.useState(),a=s[0],i=s[1],o=u.useState(),l=o[0],c=o[1],d=oD(t.displayMonths,n),f=a??(l&&t.isDateDisplayed(l))?l:d,m=function(){c(a),i(void 0)},p=function(x){i(x)},h=at(),j=function(x,v){if(a){var y=_N(a,{moveBy:x,direction:v,context:h,modifiers:n});vn(a,y)||(t.goToDate(y,a),p(y))}},g={focusedDay:a,focusTarget:f,blur:m,focus:p,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return r.jsx(SN.Provider,{value:g,children:e.children})}function ux(){var e=u.useContext(SN);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function dD(e,t){var n=NN(),s=dx(e,n,t);return s}var fx=u.createContext(void 0);function uD(e){if(!Pu(e.initialProps)){var t={selected:void 0};return r.jsx(fx.Provider,{value:t,children:e.children})}return r.jsx(fD,{initialProps:e.initialProps,children:e.children})}function fD(e){var t=e.initialProps,n=e.children,s=function(i,o,l){var c,d,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:s};return r.jsx(fx.Provider,{value:a,children:n})}function CN(){var e=u.useContext(fx);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function mD(e,t){var n=at(),s=CN(),a=ox(),i=cx(),o=ux(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,f=o.focusWeekBefore,m=o.blur,p=o.focus,h=o.focusMonthBefore,j=o.focusMonthAfter,g=o.focusYearBefore,x=o.focusYearAfter,v=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function(O){var R,F,D,X;Pu(n)?(R=s.onDayClick)===null||R===void 0||R.call(s,e,t,O):$l(n)?(F=a.onDayClick)===null||F===void 0||F.call(a,e,t,O):zl(n)?(D=i.onDayClick)===null||D===void 0||D.call(i,e,t,O):(X=n.onDayClick)===null||X===void 0||X.call(n,e,t,O)},b=function(O){var R;p(e),(R=n.onDayFocus)===null||R===void 0||R.call(n,e,t,O)},N=function(O){var R;m(),(R=n.onDayBlur)===null||R===void 0||R.call(n,e,t,O)},S=function(O){var R;(R=n.onDayMouseEnter)===null||R===void 0||R.call(n,e,t,O)},C=function(O){var R;(R=n.onDayMouseLeave)===null||R===void 0||R.call(n,e,t,O)},k=function(O){var R;(R=n.onDayPointerEnter)===null||R===void 0||R.call(n,e,t,O)},T=function(O){var R;(R=n.onDayPointerLeave)===null||R===void 0||R.call(n,e,t,O)},_=function(O){var R;(R=n.onDayTouchCancel)===null||R===void 0||R.call(n,e,t,O)},P=function(O){var R;(R=n.onDayTouchEnd)===null||R===void 0||R.call(n,e,t,O)},A=function(O){var R;(R=n.onDayTouchMove)===null||R===void 0||R.call(n,e,t,O)},$=function(O){var R;(R=n.onDayTouchStart)===null||R===void 0||R.call(n,e,t,O)},M=function(O){var R;(R=n.onDayKeyUp)===null||R===void 0||R.call(n,e,t,O)},K=function(O){var R;switch(O.key){case"ArrowLeft":O.preventDefault(),O.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":O.preventDefault(),O.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":O.preventDefault(),O.stopPropagation(),d();break;case"ArrowUp":O.preventDefault(),O.stopPropagation(),f();break;case"PageUp":O.preventDefault(),O.stopPropagation(),O.shiftKey?g():h();break;case"PageDown":O.preventDefault(),O.stopPropagation(),O.shiftKey?x():j();break;case"Home":O.preventDefault(),O.stopPropagation(),v();break;case"End":O.preventDefault(),O.stopPropagation(),y();break}(R=n.onDayKeyDown)===null||R===void 0||R.call(n,e,t,O)},U={onClick:w,onFocus:b,onBlur:N,onKeyDown:K,onKeyUp:M,onMouseEnter:S,onMouseLeave:C,onPointerEnter:k,onPointerLeave:T,onTouchCancel:_,onTouchEnd:P,onTouchMove:A,onTouchStart:$};return U}function hD(){var e=at(),t=CN(),n=ox(),s=cx(),a=Pu(e)?t.selected:$l(e)?n.selected:zl(e)?s.selected:void 0;return a}function pD(e){return Object.values(br).includes(e)}function xD(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)n.push(a);else if(pD(s)){var i=e.classNames["day_".concat(s)];i&&n.push(i)}}),n}function gD(e,t){var n=Se({},e.styles.day);return Object.keys(t).forEach(function(s){var a;n=Se(Se({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),n}function vD(e,t,n){var s,a,i,o=at(),l=ux(),c=dD(e,t),d=mD(e,c),f=hD(),m=!!(o.onDayClick||o.mode!=="default");u.useEffect(function(){var S;c.outside||l.focusedDay&&m&&vn(l.focusedDay,e)&&((S=n.current)===null||S===void 0||S.focus())},[l.focusedDay,e,n,m,c.outside]);var p=xD(o,c).join(" "),h=gD(o,c),j=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:$O,x=r.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),v={style:h,className:p,children:x,role:"gridcell"},y=l.focusTarget&&vn(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&vn(l.focusedDay,e),b=Se(Se(Se({},v),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=w||y?0:-1,s)),d),N={isButton:m,isHidden:j,activeModifiers:c,selectedDays:f,buttonProps:b,divProps:v};return N}function yD(e){var t=u.useRef(null),n=vD(e.date,e.displayMonth,t);return n.isHidden?r.jsx("div",{role:"gridcell"}):n.isButton?r.jsx(Fd,Se({name:"day",ref:t},n.buttonProps)):r.jsx("div",Se({},n.divProps))}function wD(e){var t=e.number,n=e.dates,s=at(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,f=d(Number(t),{locale:l});if(!a)return r.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:f});var m=c(Number(t),{locale:l}),p=function(h){a(t,n,h)};return r.jsx(Fd,{name:"week-number","aria-label":m,className:o.weeknumber,style:i.weeknumber,onClick:p,children:f})}function jD(e){var t,n,s=at(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:yD,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:wD,f;return o&&(f=r.jsx("td",{className:i.cell,style:a.cell,children:r.jsx(d,{number:e.weekNumber,dates:e.dates})})),r.jsxs("tr",{className:i.row,style:a.row,children:[f,e.dates.map(function(m){return r.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:r.jsx(c,{displayMonth:e.displayMonth,date:m})},ZA(m))})]})}function Xv(e,t,n){for(var s=n!=null&&n.ISOWeek?dN(t):sx(t,n),a=n!=null&&n.ISOWeek?Za(e):Yr(e,n),i=zr(s,a),o=[],l=0;l<=i;l++)o.push(sn(a,l));var c=o.reduce(function(d,f){var m=n!=null&&n.ISOWeek?fN(f):hN(f,n),p=d.find(function(h){return h.weekNumber===m});return p?(p.dates.push(f),d):(d.push({weekNumber:m,dates:[f]}),d)},[]);return c}function bD(e,t){var n=Xv(bn(e),rx(e),t);if(t!=null&&t.useFixedWeeks){var s=JA(e,t);if(s<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=uh(i,6-s),l=Xv(uh(i,1),o,t);n.push.apply(n,l)}}return n}function ND(e){var t,n,s,a=at(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,f=a.components,m=a.weekStartsOn,p=a.firstWeekContainsDate,h=a.ISOWeek,j=bD(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:h,locale:i,weekStartsOn:m,firstWeekContainsDate:p}),g=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:LO,x=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:jD,v=(s=f==null?void 0:f.Footer)!==null&&s!==void 0?s:DO;return r.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&r.jsx(g,{}),r.jsx("tbody",{className:o.tbody,style:l.tbody,children:j.map(function(y){return r.jsx(x,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),r.jsx(v,{displayMonth:e.displayMonth})]})}function _D(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var SD=_D()?u.useLayoutEffect:u.useEffect,Lf=!1,CD=0;function Jv(){return"react-day-picker-".concat(++CD)}function kD(e){var t,n=e??(Lf?Jv():null),s=u.useState(n),a=s[0],i=s[1];return SD(function(){a===null&&i(Jv())},[]),u.useEffect(function(){Lf===!1&&(Lf=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function ED(e){var t,n,s=at(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,c=Ul().displayMonths,d=kD(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),f=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,m=[i.month],p=o.month,h=e.displayIndex===0,j=e.displayIndex===c.length-1,g=!h&&!j;a==="rtl"&&(t=[h,j],j=t[0],h=t[1]),h&&(m.push(i.caption_start),p=Se(Se({},p),o.caption_start)),j&&(m.push(i.caption_end),p=Se(Se({},p),o.caption_end)),g&&(m.push(i.caption_between),p=Se(Se({},p),o.caption_between));var x=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:OO;return r.jsxs("div",{className:m.join(" "),style:p,children:[r.jsx(x,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(ND,{id:f,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function PD(e){var t=at(),n=t.classNames,s=t.styles;return r.jsx("div",{className:n.months,style:s.months,children:e.children})}function RD(e){var t,n,s=e.initialProps,a=at(),i=ux(),o=Ul(),l=u.useState(!1),c=l[0],d=l[1];u.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var f=[a.classNames.root,a.className];a.numberOfMonths>1&&f.push(a.classNames.multiple_months),a.showWeekNumber&&f.push(a.classNames.with_weeknumber);var m=Se(Se({},a.styles.root),a.style),p=Object.keys(s).filter(function(j){return j.startsWith("data-")}).reduce(function(j,g){var x;return Se(Se({},j),(x={},x[g]=s[g],x))},{}),h=(n=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:PD;return r.jsx("div",Se({className:f.join(" "),style:m,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},p,{children:r.jsx(h,{children:o.displayMonths.map(function(j,g){return r.jsx(ED,{displayIndex:g,displayMonth:j},g)})})}))}function TD(e){var t=e.children,n=tO(e,["children"]);return r.jsx(wO,{initialProps:n,children:r.jsx(RO,{children:r.jsx(uD,{initialProps:n,children:r.jsx(zO,{initialProps:n,children:r.jsx(WO,{initialProps:n,children:r.jsx(ZO,{children:r.jsx(cD,{children:t})})})})})})})}function MD(e){return r.jsx(TD,Se({},e,{children:r.jsx(RD,{initialProps:e})}))}function Ru({className:e,classNames:t,showOutsideDays:n=!0,...s}){return r.jsx(MD,{showOutsideDays:n,className:ye("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ye(Zm({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ye(Zm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>r.jsx(q2,{className:"h-4 w-4"}),IconRight:({...a})=>r.jsx(G2,{className:"h-4 w-4"})},...s})}Ru.displayName="Calendar";function AD({stats:e,clients:t,accountants:n,inviteEmail:s,setInviteEmail:a,inviteType:i,setInviteType:o,dialogOpen:l,setDialogOpen:c,onInvite:d,loading:f,onAssignAccountant:m,documents:p=[]}){const h=Nn(),[j,g]=u.useState("month"),[x,v]=u.useState(void 0),[y,w]=u.useState(!1),b=u.useMemo(()=>{const N=new Date;let S,C=new Date;switch(j){case"week":S=new Date(N.getTime()-7*24*60*60*1e3);break;case"month":S=new Date(N.getFullYear(),N.getMonth(),1);break;case"year":S=new Date(N.getFullYear(),0,1);break;case"dateRange":S=(x==null?void 0:x.from)||new Date(0),C=(x==null?void 0:x.to)||N;break;default:S=new Date(0)}const k=p.filter(T=>{const _=new Date(T.uploaded_at||T.created_at);return _>=S&&_<=C});return{totalProcessed:k.filter(T=>T.status==="posted").length,totalUploaded:k.length,pending:k.filter(T=>T.status==="pending").length,needsAction:k.filter(T=>["clarification_needed","resend_requested"].includes(T.status)).length}},[p,j,x]);return r.jsxs("div",{className:"space-y-8 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Overview"}),r.jsx("p",{className:"text-muted-foreground",children:"Monitor your firm's activity"})]}),r.jsxs(Mt,{open:y,onOpenChange:w,children:[r.jsx(Il,{asChild:!0,children:r.jsxs(Y,{variant:"outline",className:"w-full sm:w-auto justify-start text-left font-normal text-sm",children:[r.jsx(ms,{className:"w-4 h-4 mr-2 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:j==="dateRange"&&(x!=null&&x.from)?x.to?r.jsxs(r.Fragment,{children:[_t(x.from,"MMM dd")," -"," ",_t(x.to,"MMM dd")]}):_t(x.from,"MMM dd"):r.jsx(r.Fragment,{children:j==="week"?"This Week":j==="month"?"This Month":j==="year"?"This Year":j==="all"?"All Time":"Select Timeline"})})]})}),r.jsxs(St,{className:"max-w-full sm:max-w-md mx-4 sm:mx-auto",children:[r.jsx(Ct,{children:r.jsx(kt,{children:"Select Timeline"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-2",children:[r.jsx(Y,{variant:j==="week"?"default":"outline",size:"sm",className:"text-xs sm:text-sm",onClick:()=>{g("week"),v(void 0),w(!1)},children:"This Week"}),r.jsx(Y,{variant:j==="month"?"default":"outline",size:"sm",className:"text-xs sm:text-sm",onClick:()=>{g("month"),v(void 0),w(!1)},children:"This Month"}),r.jsx(Y,{variant:j==="year"?"default":"outline",size:"sm",className:"text-xs sm:text-sm",onClick:()=>{g("year"),v(void 0),w(!1)},children:"This Year"}),r.jsx(Y,{variant:j==="all"?"default":"outline",size:"sm",className:"text-xs sm:text-sm",onClick:()=>{g("all"),v(void 0),w(!1)},children:"All Time"})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("p",{className:"text-sm font-medium mb-3",children:"Custom Date Range"}),r.jsx("div",{className:"flex justify-center",children:r.jsx(Ru,{mode:"range",defaultMonth:(x==null?void 0:x.from)||new Date,selected:x,onSelect:N=>{N!=null&&N.from&&(N!=null&&N.to)?(v(N),g("dateRange"),w(!1)):v(N)},numberOfMonths:1,className:"rounded-md border text-sm",classNames:{months:"flex flex-col sm:flex-col space-y-4",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center px-2",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center justify-between absolute w-full px-2",nav_button:"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 text-sm",nav_button_previous:"absolute left-2",nav_button_next:"absolute right-2",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.7rem] text-center",row:"flex w-full mt-1",cell:"h-8 w-8 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:"h-8 w-8 p-0 font-normal aria-selected:opacity-100 text-xs hover:bg-accent hover:text-accent-foreground",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible"}})})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(se,{className:"shadow-md border-border/50 cursor-pointer hover:shadow-lg hover:border-accent/50 transition-all",onClick:()=>h("/dashboard/clients"),children:r.jsx(ae,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Clients"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:e.totalClients})]}),r.jsx("div",{className:"w-12 h-12 rounded-lg bg-accent/10 flex items-center justify-center",children:r.jsx(Fn,{className:"w-6 h-6 text-accent"})})]})})}),r.jsx(se,{className:"shadow-md border-border/50 cursor-pointer hover:shadow-lg hover:border-primary/50 transition-all",onClick:()=>h("/dashboard/accountants"),children:r.jsx(ae,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Accountants"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:e.totalAccountants})]}),r.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:r.jsx(nt,{className:"w-6 h-6 text-primary"})})]})})}),r.jsx(se,{className:"shadow-md border-border/50 cursor-pointer hover:shadow-lg hover:border-warning/50 transition-all",onClick:()=>h("/dashboard/documents"),children:r.jsx(ae,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Documents"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:e.pendingDocuments})]}),r.jsx("div",{className:"w-12 h-12 rounded-lg bg-warning/10 flex items-center justify-center",children:r.jsx(pn,{className:"w-6 h-6 text-warning"})})]})})}),r.jsx(se,{className:"shadow-md border-border/50 cursor-pointer hover:shadow-lg hover:border-success/50 transition-all",onClick:()=>h("/dashboard/documents"),children:r.jsx(ae,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:j==="week"?"Processed This Week":j==="month"?"Processed This Month":j==="year"?"Processed This Year":j==="dateRange"&&(x!=null&&x.from)&&(x!=null&&x.to)?`Processed ${_t(x.from,"MMM dd")} - ${_t(x.to,"MMM dd")}`:"Total Processed"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:b.totalProcessed}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[b.totalUploaded," total uploaded"]})]}),r.jsx("div",{className:"w-12 h-12 rounded-lg bg-success/10 flex items-center justify-center",children:r.jsx(su,{className:"w-6 h-6 text-success"})})]})})})]}),r.jsxs(se,{className:"shadow-md border-border/50",children:[r.jsx(Ft,{children:r.jsxs(It,{className:"text-foreground flex items-center gap-2 cursor-pointer hover:text-accent transition-colors",onClick:()=>h("/dashboard/documents"),children:[r.jsx(gt,{className:"w-5 h-5 text-accent"}),"Document Statistics",j!=="all"&&r.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",j==="week"?"This Week":j==="month"?"This Month":"This Year",")"]})]})}),r.jsx(ae,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 rounded-lg bg-secondary/30 cursor-pointer hover:bg-secondary/50 transition-colors",onClick:()=>h("/dashboard/documents"),children:[r.jsx("p",{className:"text-2xl font-bold text-foreground",children:b.totalUploaded}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Uploaded"})]}),r.jsxs("div",{className:"text-center p-4 rounded-lg bg-success/10 cursor-pointer hover:bg-success/20 transition-colors",onClick:()=>h("/dashboard/documents"),children:[r.jsx("p",{className:"text-2xl font-bold text-success",children:b.totalProcessed}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Processed"})]}),r.jsxs("div",{className:"text-center p-4 rounded-lg bg-warning/10 cursor-pointer hover:bg-warning/20 transition-colors",onClick:()=>h("/dashboard/documents"),children:[r.jsx("p",{className:"text-2xl font-bold text-warning",children:b.pending}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]}),r.jsxs("div",{className:"text-center p-4 rounded-lg bg-destructive/10 cursor-pointer hover:bg-destructive/20 transition-colors",onClick:()=>h("/dashboard/documents"),children:[r.jsx("p",{className:"text-2xl font-bold text-destructive",children:b.needsAction}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Needs Action"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(se,{className:"shadow-md border-border/50",children:[r.jsx(Ft,{children:r.jsx(It,{className:"text-foreground",children:"Recent Clients"})}),r.jsx(ae,{children:t.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Fn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No clients yet. Invite your first client to get started."})]}):r.jsx("div",{className:"space-y-4",children:t.slice(0,5).map(N=>{var S,C,k,T,_,P;return r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-secondary/30 border border-border/50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-accent/10 flex items-center justify-center",children:r.jsx("span",{className:"text-accent font-medium",children:((C=(S=N.profiles)==null?void 0:S.full_name)==null?void 0:C.charAt(0))||((T=(k=N.profiles)==null?void 0:k.email)==null?void 0:T.charAt(0))||"?"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:((_=N.profiles)==null?void 0:_.full_name)||((P=N.profiles)==null?void 0:P.email)}),r.jsx("p",{className:"text-sm text-muted-foreground",children:N.company_name||"No company name"})]})]}),r.jsx("div",{className:"hidden sm:flex items-center gap-4",children:r.jsxs(Ue,{value:N.assigned_accountant_id||"unassigned",onValueChange:A=>m(N.id,A==="unassigned"?"":A),children:[r.jsx($e,{className:"w-[160px]",children:r.jsx(Be,{placeholder:"Assign"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"unassigned",children:"Unassigned"}),n.map(A=>{var $,M;return r.jsx(Q,{value:A.accountant_id,children:(($=A.profiles)==null?void 0:$.full_name)||((M=A.profiles)==null?void 0:M.email)},A.accountant_id)})]})]})})]},N.id)})})})]}),r.jsxs(se,{className:"shadow-md border-border/50",children:[r.jsx(Ft,{children:r.jsx(It,{className:"text-foreground",children:"Recent Accountants"})}),r.jsx(ae,{children:n.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(nt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No accountants yet. Invite your first accountant to get started."})]}):r.jsx("div",{className:"space-y-4",children:n.slice(0,5).map(N=>{var C,k,T,_,P,A;const S=t.filter($=>$.assigned_accountant_id===N.accountant_id).length;return r.jsx("div",{className:"flex items-center justify-between p-4 rounded-lg bg-secondary/30 border border-border/50",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx("span",{className:"text-primary font-medium",children:((k=(C=N.profiles)==null?void 0:C.full_name)==null?void 0:k.charAt(0))||((_=(T=N.profiles)==null?void 0:T.email)==null?void 0:_.charAt(0))||"?"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:((P=N.profiles)==null?void 0:P.full_name)||((A=N.profiles)==null?void 0:A.email)}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[S," client",S!==1?"s":""," assigned"]})]})]})},N.id)})})})]})]})]})}const Zt=u.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:ye("w-full caption-bottom text-sm",e),...t})}));Zt.displayName="Table";const Xt=u.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:ye("[&_tr]:border-b",e),...t}));Xt.displayName="TableHeader";const Jt=u.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:ye("[&_tr:last-child]:border-0",e),...t}));Jt.displayName="TableBody";const OD=u.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));OD.displayName="TableFooter";const Xe=u.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:ye("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Xe.displayName="TableRow";const q=u.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));q.displayName="TableHead";const G=u.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));G.displayName="TableCell";const DD=u.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:ye("mt-4 text-sm text-muted-foreground",e),...t}));DD.displayName="TableCaption";function kN({clients:e,accountants:t,onAssignAccountant:n}){var y,w;const[s,a]=u.useState(""),[i,o]=u.useState("all"),[l,c]=u.useState("grid"),[d,f]=u.useState({}),[m,p]=u.useState(!1),[h,j]=u.useState(null),g=e.filter(b=>{var C,k,T,_,P;const N=((k=(C=b.profiles)==null?void 0:C.full_name)==null?void 0:k.toLowerCase().includes(s.toLowerCase()))||((_=(T=b.profiles)==null?void 0:T.email)==null?void 0:_.toLowerCase().includes(s.toLowerCase()))||((P=b.company_name)==null?void 0:P.toLowerCase().includes(s.toLowerCase())),S=i==="all"||i==="unassigned"&&!b.assigned_accountant_id||b.assigned_accountant_id===i;return N&&S}),x=b=>{var S,C;if(!b)return"Unassigned";const N=t.find(k=>k.accountant_id===b);return((S=N==null?void 0:N.profiles)==null?void 0:S.full_name)||((C=N==null?void 0:N.profiles)==null?void 0:C.email)||"Unknown"};u.useEffect(()=>{const b=async()=>{const N={};for(const S of e)try{const C=await xu.getByClient(S.id);C.data&&(N[S.id]=C.data)}catch(C){console.error(`Error fetching companies for client ${S.id}:`,C)}f(N)};e.length>0&&b()},[e]);const v=b=>{j(b),p(!0)};return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Clients"}),r.jsxs("p",{className:"text-muted-foreground",children:[e.length," total clients"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Y,{variant:l==="grid"?"default":"outline",size:"icon",onClick:()=>c("grid"),children:r.jsx(oj,{className:"w-4 h-4"})}),r.jsx(Y,{variant:l==="list"?"default":"outline",size:"icon",onClick:()=>c("list"),children:r.jsx(cj,{className:"w-4 h-4"})})]})]}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(xe,{placeholder:"Search clients...",value:s,onChange:b=>a(b.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tn,{className:"w-4 h-4 text-muted-foreground shrink-0"}),r.jsxs(Ue,{value:i,onValueChange:o,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Filter by accountant"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Clients"}),r.jsx(Q,{value:"unassigned",children:"Unassigned"}),t.map(b=>{var N,S;return r.jsx(Q,{value:b.accountant_id,children:((N=b.profiles)==null?void 0:N.full_name)||((S=b.profiles)==null?void 0:S.email)},b.accountant_id)})]})]})]})]})})}),g.length===0?r.jsx(se,{className:"shadow-md border-border/50",children:r.jsx(ae,{className:"py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Fn,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:s||i!=="all"?"No clients match your filters":"No clients yet. Invite your first client to get started."})]})})}):l==="grid"?r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:g.map(b=>{var N,S,C,k,T,_,P;return r.jsx(se,{className:"shadow-md border-border/50 hover:shadow-lg transition-shadow",children:r.jsxs(ae,{className:"p-5",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center shrink-0",children:r.jsx("span",{className:"text-accent font-semibold text-lg",children:((S=(N=b.profiles)==null?void 0:N.full_name)==null?void 0:S.charAt(0))||((k=(C=b.profiles)==null?void 0:C.email)==null?void 0:k.charAt(0))||"?"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-foreground truncate",children:((T=b.profiles)==null?void 0:T.full_name)||"Unnamed Client"}),r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground mt-0.5",children:[r.jsx(ps,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:(_=b.profiles)==null?void 0:_.email})]}),b.company_name&&r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground mt-0.5",children:[r.jsx(nt,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:b.company_name})]})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-muted-foreground flex items-center gap-1.5",children:[r.jsx(nk,{className:"w-4 h-4"}),"Assigned to"]}),r.jsx(rt,{variant:b.assigned_accountant_id?"default":"secondary",children:x(b.assigned_accountant_id)})]}),r.jsxs(Ue,{value:b.assigned_accountant_id||"unassigned",onValueChange:A=>n(b.id,A==="unassigned"?"":A),children:[r.jsx($e,{className:"w-full",children:r.jsx(Be,{placeholder:"Assign accountant"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"unassigned",children:"Unassigned"}),t.map(A=>{var $,M;return r.jsx(Q,{value:A.accountant_id,children:(($=A.profiles)==null?void 0:$.full_name)||((M=A.profiles)==null?void 0:M.email)},A.accountant_id)})]})]}),r.jsxs(Y,{variant:"outline",size:"sm",className:"w-full",onClick:()=>v(b.id),children:[r.jsx(nt,{className:"w-4 h-4 mr-2"}),"View Companies (",((P=d[b.id])==null?void 0:P.length)||0,")"]})]})]})},b.id)})}):r.jsx(se,{className:"shadow-md border-border/50",children:r.jsx(ae,{className:"p-0",children:r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"Name"}),r.jsx(q,{children:"Email"}),r.jsx(q,{children:"Company"}),r.jsx(q,{children:"Assigned Accountant"}),r.jsx(q,{className:"text-right",children:"Actions"})]})}),r.jsx(Jt,{children:g.map(b=>{var N,S,C,k,T,_,P;return r.jsxs(Xe,{children:[r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/10 flex items-center justify-center shrink-0",children:r.jsx("span",{className:"text-accent font-medium text-sm",children:((S=(N=b.profiles)==null?void 0:N.full_name)==null?void 0:S.charAt(0))||((k=(C=b.profiles)==null?void 0:C.email)==null?void 0:k.charAt(0))||"?"})}),r.jsx("p",{className:"font-medium text-foreground",children:((T=b.profiles)==null?void 0:T.full_name)||"Unnamed Client"})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(ps,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:(_=b.profiles)==null?void 0:_.email})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(nt,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:b.company_name||""})]})}),r.jsx(G,{children:r.jsxs(Ue,{value:b.assigned_accountant_id||"unassigned",onValueChange:A=>n(b.id,A==="unassigned"?"":A),children:[r.jsx($e,{className:"w-[180px]",children:r.jsx(Be,{placeholder:"Assign accountant"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"unassigned",children:"Unassigned"}),t.map(A=>{var $,M;return r.jsx(Q,{value:A.accountant_id,children:(($=A.profiles)==null?void 0:$.full_name)||((M=A.profiles)==null?void 0:M.email)},A.accountant_id)})]})]})}),r.jsx(G,{className:"text-right",children:r.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>v(b.id),children:[r.jsx(nt,{className:"w-4 h-4 mr-2"}),"View (",((P=d[b.id])==null?void 0:P.length)||0,")"]})})]},b.id)})})]})})}),r.jsx(Mt,{open:m,onOpenChange:p,children:r.jsxs(St,{className:"max-w-2xl",children:[r.jsx(Ct,{children:r.jsxs(kt,{children:["Companies for ",((w=(y=e.find(b=>b.id===h))==null?void 0:y.profiles)==null?void 0:w.full_name)||"Client"]})}),r.jsx("div",{className:"mt-4",children:h&&d[h]?d[h].length>0?r.jsx("div",{className:"space-y-2",children:d[h].map(b=>r.jsx("div",{className:"p-3 rounded-lg bg-secondary/30 border border-border/50 flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nt,{className:"w-4 h-4 text-primary"}),r.jsx("span",{className:"font-medium",children:b.company_name})]})},b.id))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(nt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No companies added yet"})]}):r.jsx("div",{className:"text-center py-8",children:r.jsx(Me,{className:"w-6 h-6 animate-spin mx-auto"})})})]})})]})}function FD({accountants:e,clientsByAccountant:t,clients:n=[]}){var C,k,T;const{toast:s}=Et(),[a,i]=u.useState("grid"),[o,l]=u.useState(""),[c,d]=u.useState(null),[f,m]=u.useState(!1),[p,h]=u.useState(!1),[j,g]=u.useState(""),[x,v]=u.useState("accountant"),[y,w]=u.useState(!1),b=e.filter(_=>{var M,K;const P=o.trim().toLowerCase();if(!P)return!0;const A=(((M=_.profiles)==null?void 0:M.full_name)||"").toLowerCase(),$=(((K=_.profiles)==null?void 0:K.email)||"").toLowerCase();return A.includes(P)||$.includes(P)}),N=_=>n.filter(P=>P.assigned_accountant_id===_),S=async _=>{if(_.preventDefault(),!j.trim()){s({title:"Error",description:"Please enter an email address",variant:"destructive"});return}w(!0);try{const P=await _d.create({email:j.trim(),type:x});if(P.error)throw new Error(P.error);s({title:"Success",description:`${x==="accountant"?"Accountant":"Client"} invitation sent successfully`}),h(!1),g("")}catch(P){s({title:"Error",description:P.message||"Failed to send invitation",variant:"destructive"})}finally{w(!1)}};return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Accountants"}),r.jsxs("p",{className:"text-muted-foreground",children:[b.length," of ",e.length," team members"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Mt,{open:p,onOpenChange:h,children:[r.jsx(Il,{asChild:!0,children:r.jsxs(Y,{variant:"accent",onClick:()=>v("accountant"),children:[r.jsx(yp,{className:"w-4 h-4 mr-2"}),"Add Accountant"]})}),r.jsxs(St,{children:[r.jsx(Ct,{children:r.jsxs(kt,{children:["Invite ",x==="client"?"Client":"Accountant"]})}),r.jsxs("form",{onSubmit:S,noValidate:!0,className:"space-y-4 mt-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{children:"Type"}),r.jsxs(Ue,{value:x,onValueChange:_=>v(_),children:[r.jsx($e,{children:r.jsx(Be,{})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"client",children:"Client"}),r.jsx(Q,{value:"accountant",children:"Accountant"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{children:"Email Address"}),r.jsx(xe,{type:"email",placeholder:"email@example.com",value:j,onChange:_=>g(_.target.value)})]}),r.jsx(Y,{type:"submit",className:"w-full",disabled:y,children:y?"Creating invite...":"Generate Invite Link"})]})]})]}),r.jsx(Y,{variant:a==="grid"?"default":"outline",size:"icon",onClick:()=>i("grid"),children:r.jsx(oj,{className:"w-4 h-4"})}),r.jsx(Y,{variant:a==="list"?"default":"outline",size:"icon",onClick:()=>i("list"),children:r.jsx(cj,{className:"w-4 h-4"})})]})]}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(xe,{placeholder:"Search by name or email...",value:o,onChange:_=>l(_.target.value),className:"pl-10"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(Tn,{className:"w-4 h-4 text-muted-foreground shrink-0"})})]})})}),b.length===0?r.jsx(se,{className:"shadow-md border-border/50",children:r.jsx(ae,{className:"py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx(nt,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e.length===0?"No accountants yet. Invite your first team member to get started.":"No accountants match your search."})]})})}):a==="grid"?r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.map(_=>{var A,$,M,K,U,O;const P=t[_.accountant_id]||0;return r.jsx(se,{className:"shadow-md border-border/50 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>{d(_),m(!0)},children:r.jsxs(ae,{className:"p-5",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx("span",{className:"text-primary font-semibold text-lg",children:(($=(A=_.profiles)==null?void 0:A.full_name)==null?void 0:$.charAt(0))||((K=(M=_.profiles)==null?void 0:M.email)==null?void 0:K.charAt(0))||"?"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-foreground truncate",children:((U=_.profiles)==null?void 0:U.full_name)||"Unnamed Accountant"}),r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground mt-0.5",children:[r.jsx(ps,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:(O=_.profiles)==null?void 0:O.email})]})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50 flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1.5",children:[r.jsx(Fn,{className:"w-4 h-4"}),"Assigned Clients"]}),r.jsxs(rt,{variant:"secondary",className:"text-sm",children:[P," ",P===1?"client":"clients"]})]})]})},_.id)})}):r.jsx(se,{className:"shadow-md border-border/50",children:r.jsx(ae,{className:"p-0",children:r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"Name"}),r.jsx(q,{children:"Email"}),r.jsx(q,{className:"text-right",children:"Assigned Clients"})]})}),r.jsx(Jt,{children:b.map(_=>{var A,$,M,K,U,O;const P=t[_.accountant_id]||0;return r.jsxs(Xe,{onClick:()=>{d(_),m(!0)},className:"cursor-pointer",children:[r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx("span",{className:"text-primary font-medium text-sm",children:(($=(A=_.profiles)==null?void 0:A.full_name)==null?void 0:$.charAt(0))||((K=(M=_.profiles)==null?void 0:M.email)==null?void 0:K.charAt(0))||"?"})}),r.jsx("p",{className:"font-medium text-foreground",children:((U=_.profiles)==null?void 0:U.full_name)||"Unnamed Accountant"})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(ps,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:(O=_.profiles)==null?void 0:O.email})]})}),r.jsx(G,{className:"text-right",children:r.jsxs(rt,{variant:"secondary",className:"text-sm",children:[P," ",P===1?"client":"clients"]})})]},_.id)})})]})})}),r.jsx(Mt,{open:f,onOpenChange:m,children:r.jsxs(St,{className:"max-w-2xl",children:[r.jsx(Ct,{children:r.jsx(kt,{children:((C=c==null?void 0:c.profiles)==null?void 0:C.full_name)||((k=c==null?void 0:c.profiles)==null?void 0:k.email)||"Accountant Details"})}),c&&r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),r.jsx("p",{className:"font-medium",children:(T=c.profiles)==null?void 0:T.email})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Assigned Clients"}),N(c.accountant_id).length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:"No clients assigned"}):r.jsx("div",{className:"space-y-2",children:N(c.accountant_id).map(_=>{var P,A;return r.jsxs("div",{className:"p-3 rounded-lg bg-secondary/30 border border-border/50",children:[r.jsx("p",{className:"font-medium",children:((P=_.profiles)==null?void 0:P.full_name)||((A=_.profiles)==null?void 0:A.email)}),_.company_name&&r.jsx("p",{className:"text-sm text-muted-foreground",children:_.company_name})]},_.id)})})]})]})]})})]})}function ID({firmId:e,clients:t,accountants:n=[]}){var W,Ce;const{toast:s}=Et(),a=Nn(),[i,o]=u.useState([]),[l,c]=u.useState(!0),[d,f]=u.useState(""),[m,p]=u.useState("all"),[h,j]=u.useState("all"),[g,x]=u.useState("all"),[v,y]=u.useState("all"),[w,b]=u.useState("all"),[N,S]=u.useState(void 0),[C,k]=u.useState(!1),[T,_]=u.useState([]),[P,A]=u.useState(null),[$,M]=u.useState(null),[K,U]=u.useState(!1);u.useState(null),u.useState(""),u.useState(!1),u.useState("posted"),u.useEffect(()=>{R()},[e]),u.useEffect(()=>{t.length>0&&O()},[t]);const O=async()=>{if(e)try{const I=[];for(const J of t){const ie=await xu.getByClient(J.id);if(ie.data){const we=ie.data.map(V=>({id:V.id,company_name:V.company_name,client_id:J.id}));I.push(...we)}}_(I)}catch(I){console.error("Error fetching companies:",I)}},R=async()=>{if(!e){c(!1);return}try{const I=await Xi.getByFirm(e);if(I.error){console.error("Error fetching documents:",I.error),c(!1);return}I.data&&o(I.data)}catch(I){console.error("Error fetching documents:",I)}c(!1)},F=I=>({pending:{icon:pn,label:"Pending",color:"bg-warning/10 text-warning border-warning/20"},posted:{icon:bt,label:"Posted",color:"bg-success/10 text-success border-success/20"},clarification_needed:{icon:ls,label:"Needs Clarification",color:"bg-destructive/10 text-destructive border-destructive/20"},resend_requested:{icon:qi,label:"Resend Requested",color:"bg-accent/10 text-accent border-accent/20"}})[I],D=I=>{var ie,we;if(I.client_name)return I.client_name;if(I.company_name)return I.company_name;if(I.client_email)return I.client_email;const J=t.find(V=>V.id===I.client_id);return((ie=J==null?void 0:J.profiles)==null?void 0:ie.full_name)||(J==null?void 0:J.company_name)||((we=J==null?void 0:J.profiles)==null?void 0:we.email)||"Unknown"},X=u.useCallback(I=>I?/^https?:\/\//i.test(I)?I:`${Ut.replace(/\/api\/?$/,"")}/${I.replace(/^\//,"")}`:"",[]),ne=I=>{A(I),U(!0);const J=X(I.file_path);if(!J){s({title:"Error",description:"Missing file path.",variant:"destructive"}),U(!1);return}M(J),U(!1)},ve=I=>{const J=X(I.file_path);if(!J){s({title:"Download failed",description:"Missing file path.",variant:"destructive"});return}const ie=document.createElement("a");ie.href=J,ie.download=I.file_name,ie.target="_blank",document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)},z=I=>I?I<1024?`${I} B`:I<1024*1024?`${(I/1024).toFixed(1)} KB`:`${(I/(1024*1024)).toFixed(1)} MB`:"Unknown size",ue=u.useMemo(()=>{const I=new Date;let J,ie=new Date;switch(w){case"week":J=new Date(I.getTime()-7*24*60*60*1e3);break;case"month":J=new Date(I.getFullYear(),I.getMonth(),1);break;case"year":J=new Date(I.getFullYear(),0,1);break;case"dateRange":J=(N==null?void 0:N.from)||new Date(0),ie=(N==null?void 0:N.to)||I;break;default:J=new Date(0)}return i.filter(we=>{const V=we.file_name.toLowerCase().includes(d.toLowerCase()),je=m==="all"||we.status===m,Ke=h==="all"||we.client_id===h,L=g==="all"||g==="unassigned"&&!we.assigned_accountant_id||we.assigned_accountant_id===g,Ne=v==="all"||v==="no-company"&&!we.company_id||we.company_id===v,Le=new Date(we.uploaded_at),vt=Le>=J&&Le<=ie;return V&&je&&Ke&&L&&Ne&&vt})},[i,d,m,h,g,v,w,N]),oe=u.useMemo(()=>({total:ue.length,pending:ue.filter(I=>I.status==="pending").length,posted:ue.filter(I=>I.status==="posted").length,action:ue.filter(I=>["clarification_needed","resend_requested"].includes(I.status)).length}),[ue]);return l?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Me,{className:"w-8 h-8 animate-spin text-accent"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Documents"}),r.jsxs("p",{className:"text-muted-foreground",children:[oe.total," documents",w==="week"?" (this week)":w==="month"?" (this month)":w==="year"?" (this year)":w==="dateRange"?N!=null&&N.from&&N.to?` (${_t(N.from,"LLL dd, y")}-
                    ${_t(N.to,"LLL dd, y")})`:" (Custom Range)":""]})]}),r.jsxs(Mt,{open:C,onOpenChange:k,children:[r.jsx(Il,{asChild:!0,children:r.jsxs(Y,{variant:"outline",className:"w-full sm:w-auto justify-start text-left font-normal text-sm",children:[r.jsx(ms,{className:"w-4 h-4 mr-2 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:w==="dateRange"&&(N!=null&&N.from)?N.to?r.jsxs(r.Fragment,{children:[_t(N.from,"MMM dd")," -"," ",_t(N.to,"MMM dd")]}):_t(N.from,"MMM dd"):r.jsx(r.Fragment,{children:w==="week"?"This Week":w==="month"?"This Month":w==="year"?"This Year":w==="all"?"All Time":"Select Timeline"})})]})}),r.jsxs(St,{className:"max-w-full sm:max-w-md mx-4 sm:mx-auto",children:[r.jsx(Ct,{children:r.jsx(kt,{children:"Select Timeline"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-2",children:[r.jsx(Y,{variant:w==="week"?"default":"outline",size:"sm",className:"text-xs sm:text-sm",onClick:()=>{b("week"),S(void 0),k(!1)},children:"This Week"}),r.jsx(Y,{variant:w==="month"?"default":"outline",size:"sm",className:"text-xs sm:text-sm",onClick:()=>{b("month"),S(void 0),k(!1)},children:"This Month"}),r.jsx(Y,{variant:w==="year"?"default":"outline",size:"sm",className:"text-xs sm:text-sm",onClick:()=>{b("year"),S(void 0),k(!1)},children:"This Year"}),r.jsx(Y,{variant:w==="all"?"default":"outline",size:"sm",className:"text-xs sm:text-sm",onClick:()=>{b("all"),S(void 0),k(!1)},children:"All Time"})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("p",{className:"text-sm font-medium mb-3",children:"Custom Date Range"}),r.jsx("div",{className:"flex justify-center",children:r.jsx(Ru,{mode:"range",defaultMonth:(N==null?void 0:N.from)||new Date,selected:N,onSelect:I=>{I!=null&&I.from&&(I!=null&&I.to)?(S(I),b("dateRange"),k(!1)):S(I)},numberOfMonths:1,className:"rounded-md border text-sm"})})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-foreground",children:oe.total}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"})]})}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-warning",children:oe.pending}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-success",children:oe.posted}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Posted"})]})}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-destructive",children:oe.action}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Need Action"})]})})]}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(xe,{placeholder:"Search documents...",value:d,onChange:I=>f(I.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Tn,{className:"w-4 h-4 text-muted-foreground shrink-0"}),r.jsxs(Ue,{value:m,onValueChange:p,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Status"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Statuses"}),r.jsx(Q,{value:"pending",children:"Pending"}),r.jsx(Q,{value:"posted",children:"Posted"}),r.jsx(Q,{value:"clarification_needed",children:"Needs Clarification"}),r.jsx(Q,{value:"resend_requested",children:"Resend Requested"})]})]}),r.jsxs(Ue,{value:h,onValueChange:j,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Client"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Clients"}),t.map(I=>{var J,ie;return r.jsx(Q,{value:I.id,children:((J=I.profiles)==null?void 0:J.full_name)||I.company_name||((ie=I.profiles)==null?void 0:ie.email)},I.id)})]})]}),r.jsxs(Ue,{value:g,onValueChange:x,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Accountant"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Accountants"}),r.jsx(Q,{value:"unassigned",children:"Unassigned"}),n.map(I=>{var J,ie;return r.jsx(Q,{value:I.accountant_id,children:((J=I.profiles)==null?void 0:J.full_name)||((ie=I.profiles)==null?void 0:ie.email)},I.accountant_id)})]})]}),r.jsxs(Ue,{value:v,onValueChange:y,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Company"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Companies"}),r.jsx(Q,{value:"no-company",children:"No Company"}),T.map(I=>r.jsx(Q,{value:I.id,children:I.company_name},I.id))]})]})]})]})})}),r.jsx(se,{className:"shadow-md border-border/50",children:r.jsx(ae,{className:"p-0",children:ue.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(gt,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:i.length===0?"No documents yet. Documents will appear when clients upload them.":"No documents match your filters."})]}):r.jsx(Dt,{className:"h-[500px]",children:r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"File Name"}),r.jsx(q,{children:"Client"}),r.jsx(q,{children:"Company"}),r.jsx(q,{children:"Accountant"}),r.jsx(q,{children:"Date"}),r.jsx(q,{children:"Size"}),r.jsx(q,{children:"Status"}),r.jsx(q,{className:"text-right",children:"Actions"})]})}),r.jsx(Jt,{children:ue.map(I=>{const J=F(I.status),ie=J.icon;return r.jsxs(Xe,{children:[r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(gt,{className:"w-4 h-4 text-primary"})}),r.jsx("div",{className:"min-w-0 flex-1",children:r.jsx("p",{className:"font-medium text-foreground truncate",children:I.file_name})})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(Dn,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:D(I)})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(nt,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:I.company_name||""})]})}),r.jsx(G,{children:r.jsxs("div",{className:`flex items-center gap-1.5 text-sm ${I.assigned_accountant_id?"text-muted-foreground":"text-warning"}`,children:[r.jsx(Dn,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:I.assigned_accountant_id?I.accountant_name||I.accountant_email||"Assigned Accountant":"Unassigned"})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(ms,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:new Date(I.uploaded_at).toLocaleDateString()})]})}),r.jsx(G,{children:r.jsx("span",{className:"text-sm text-muted-foreground",children:z(I.file_size)})}),r.jsx(G,{children:I.status==="clarification_needed"?r.jsxs(rt,{variant:"outline",className:`${J.color} cursor-pointer hover:opacity-80 transition-opacity`,onClick:()=>a("/dashboard/clarifications"),title:"Click to view clarifications",children:[r.jsx(ie,{className:"w-3 h-3 mr-1"}),J.label]}):r.jsxs(rt,{variant:"outline",className:J.color,children:[r.jsx(ie,{className:"w-3 h-3 mr-1"}),J.label]})}),r.jsx(G,{className:"text-right",children:r.jsxs("div",{className:"flex gap-1 justify-end",children:[r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>ne(I),children:r.jsx(Wa,{className:"w-4 h-4"})}),r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>ve(I),children:r.jsx(hs,{className:"w-4 h-4"})})]})})]},I.id)})})]})})})}),r.jsx(Mt,{open:!!P,onOpenChange:()=>{A(null),M(null)},children:r.jsxs(St,{className:"max-w-4xl h-[80vh]",children:[r.jsx(Ct,{children:r.jsx(kt,{children:P==null?void 0:P.file_name})}),r.jsx("div",{className:"flex-1 overflow-hidden rounded-lg bg-secondary/30",children:K?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(Me,{className:"w-8 h-8 animate-spin text-accent"})}):$?(W=P==null?void 0:P.file_type)!=null&&W.includes("image")?r.jsx("img",{src:$,alt:P==null?void 0:P.file_name,className:"w-full h-full object-contain"}):(Ce=P==null?void 0:P.file_type)!=null&&Ce.includes("pdf")?r.jsx("iframe",{src:$,className:"w-full h-full",title:P==null?void 0:P.file_name}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[r.jsx(gt,{className:"w-16 h-16 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"Preview not available for this file type"}),r.jsxs(Y,{variant:"accent",onClick:()=>P&&ve(P),children:[r.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download File"]})]}):null})]})})]})}function EN(){const{user:e,userRole:t}=er(),n=Nn(),{toast:s}=Et(),[a,i]=u.useState([]),[o,l]=u.useState(!0),[c,d]=u.useState(""),[f,m]=u.useState("all"),p=u.useRef(null),h=u.useMemo(()=>a.filter(N=>{const S=c.trim().toLowerCase(),C=!S||(N.title+" "+N.message).toLowerCase().includes(S),k=f==="all"||f==="read"&&N.is_read||f==="unread"&&!N.is_read;return C&&k}),[a,c,f]),j=N=>{const S=(N.title||"").toLowerCase(),C=(N.message||"").toLowerCase(),k=S+" "+C;if(k.includes("reminder"))return"/dashboard/reminders";if(t==="firm"){if(k.includes("clarification"))return"/dashboard/clarifications";if(S.includes("new client")||C.includes("joined")&&C.includes("client"))return"/dashboard/clients";if(S.includes("new accountant")||C.includes("joined")&&C.includes("accountant"))return"/dashboard/accountants"}return t==="accountant"&&k.includes("clarification")||N.document_id?"/dashboard/documents":"/dashboard"},g=N=>{v(N.id),n(j(N))};u.useEffect(()=>(e&&(x(),p.current=setInterval(x,3e4)),()=>{p.current&&clearInterval(p.current)}),[e]);const x=async()=>{if(e)try{const N=await gn.get();N.data&&i(N.data)}catch(N){console.error("Error fetching notifications:",N)}finally{l(!1)}},v=async N=>{(await gn.markRead(N)).error||i(C=>C.map(k=>k.id===N?{...k,is_read:!0}:k))},y=async()=>{if(!e)return;const N=a.filter(S=>!S.is_read);try{await Promise.all(N.map(S=>gn.markRead(S.id))),i(S=>S.map(C=>({...C,is_read:!0}))),s({title:"All marked as read",description:"All notifications have been marked as read"})}catch{s({title:"Error",description:"Failed to mark notifications as read",variant:"destructive"})}},w=a.filter(N=>!N.is_read).length,b=N=>{const S=new Date(N),k=new Date().getTime()-S.getTime(),T=Math.floor(k/6e4),_=Math.floor(k/36e5),P=Math.floor(k/864e5);return T<1?"Just now":T<60?`${T}m ago`:_<24?`${_}h ago`:P<7?`${P}d ago`:S.toLocaleDateString()};return o?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Me,{className:"w-8 h-8 animate-spin text-accent"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Notifications"}),r.jsxs("p",{className:"text-muted-foreground",children:[h.length," of ",a.length,"  ",w>0?`${w} unread`:"All caught up!"]})]}),w>0&&r.jsxs(Y,{variant:"outline",onClick:y,children:[r.jsx(sj,{className:"w-4 h-4 mr-2"}),"Mark all as read"]})]}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(xe,{placeholder:"Search notifications...",value:c,onChange:N=>d(N.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Tn,{className:"w-4 h-4 text-muted-foreground shrink-0"}),r.jsxs(Ue,{value:f,onValueChange:m,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Status"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All"}),r.jsx(Q,{value:"unread",children:"Unread"}),r.jsx(Q,{value:"read",children:"Read"})]})]})]})]})})}),r.jsx(se,{className:"shadow-md border-border/50",children:r.jsx(ae,{className:"p-0",children:h.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(gr,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:a.length===0?"No notifications yet":"No notifications match your filters"}),r.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:a.length===0?"You'll be notified when clients upload documents":"Try adjusting your search or filters"})]}):r.jsx(Dt,{className:"h-[500px]",children:r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"Type"}),r.jsx(q,{children:"Notification"}),r.jsx(q,{children:"Time"}),r.jsx(q,{children:"Status"}),r.jsx(q,{className:"text-right",children:"Actions"})]})}),r.jsx(Jt,{children:h.map(N=>r.jsxs(Xe,{className:`cursor-pointer hover:bg-accent/10 ${N.is_read?"":"bg-accent/5"}`,onClick:()=>g(N),children:[r.jsx(G,{children:r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${N.document_id?"bg-primary/10":"bg-accent/10"}`,children:N.document_id?r.jsx(gt,{className:"w-4 h-4 text-primary"}):r.jsx(gr,{className:"w-4 h-4 text-accent"})})}),r.jsx(G,{children:r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium text-foreground",children:N.title}),r.jsx("p",{className:"text-sm text-muted-foreground mt-0.5 line-clamp-2",children:N.message})]})}),r.jsx(G,{children:r.jsx("span",{className:"text-sm text-muted-foreground",children:b(N.created_at)})}),r.jsx(G,{children:N.is_read?r.jsx(rt,{variant:"outline",className:"text-xs",children:"Read"}):r.jsx(rt,{variant:"secondary",className:"text-xs",children:"New"})}),r.jsx(G,{className:"text-right",onClick:S=>S.stopPropagation(),children:!N.is_read&&r.jsxs(Y,{variant:"ghost",size:"sm",onClick:S=>{S.stopPropagation(),v(N.id)},children:[r.jsx(aj,{className:"w-4 h-4 mr-2"}),"Mark Read"]})})]},N.id))})]})})})})]})}function PN({firmId:e,clients:t,accountants:n=[]}){var je,Ke;const{toast:s}=Et(),[a,i]=u.useState([]),[o,l]=u.useState(!0),[c,d]=u.useState(""),[f,m]=u.useState("all"),[p,h]=u.useState("all"),[j,g]=u.useState("all"),[x,v]=u.useState("all"),[y,w]=u.useState([]),[b,N]=u.useState(null),[S,C]=u.useState(null),[k,T]=u.useState(!1),[_,P]=u.useState(!1),[A,$]=u.useState(null),[M,K]=u.useState(""),[U,O]=u.useState(!1),[R,F]=u.useState([]),[D,X]=u.useState(!1),ne=async L=>{X(!0);try{const Ne=await as.getMessages(L);Ne.data&&F(Ne.data)}catch(Ne){console.error("Error fetching clarification messages:",Ne)}X(!1)};u.useEffect(()=>{z()},[e]),u.useEffect(()=>{t.length>0&&ve()},[t]);const ve=async()=>{if(e)try{const L=[];for(const Ne of t){const Le=await xu.getByClient(Ne.id);if(Le.data){const vt=Le.data.map(tn=>({id:tn.id,company_name:tn.company_name,client_id:Ne.id}));L.push(...vt)}}w(L)}catch(L){console.error("Error fetching companies:",L)}},z=async()=>{if(!e){l(!1);return}try{const L=await as.getDocuments();if(L.error){console.error("Error fetching documents:",L.error),s({title:"Error loading clarifications",description:L.error,variant:"destructive"}),l(!1);return}L.data&&i(L.data)}catch(L){console.error("Error fetching documents:",L)}l(!1)},ue=L=>({pending:{icon:pn,label:"Pending",color:"bg-warning/10 text-warning border-warning/20"},posted:{icon:bt,label:"Posted",color:"bg-success/10 text-success border-success/20"},clarification_needed:{icon:ls,label:"Needs Clarification",color:"bg-destructive/10 text-destructive border-destructive/20"},resend_requested:{icon:qi,label:"Resend Requested",color:"bg-accent/10 text-accent border-accent/20"}})[L],oe=L=>{var Le,vt;if(L.client_name)return L.client_name;if(L.company_name)return L.company_name;if(L.client_email)return L.client_email;const Ne=t.find(tn=>tn.id===L.client_id);return((Le=Ne==null?void 0:Ne.profiles)==null?void 0:Le.full_name)||(Ne==null?void 0:Ne.company_name)||((vt=Ne==null?void 0:Ne.profiles)==null?void 0:vt.email)||"Unknown"},W=u.useCallback(L=>L?/^https?:\/\//i.test(L)?L:`${Ut.replace(/\/api\/?$/,"")}/${L.replace(/^\//,"")}`:"",[]),Ce=L=>{N(L),T(!0);const Ne=W(L.file_path);if(!Ne){s({title:"Error",description:"Missing file path.",variant:"destructive"}),T(!1);return}C(Ne),T(!1)},I=L=>{const Ne=W(L.file_path);if(!Ne){s({title:"Download failed",description:"Missing file path.",variant:"destructive"});return}const Le=document.createElement("a");Le.href=Ne,Le.download=L.file_name,Le.target="_blank",document.body.appendChild(Le),Le.click(),document.body.removeChild(Le)},J=L=>L?L<1024?`${L} B`:L<1024*1024?`${(L/1024).toFixed(1)} KB`:`${(L/(1024*1024)).toFixed(1)} MB`:"Unknown size",ie=u.useMemo(()=>a.filter(L=>{const Ne=L.file_name.toLowerCase().includes(c.toLowerCase()),Le=f==="all"||L.client_id===f,vt=p==="all"||p==="unassigned"&&!L.assigned_accountant_id||L.assigned_accountant_id===p,tn=j==="all"||j==="no-company"&&!L.company_id||L.company_id===j,Bn=x==="all"||L.status===x;return Ne&&Le&&vt&&tn&&Bn}),[a,c,f,p,j,x]),we=async L=>{$(L),K(""),F([]),P(!0),await ne(L.id)},V=async()=>{if(!(!A||!M.trim())){O(!0);try{const L=await as.sendMessage({document_id:A.id,message:M,recipient_role:"accountant",is_reply:!0});if(L.error)throw new Error(L.error);s({title:"Reply Sent",description:"The accountant has been notified of your reply."}),await ne(A.id),K(""),z()}catch(L){s({title:"Error",description:L.message||"Failed to send reply",variant:"destructive"})}O(!1)}};if(o)return r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Me,{className:"w-8 h-8 animate-spin text-accent"})});try{return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Clarifications"}),r.jsxs("p",{className:"text-muted-foreground",children:[ie.length," documents need clarification"]})]})}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsxs(ae,{className:"p-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(ls,{className:"w-5 h-5 text-destructive"}),r.jsx("p",{className:"text-lg font-bold text-destructive",children:ie.length})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Need Clarification"})]})})}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(xe,{placeholder:"Search documents...",value:c,onChange:L=>d(L.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Tn,{className:"w-4 h-4 text-muted-foreground shrink-0"}),r.jsxs(Ue,{value:x,onValueChange:v,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Status"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Status"}),r.jsx(Q,{value:"clarification_needed",children:"Clarification"}),r.jsx(Q,{value:"resend_requested",children:"Resend"})]})]}),r.jsxs(Ue,{value:f,onValueChange:m,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Client"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Clients"}),t.map(L=>{var Ne,Le;return r.jsx(Q,{value:L.id,children:((Ne=L.profiles)==null?void 0:Ne.full_name)||L.company_name||((Le=L.profiles)==null?void 0:Le.email)},L.id)})]})]}),r.jsxs(Ue,{value:p,onValueChange:h,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Accountant"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Accountants"}),r.jsx(Q,{value:"unassigned",children:"Unassigned"}),n.map(L=>{var Ne,Le;return r.jsx(Q,{value:L.accountant_id,children:((Ne=L.profiles)==null?void 0:Ne.full_name)||((Le=L.profiles)==null?void 0:Le.email)},L.accountant_id)})]})]}),r.jsxs(Ue,{value:j,onValueChange:g,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Company"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Companies"}),r.jsx(Q,{value:"no-company",children:"No Company"}),y.map(L=>r.jsx(Q,{value:L.id,children:L.company_name},L.id))]})]})]})]})})}),r.jsx(se,{className:"shadow-md border-border/50",children:r.jsx(ae,{className:"p-0",children:ie.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(bt,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:a.length===0?"No documents need clarification at this time.":"No documents match your filters."})]}):r.jsx(Dt,{className:"h-[500px]",children:r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"File Name"}),r.jsx(q,{children:"Client"}),r.jsx(q,{children:"Company"}),r.jsx(q,{children:"Accountant"}),r.jsx(q,{children:"Clarification Notes"}),r.jsx(q,{children:"Last Message"}),r.jsx(q,{children:"Size"}),r.jsx(q,{className:"text-right",children:"Actions"})]})}),r.jsx(Jt,{children:ie.map(L=>{const Le=ue(L.status).icon;return r.jsxs(Xe,{children:[r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(gt,{className:"w-4 h-4 text-primary"})}),r.jsx("div",{className:"min-w-0 flex-1",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-medium text-foreground truncate",children:L.file_name}),L.unread_count&&L.unread_count>0&&r.jsxs("span",{className:"px-1.5 py-0.5 text-xs font-medium bg-red-500 text-white rounded-full",children:[L.unread_count," new"]})]})})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(Dn,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:oe(L)})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(nt,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:L.company_name||""})]})}),r.jsx(G,{children:r.jsxs("div",{className:`flex items-center gap-1.5 text-sm ${L.assigned_accountant_id?"text-muted-foreground":"text-warning"}`,children:[r.jsx(Dn,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:L.assigned_accountant_id?L.accountant_name||L.accountant_email||"Assigned Accountant":"Unassigned"})]})}),r.jsx(G,{children:r.jsx("div",{className:"max-w-xs",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(xd,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:L.notes||"No clarification notes provided"})]})})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(ms,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:L.last_message_at?new Date(L.last_message_at).toLocaleString():new Date(L.uploaded_at).toLocaleDateString()})]})}),r.jsx(G,{children:r.jsx("span",{className:"text-sm text-muted-foreground",children:J(L.file_size)})}),r.jsx(G,{className:"text-right",children:r.jsxs("div",{className:"flex gap-1 justify-end",children:[r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>Ce(L),children:r.jsx(Wa,{className:"w-4 h-4"})}),r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>I(L),children:r.jsx(hs,{className:"w-4 h-4"})}),r.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>we(L),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[r.jsx(xd,{className:"w-4 h-4 mr-1"}),"Reply"]})]})})]},L.id)})})]})})})}),r.jsx(Mt,{open:_,onOpenChange:L=>{P(L),L||(F([]),K(""))},children:r.jsxs(St,{className:"max-w-2xl max-h-[85vh]",children:[r.jsx(Ct,{children:r.jsxs(kt,{className:"flex items-center gap-2",children:[r.jsx(Lr,{className:"w-5 h-5"}),"Clarification Conversation"]})}),r.jsxs("div",{className:"space-y-4",children:[A&&r.jsxs("div",{className:"p-3 bg-secondary/30 rounded-lg",children:[r.jsxs("p",{className:"text-sm font-medium",children:["Document: ",A.file_name]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Client: ",A.client_name||"Unknown","  Company: ",A.company_name||"N/A"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{className:"flex items-center gap-2",children:[r.jsx(Lr,{className:"w-4 h-4"}),"Conversation History"]}),r.jsx(Dt,{className:"h-[250px] border rounded-lg p-3 bg-muted/20",children:D?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(Me,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):R.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[r.jsx(Lr,{className:"w-8 h-8 mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No messages yet"})]}):r.jsx("div",{className:"space-y-3",children:R.map(L=>r.jsxs("div",{className:`p-3 rounded-lg ${L.sender_role==="firm"?"bg-primary/10 ml-8":"bg-secondary mr-8"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("span",{className:"text-xs font-medium",children:[L.sender_role==="firm"?"You (Firm)":L.sender_name||"Unknown",r.jsxs("span",{className:"text-muted-foreground ml-2 capitalize",children:["(",L.sender_role,")"]})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(L.created_at).toLocaleString()})]}),r.jsx("p",{className:"text-sm",children:L.message})]},L.id))})})]}),r.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:r.jsx("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:"Your reply will be sent only to the assigned accountant."})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{children:"Your Reply to Accountant"}),r.jsx("textarea",{className:"w-full p-3 border border-border rounded-md bg-background text-sm resize-none",placeholder:"Type your response to the accountant...",value:M,onChange:L=>K(L.target.value),rows:3,required:!0})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Y,{variant:"outline",className:"flex-1",onClick:()=>{P(!1),F([])},children:"Close"}),r.jsx(Y,{variant:"default",className:"flex-1",onClick:V,disabled:U||!M.trim(),children:U?r.jsxs(r.Fragment,{children:[r.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Send Reply"]})})]})]})]})}),r.jsx(Mt,{open:!!b,onOpenChange:()=>{N(null),C(null)},children:r.jsxs(St,{className:"max-w-4xl h-[80vh]",children:[r.jsx(Ct,{children:r.jsx(kt,{children:b==null?void 0:b.file_name})}),r.jsx("div",{className:"flex-1 overflow-hidden rounded-lg bg-secondary/30",children:k?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(Me,{className:"w-8 h-8 animate-spin text-accent"})}):S?(je=b==null?void 0:b.file_type)!=null&&je.includes("image")?r.jsx("img",{src:S,alt:b==null?void 0:b.file_name,className:"w-full h-full object-contain"}):(Ke=b==null?void 0:b.file_type)!=null&&Ke.includes("pdf")?r.jsx("iframe",{src:S,className:"w-full h-full",title:b==null?void 0:b.file_name}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[r.jsx(gt,{className:"w-16 h-16 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"Preview not available for this file type"}),r.jsxs(Y,{variant:"accent",onClick:()=>b&&I(b),children:[r.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download File"]})]}):null})]})})]})}catch(L){return console.error("[FirmClarificationsPage] Render error:",L),r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[r.jsx(ls,{className:"w-12 h-12 text-destructive"}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-destructive",children:"Error Loading Clarifications"}),r.jsx("p",{className:"text-muted-foreground",children:"There was an error displaying the clarifications page."}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Check the console for details."})]})]})}}const is=u.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));is.displayName="Textarea";function RN({firmId:e,clients:t,accountants:n,accountantView:s=!1}){const{toast:a}=Et(),[i,o]=u.useState([]),[l,c]=u.useState(!0),[d,f]=u.useState(!1),[m,p]=u.useState(!1),[h,j]=u.useState("client"),[g,x]=u.useState(""),[v,y]=u.useState(""),[w,b]=u.useState(""),[N,S]=u.useState("now"),[C,k]=u.useState(""),[T,_]=u.useState(!1),[P,A]=u.useState("weekly"),[$,M]=u.useState(""),[K,U]=u.useState(""),[O,R]=u.useState("all"),F=u.useMemo(()=>i.filter(z=>{const ue=K.trim().toLowerCase(),oe=!ue||z.title.toLowerCase().includes(ue)||z.message.toLowerCase().includes(ue)||(z.recipient_name||"").toLowerCase().includes(ue),W=O==="all"||z.recipient_type===O;return oe&&W}),[i,K,O]),D=async()=>{if(e){c(!0);try{const z=await Sa.getByFirm(e);if(z.data){const ue=z.data.map(oe=>({id:oe.id,title:oe.title,message:oe.message,recipient_type:oe.recipient_type,recipient_id:oe.recipient_id,recipient_name:oe.recipient_name||oe.recipient_email||"Unknown",sent_at:oe.sent_at??null,created_at:oe.created_at,status:oe.status,scheduled_at:oe.scheduled_at,recurrence_type:oe.recurrence_type,recurrence_end_at:oe.recurrence_end_at}));o(ue)}}catch(z){console.error("Error fetching reminders:",z)}c(!1)}};u.useEffect(()=>{if(!e)return;(async()=>{await Sa.processDue(),await D()})()},[e]);const X=async()=>{var z,ue;if(!g||!v.trim()||!w.trim()){a({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(N==="schedule"&&!C){a({title:"Validation Error",description:"Please set a date and time for the scheduled reminder",variant:"destructive"});return}if(N==="schedule"&&new Date(C).getTime()<=Date.now()){a({title:"Validation Error",description:"Scheduled time must be in the future",variant:"destructive"});return}p(!0);try{let oe,W;if(h==="client"){const J=t.find(ie=>ie.id===g);if(!J)throw new Error("Client not found");oe=((z=J.profiles)==null?void 0:z.full_name)||J.company_name||"Unknown Client",W=J.user_id}else{const J=n.find(ie=>ie.accountant_id===g);if(!J)throw new Error("Accountant not found");oe=((ue=J.profiles)==null?void 0:ue.full_name)||"Unknown Accountant",W=J.accountant_id}const Ce=N==="now"?new Date().toISOString():C?new Date(C).toISOString():new Date().toISOString(),I=await Sa.create({firm_id:e,recipient_type:h,recipient_id:g,recipient_user_id:W,title:v,message:w,scheduled_at:Ce,send_option:N,recurrence_type:T?P:"none",recurrence_end_at:T&&$?`${$}T23:59:59`:void 0});if(I.error)throw new Error(I.error);a({title:N==="now"?"Reminder Sent":"Reminder Scheduled",description:N==="now"?`Reminder sent to ${oe}`:`Reminder scheduled for ${new Date(C).toLocaleString()}`}),await D(),j("client"),x(""),y(""),b(""),S("now"),k(""),_(!1),A("weekly"),M(""),f(!1)}catch(oe){console.error("Error creating reminder:",oe),a({title:"Error",description:oe.message||"Failed to send reminder",variant:"destructive"})}finally{p(!1)}},ne=async z=>{try{await Sa.delete(z),o(ue=>ue.filter(oe=>oe.id!==z)),a({title:"Deleted",description:"Reminder deleted from history"})}catch{a({title:"Error",description:"Failed to delete reminder",variant:"destructive"})}},ve=()=>h==="client"?t.map(z=>{var ue,oe;return{id:z.id,name:((ue=z.profiles)==null?void 0:ue.full_name)||z.company_name||((oe=z.profiles)==null?void 0:oe.email)||"Unknown",type:"client"}}):n.map(z=>{var ue,oe;return{id:z.accountant_id,name:((ue=z.profiles)==null?void 0:ue.full_name)||((oe=z.profiles)==null?void 0:oe.email)||"Unknown",type:"accountant"}});return l?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Me,{className:"w-8 h-8 animate-spin text-accent"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Reminders"}),r.jsxs("p",{className:"text-muted-foreground",children:[F.length," of ",i.length," reminders sent"]})]}),r.jsxs(Mt,{open:d,onOpenChange:f,children:[r.jsx(Il,{asChild:!0,children:r.jsxs(Y,{children:[r.jsx(dj,{className:"w-4 h-4 mr-2"}),"Send Reminder"]})}),r.jsxs(St,{className:"max-w-md",children:[r.jsx(Ct,{children:r.jsx(kt,{children:"Send Reminder"})}),r.jsxs("div",{className:"space-y-4 mt-4",children:[!s&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{children:"Recipient Type"}),r.jsxs(Ue,{value:h,onValueChange:z=>{j(z),x("")},children:[r.jsx($e,{children:r.jsx(Be,{})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"client",children:"Client"}),r.jsx(Q,{value:"accountant",children:"Accountant"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{children:["Select ",s||h==="client"?"Client":"Accountant"]}),r.jsxs(Ue,{value:g,onValueChange:x,children:[r.jsx($e,{children:r.jsx(Be,{placeholder:`Select a ${h}`})}),r.jsx(ze,{children:ve().map(z=>r.jsx(Q,{value:z.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[z.type==="client"?r.jsx(Dn,{className:"w-4 h-4"}):r.jsx(nt,{className:"w-4 h-4"}),z.name]})},z.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{children:"Reminder Title"}),r.jsx(xe,{placeholder:"e.g., Tax Document Deadline",value:v,onChange:z=>y(z.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{children:"Message"}),r.jsx(is,{placeholder:"Enter reminder details...",value:w,onChange:z=>b(z.target.value),rows:3})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ce,{children:"When to send"}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"sendOption",checked:N==="now",onChange:()=>S("now"),className:"rounded-full border-input"}),r.jsx("span",{children:"Send now"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"sendOption",checked:N==="schedule",onChange:()=>S("schedule"),className:"rounded-full border-input"}),r.jsx("span",{children:"Set a date and time"})]}),N==="schedule"&&r.jsx("div",{className:"pl-6 pt-1",children:r.jsx(xe,{type:"datetime-local",value:C,onChange:z=>k(z.target.value),min:new Date().toISOString().slice(0,16),className:"max-w-[240px]"})})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:T,onChange:z=>_(z.target.checked),className:"rounded border-input"}),r.jsx("span",{className:"text-sm font-medium",children:"Recurring reminder"})]}),T&&r.jsxs("div",{className:"pl-6 flex flex-wrap items-center gap-3",children:[r.jsxs(Ue,{value:P,onValueChange:z=>A(z),children:[r.jsx($e,{className:"w-[140px]",children:r.jsx(Be,{})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"daily",children:"Daily"}),r.jsx(Q,{value:"weekly",children:"Weekly"}),r.jsx(Q,{value:"monthly",children:"Monthly"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ce,{className:"text-muted-foreground text-xs whitespace-nowrap",children:"End date (optional)"}),r.jsx(xe,{type:"date",value:$,onChange:z=>M(z.target.value),className:"w-[140px]"})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(Y,{variant:"outline",className:"flex-1",onClick:()=>f(!1),children:"Cancel"}),r.jsx(Y,{className:"flex-1",onClick:X,disabled:m||!g||!v.trim()||!w.trim()||N==="schedule"&&!C,children:m?r.jsxs(r.Fragment,{children:[r.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}),N==="now"?"Sending...":"Scheduling..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Oa,{className:"w-4 h-4 mr-2"}),N==="now"?"Send Now":"Schedule Reminder"]})})]})]})]})]})]}),(()=>{const z=F.filter(oe=>oe.status==="sent").length,ue=F.filter(oe=>oe.status==="pending").length;return r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-foreground",children:F.length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"})]})}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-success",children:z}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Sent"})]})}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-warning",children:ue}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Scheduled"})]})}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-muted-foreground",children:F.filter(oe=>oe.recurrence_type&&oe.recurrence_type!=="none").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recurring"})]})})]})})(),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(xe,{placeholder:"Search reminders...",value:K,onChange:z=>U(z.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Tn,{className:"w-4 h-4 text-muted-foreground shrink-0"}),!s&&r.jsxs(Ue,{value:O,onValueChange:R,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Recipient"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All"}),r.jsx(Q,{value:"client",children:"Client"}),r.jsx(Q,{value:"accountant",children:"Accountant"})]})]})]})]})})}),r.jsx(se,{className:"shadow-md border-border/50",children:r.jsx(ae,{className:"p-0",children:F.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(Oa,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:i.length===0?"No reminders sent yet.":"No reminders match your filters."}),r.jsx("p",{className:"text-sm text-muted-foreground/70 mt-2",children:i.length===0?"Send your first reminder to get started.":"Try adjusting your search or filters."})]}):r.jsx(Dt,{className:"h-[500px]",children:r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"Title"}),r.jsx(q,{children:"Message"}),r.jsx(q,{children:"Recipient"}),r.jsx(q,{children:"Type"}),r.jsx(q,{children:"Date"}),r.jsx(q,{children:"Status"}),r.jsx(q,{className:"text-right",children:"Actions"})]})}),r.jsx(Jt,{children:F.map(z=>r.jsxs(Xe,{children:[r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(Oa,{className:"w-4 h-4 text-primary"})}),r.jsx("p",{className:"font-medium text-foreground truncate max-w-[180px]",children:z.title})]})}),r.jsx(G,{children:r.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",title:z.message,children:z.message})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[z.recipient_type==="client"?r.jsx(Dn,{className:"w-3.5 h-3.5"}):r.jsx(nt,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate max-w-[120px]",children:z.recipient_name})]})}),r.jsx(G,{children:r.jsx("span",{className:"text-sm capitalize",children:z.recipient_type})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(ms,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:z.status==="pending"?new Date(z.scheduled_at||z.created_at).toLocaleString():new Date(z.sent_at||z.created_at).toLocaleString()})]})}),r.jsxs(G,{children:[z.status==="pending"?r.jsxs(rt,{variant:"outline",className:"bg-amber-100 text-amber-800 border-amber-200",children:[r.jsx(pn,{className:"w-3 h-3 mr-1"}),"Scheduled"]}):r.jsxs(rt,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200",children:[r.jsx(bt,{className:"w-3 h-3 mr-1"}),"Sent"]}),z.recurrence_type&&z.recurrence_type!=="none"&&r.jsx(rt,{variant:"secondary",className:"ml-1 text-xs",children:z.recurrence_type})]}),r.jsx(G,{className:"text-right",children:r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>ne(z.id),className:"text-muted-foreground hover:text-destructive",title:"Delete",children:r.jsx(ru,{className:"w-4 h-4"})})})]},z.id))})]})})})})]})}const LD=[{value:"default",label:"Navy (default)"},{value:"emerald",label:"Emerald"},{value:"violet",label:"Violet"},{value:"slate",label:"Slate"},{value:"amber",label:"Amber"}];function ey(e){const t=e.replace(/^#/,"").trim();return t.length===6&&/^[0-9A-Fa-f]{6}$/.test(t)?"#"+t:t.length===3&&/^[0-9A-Fa-f]{3}$/.test(t)?"#"+t[0]+t[0]+t[1]+t[1]+t[2]+t[2]:"#3b82f6"}function $D(){const[e,t]=u.useState({}),[n,s]=u.useState(!0),[a,i]=u.useState(!1),{toast:o}=Et(),{refetchSettings:l}=gu();u.useEffect(()=>{c()},[]);const c=async()=>{try{const p=await(await fetch(`${Ut}/settings/index.php`,{headers:jl()})).json();if(p.success){const h={};p.settings.forEach(j=>{h[j.setting_key]=j.setting_value}),t(h)}else throw new Error(p.error||"Failed to load settings")}catch(m){console.error("Failed to load settings:",m),o({title:"Error",description:"Failed to load settings. Please try again.",variant:"destructive"})}finally{s(!1)}},d=(m,p)=>{t(h=>({...h,[m]:p}))};u.useEffect(()=>{if(n)return;const m=e.theme_color||"default",p=m==="default"?null:m;Sd(document.documentElement,p)},[n,e.theme_color]);const f=async()=>{i(!0);try{const p=await(await fetch(`${Ut}/settings/index.php`,{method:"POST",headers:jl(),body:JSON.stringify(e)})).json();if(p.success)o({title:"Success",description:"Settings saved successfully!"}),await(l==null?void 0:l());else throw new Error(p.error||"Failed to save settings")}catch(m){console.error("Failed to save settings:",m),o({title:"Error",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{i(!1)}};return n?r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):r.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Customize Settings"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Customize your firm's branding. These settings will be reflected across your client portal."})]}),r.jsx("div",{className:"space-y-6",children:r.jsxs(se,{children:[r.jsxs(Ft,{children:[r.jsx(It,{children:"Branding"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Company information and app name shown in the client portal."})]}),r.jsxs(ae,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"App Name"}),r.jsx(xe,{value:e.app_name||"",onChange:m=>d("app_name",m.target.value),placeholder:"Your App Name"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This will appear in the header and throughout the application"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company Name"}),r.jsx(xe,{value:e.company_name||"",onChange:m=>d("company_name",m.target.value),placeholder:"Your Company Name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Support Email"}),r.jsx(xe,{type:"email",value:e.support_email||"",onChange:m=>d("support_email",m.target.value),placeholder:"support@yourcompany.com"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ce,{children:"Theme colour"}),r.jsxs(Ue,{value:vc(e.theme_color)?"custom":e.theme_color||"default",onValueChange:m=>{if(m==="custom"){const p=vc(e.theme_color)?e.theme_color:"#3b82f6";d("theme_color",ey(p))}else d("theme_color",m)},children:[r.jsx($e,{className:"w-full max-w-xs",children:r.jsx(Be,{placeholder:"Choose theme"})}),r.jsxs(ze,{children:[LD.map(m=>r.jsx(Q,{value:m.value,children:m.label},m.value)),r.jsx(Q,{value:"custom",children:"Custom colour (hex)"})]})]}),vc(e.theme_color)&&r.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"color",value:vc(e.theme_color)?ey(e.theme_color):"#3b82f6",onChange:m=>d("theme_color",m.target.value),className:"h-10 w-14 cursor-pointer rounded border border-input bg-background"}),r.jsx(ce,{className:"text-sm text-muted-foreground",children:"Picker"})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx(ce,{className:"text-sm text-muted-foreground",children:"Hex code"}),r.jsx(xe,{type:"text",value:e.theme_color||"",onChange:m=>{const p=m.target.value.trim();d("theme_color",p?p.startsWith("#")?p:"#"+p:"#3b82f6")},placeholder:"#3b82f6",className:"font-mono w-28"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Applies to all accountants and clients under this firm. Use a preset or pick a custom colour."})]})]})]})}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx(Y,{onClick:f,disabled:a,className:"min-w-[120px]",children:a?"Saving...":"Save Settings"})})]})}const zD=[{icon:hp,label:"Overview",href:"/dashboard"},{icon:nt,label:"Accountants",href:"/dashboard/accountants"},{icon:Fn,label:"Clients",href:"/dashboard/clients"},{icon:gt,label:"Documents",href:"/dashboard/documents"},{icon:ls,label:"Clarifications",href:"/dashboard/clarifications"},{icon:pn,label:"Reminders",href:"/dashboard/reminders"},{icon:gr,label:"Notifications",href:"/dashboard/notifications"},{icon:gp,label:"Settings",href:"/dashboard/settings"}];function UD(){const{user:e}=er(),{toast:t}=Et(),n=Jn(),[s,a]=u.useState({totalClients:0,totalAccountants:0,pendingDocuments:0,processedToday:0}),[i,o]=u.useState([]),[l,c]=u.useState([]),[d,f]=u.useState([]),[m,p]=u.useState(null),[h,j]=u.useState(""),[g,x]=u.useState(""),[v,y]=u.useState("client"),[w,b]=u.useState(!1),[N,S]=u.useState(!1),[C,k]=u.useState([]),T=C.filter(U=>!U.is_read).length;u.useEffect(()=>{e&&_()},[e]);const _=async()=>{if(!e)return;const U=await Km.get();if(U.error){console.error("Firm fetch error:",U.error),t({title:"Error",description:U.error,variant:"destructive"});return}const O=U.data;if(!(O!=null&&O.id)){p(null),j(""),o([]),c([]),a({totalClients:0,totalAccountants:0,pendingDocuments:0,processedToday:0});return}p(O.id),j(O.name||"");const[R,F,D]=await Promise.all([Zi.getByFirm(O.id),Up.getByFirm(O.id),Xi.getByFirm(O.id)]);R.error&&t({title:"Error",description:R.error,variant:"destructive"}),F.error&&t({title:"Error",description:F.error,variant:"destructive"});const X=(R.data||[]).map(W=>({id:W.id,user_id:W.user_id,company_name:W.company_name??null,assigned_accountant_id:W.assigned_accountant_id??null,profiles:W.email?{full_name:W.full_name??null,email:W.email}:null})),ne=(F.data||[]).map(W=>({id:W.id,accountant_id:W.accountant_id,profiles:W.email?{full_name:W.full_name??null,email:W.email}:null}));o(X),c(ne);const ve=D.data||[];f(ve);const z=ve.filter(W=>W.status==="pending").length,ue=new Date;ue.setHours(0,0,0,0);const oe=ve.filter(W=>{if(W.status!=="posted")return!1;const Ce=W.updated_at?new Date(W.updated_at):null;return!!Ce&&Ce.getTime()>=ue.getTime()}).length;try{const W=await gn.get();W.data&&k(W.data)}catch(W){console.error("Error fetching notifications:",W)}Sa.processDue().catch(()=>{}),a({totalClients:X.length,totalAccountants:ne.length,pendingDocuments:z,processedToday:oe})},P=async U=>{if(U.preventDefault(),!m){t({title:"Error",description:"Firm not loaded yet. Please refresh and try again.",variant:"destructive"});return}const O=g.trim();if(!O){t({title:"Email required",description:"Please enter an email address to generate an invite link.",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O)){t({title:"Invalid email",description:"Please enter a valid email address (example: name@domain.com).",variant:"destructive"});return}if(e){b(!0);try{console.log("Creating invite with firm_id:",m);const F=await _d.create({firm_id:m,email:O,role:v});if(F.error||!F.data){console.error("Token creation error:",F.error),t({title:"Error",description:F.error||"Failed to create invite token",variant:"destructive"});return}t({title:"Invitation Sent!",description:`An invitation email has been sent to ${O}.`}),S(!1),x("")}catch(F){console.error("Invite error:",F),t({title:"Error",description:F instanceof Error?F.message:"Failed to generate invite link",variant:"destructive"})}finally{b(!1)}}},A=async(U,O)=>{const R=O||"",{error:F}=await Zi.update(U,{assigned_accountant_id:R});F?t({title:"Error",description:"Failed to assign accountant",variant:"destructive"}):(t({title:"Success",description:"Accountant assigned successfully"}),_())},$={};i.forEach(U=>{U.assigned_accountant_id&&($[U.assigned_accountant_id]=($[U.assigned_accountant_id]||0)+1)});const M=n.pathname,K=()=>M==="/dashboard/clients"?r.jsx(kN,{clients:i,accountants:l,onAssignAccountant:A}):M==="/dashboard/accountants"?r.jsx(FD,{accountants:l,clientsByAccountant:$,clients:i}):M==="/dashboard/documents"&&m?r.jsx(ID,{firmId:m,clients:i,accountants:l}):M==="/dashboard/clarifications"&&m?r.jsx(PN,{firmId:m,clients:i,accountants:l}):M==="/dashboard/reminders"&&m?r.jsx(RN,{firmId:m,clients:i,accountants:l}):M==="/dashboard/notifications"?r.jsx(EN,{}):M==="/dashboard/settings"?r.jsx($D,{}):r.jsx(AD,{stats:s,clients:i,accountants:l,inviteEmail:g,setInviteEmail:x,inviteType:v,setInviteType:y,dialogOpen:N,setDialogOpen:S,onInvite:P,loading:w,onAssignAccountant:A,documents:d});return r.jsx(Dr,{firmId:m||void 0,children:r.jsx(Cs,{navItems:zD,title:"Firm",unreadCount:T,children:K()})})}function TN(){const{user:e}=er(),{toast:t}=Et(),[n,s]=u.useState(!0),[a,i]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState({full_name:"",email:"",phone:""}),[f,m]=u.useState({current:"",new:"",confirm:""}),[p,h]=u.useState({current:!1,new:!1,confirm:!1});u.useEffect(()=>{e&&j()},[e]);const j=async()=>{if(e){s(!0);try{const v=await Qm.get();if(v.error)throw new Error(v.error);v.data&&d({full_name:v.data.full_name||"",email:v.data.email||"",phone:v.data.phone||""})}catch(v){t({title:"Error loading profile",description:v.message||"Failed to load profile",variant:"destructive"})}finally{s(!1)}}},g=async v=>{if(v.preventDefault(),!!e){i(!0);try{const y=await Qm.update({full_name:c.full_name,phone:c.phone});if(y.error)throw new Error(y.error);t({title:"Profile updated",description:"Your profile has been saved successfully."})}catch(y){t({title:"Error updating profile",description:y.message||"Failed to update profile",variant:"destructive"})}finally{i(!1)}}},x=async v=>{if(v.preventDefault(),f.new!==f.confirm){t({title:"Passwords don't match",description:"New password and confirmation must match.",variant:"destructive"});return}if(f.new.length<6){t({title:"Password too short",description:"Password must be at least 6 characters.",variant:"destructive"});return}l(!0);try{t({title:"Password change",description:"Please use the 'Forgot Password' feature to reset your password, or contact support.",variant:"default"}),m({current:"",new:"",confirm:""})}catch(y){t({title:"Error changing password",description:y.message||"Failed to change password",variant:"destructive"})}finally{l(!1)}};return n?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Me,{className:"w-8 h-8 animate-spin text-accent"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs(se,{className:"shadow-md border-border/50",children:[r.jsxs(Ft,{children:[r.jsxs(It,{className:"text-foreground flex items-center gap-2",children:[r.jsx(Dn,{className:"w-5 h-5 text-accent"}),"Profile Information"]}),r.jsx(ah,{children:"Update your personal information"})]}),r.jsx(ae,{children:r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"fullName",children:"Full Name"}),r.jsx(xe,{id:"fullName",value:c.full_name,onChange:v=>d({...c,full_name:v.target.value}),placeholder:"Enter your full name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"email",children:"Email"}),r.jsx(xe,{id:"email",type:"email",value:c.email,disabled:!0,className:"bg-secondary/50"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed. Contact support if needed."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"phone",children:"Phone Number"}),r.jsx(xe,{id:"phone",type:"tel",value:c.phone,onChange:v=>d({...c,phone:v.target.value}),placeholder:"Enter your phone number"})]}),r.jsx(Y,{type:"submit",variant:"accent",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(uj,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})})]}),r.jsxs(se,{className:"shadow-md border-border/50",children:[r.jsxs(Ft,{children:[r.jsxs(It,{className:"text-foreground flex items-center gap-2",children:[r.jsx(Va,{className:"w-5 h-5 text-accent"}),"Change Password"]}),r.jsx(ah,{children:"Update your login password"})]}),r.jsx(ae,{children:r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"newPassword",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(xe,{id:"newPassword",type:p.new?"text":"password",value:f.new,onChange:v=>m({...f,new:v.target.value}),placeholder:"Enter new password",className:"pr-10"}),r.jsx("button",{type:"button",onClick:()=>h({...p,new:!p.new}),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:p.new?r.jsx(Og,{className:"w-4 h-4"}):r.jsx(Wa,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{htmlFor:"confirmPassword",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(xe,{id:"confirmPassword",type:p.confirm?"text":"password",value:f.confirm,onChange:v=>m({...f,confirm:v.target.value}),placeholder:"Confirm new password",className:"pr-10"}),r.jsx("button",{type:"button",onClick:()=>h({...p,confirm:!p.confirm}),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:p.confirm?r.jsx(Og,{className:"w-4 h-4"}):r.jsx(Wa,{className:"w-4 h-4"})})]})]}),r.jsx(Y,{type:"submit",variant:"accent",disabled:o||!f.new||!f.confirm,children:o?r.jsxs(r.Fragment,{children:[r.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Va,{className:"w-4 h-4 mr-2"}),"Update Password"]})})]})})]})]})}function BD({documents:e,onPreview:t,onDownload:n,onAction:s}){const a=Nn(),[i,o]=u.useState("month"),[l,c]=u.useState(void 0),[d,f]=u.useState(!1),m=e.filter(x=>x.status==="pending"),p=e.filter(x=>x.status==="posted").length,h=e.filter(x=>["clarification_needed","resend_requested"].includes(x.status)).length,j=u.useMemo(()=>{const x=new Date;let v,y=new Date;switch(i){case"week":v=new Date(x.getTime()-7*24*60*60*1e3);break;case"month":v=new Date(x.getFullYear(),x.getMonth(),1);break;case"year":v=new Date(x.getFullYear(),0,1);break;case"dateRange":v=(l==null?void 0:l.from)||new Date(0),y=(l==null?void 0:l.to)||x;break;default:v=new Date(0)}const w=e.filter(b=>{const N=new Date(b.uploaded_at);return N>=v&&N<=y});return{totalProcessed:w.filter(b=>b.status==="posted").length,totalUploaded:w.length,pending:w.filter(b=>b.status==="pending").length,needsAction:w.filter(b=>["clarification_needed","resend_requested"].includes(b.status)).length}},[e,i,l]),g=x=>{const v={pending:"bg-warning/10 text-warning border-warning/20",posted:"bg-success/10 text-success border-success/20",clarification_needed:"bg-destructive/10 text-destructive border-destructive/20",resend_requested:"bg-accent/10 text-accent border-accent/20"},y={pending:"Pending",posted:"Posted",clarification_needed:"Needs Clarification",resend_requested:"Resend Requested"};return r.jsx(rt,{variant:"outline",className:v[x],children:y[x]})};return r.jsxs("div",{className:"space-y-8 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Overview"}),r.jsx("p",{className:"text-muted-foreground",children:"Monitor your assigned documents"})]}),r.jsxs(Mt,{open:d,onOpenChange:f,children:[r.jsx(Il,{asChild:!0,children:r.jsxs(Y,{variant:"outline",className:"w-full sm:w-auto justify-start text-left font-normal text-sm",children:[r.jsx(ms,{className:"w-4 h-4 mr-2 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:i==="dateRange"&&(l!=null&&l.from)?l.to?r.jsxs(r.Fragment,{children:[_t(l.from,"MMM dd")," -"," ",_t(l.to,"MMM dd")]}):_t(l.from,"MMM dd"):r.jsx(r.Fragment,{children:i==="week"?"This Week":i==="month"?"This Month":i==="year"?"This Year":i==="all"?"All Time":"Select Timeline"})})]})}),r.jsxs(St,{className:"max-w-full sm:max-w-md mx-4 sm:mx-auto",children:[r.jsx(Ct,{children:r.jsx(kt,{children:"Select Timeline"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-2",children:[r.jsx(Y,{variant:i==="week"?"default":"outline",size:"sm",onClick:()=>{o("week"),c(void 0),f(!1)},children:"This Week"}),r.jsx(Y,{variant:i==="month"?"default":"outline",size:"sm",onClick:()=>{o("month"),c(void 0),f(!1)},children:"This Month"}),r.jsx(Y,{variant:i==="year"?"default":"outline",size:"sm",onClick:()=>{o("year"),c(void 0),f(!1)},children:"This Year"}),r.jsx(Y,{variant:i==="all"?"default":"outline",size:"sm",onClick:()=>{o("all"),c(void 0),f(!1)},children:"All Time"})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("p",{className:"text-sm font-medium mb-3",children:"Custom Date Range"}),r.jsx("div",{className:"flex justify-center",children:r.jsx(Ru,{mode:"range",defaultMonth:(l==null?void 0:l.from)||new Date,selected:l,onSelect:x=>{x!=null&&x.from&&(x!=null&&x.to)?(c(x),o("dateRange"),f(!1)):c(x)},numberOfMonths:1,className:"rounded-md border text-sm"})})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(se,{className:"shadow-md border-border/50 cursor-pointer hover:shadow-lg hover:border-warning/50 transition-all",onClick:()=>a("/dashboard/documents"),children:r.jsx(ae,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Review"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:m.length})]}),r.jsx("div",{className:"w-12 h-12 rounded-lg bg-warning/10 flex items-center justify-center",children:r.jsx(pn,{className:"w-6 h-6 text-warning"})})]})})}),r.jsx(se,{className:"shadow-md border-border/50 cursor-pointer hover:shadow-lg hover:border-success/50 transition-all",onClick:()=>a("/dashboard/documents"),children:r.jsx(ae,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Posted"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:p})]}),r.jsx("div",{className:"w-12 h-12 rounded-lg bg-success/10 flex items-center justify-center",children:r.jsx(bt,{className:"w-6 h-6 text-success"})})]})})}),r.jsx(se,{className:"shadow-md border-border/50 cursor-pointer hover:shadow-lg hover:border-destructive/50 transition-all",onClick:()=>a("/dashboard/documents"),children:r.jsx(ae,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Need Action"}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:h})]}),r.jsx("div",{className:"w-12 h-12 rounded-lg bg-destructive/10 flex items-center justify-center",children:r.jsx(ls,{className:"w-6 h-6 text-destructive"})})]})})}),r.jsx(se,{className:"shadow-md border-border/50 cursor-pointer hover:shadow-lg hover:border-primary/50 transition-all",onClick:()=>a("/dashboard/documents"),children:r.jsx(ae,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:[i==="week"?"This Week":i==="month"?"This Month":i==="year"?"This Year":"Total"," Processed"]}),r.jsx("p",{className:"text-3xl font-bold text-foreground",children:j.totalProcessed}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[j.totalUploaded," total"]})]}),r.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:r.jsx(su,{className:"w-6 h-6 text-primary"})})]})})})]}),r.jsxs(se,{className:"shadow-md border-border/50",children:[r.jsx(Ft,{children:r.jsxs(It,{className:"text-foreground flex items-center gap-2 cursor-pointer hover:text-accent transition-colors",onClick:()=>a("/dashboard/documents"),children:[r.jsx(gt,{className:"w-5 h-5 text-accent"}),"Document Statistics",i!=="all"&&r.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",i==="week"?"This Week":i==="month"?"This Month":i==="year"?"This Year":"Custom Range",")"]})]})}),r.jsx(ae,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 rounded-lg bg-secondary/30 cursor-pointer hover:bg-secondary/50 transition-colors",onClick:()=>a("/dashboard/documents"),children:[r.jsx("p",{className:"text-2xl font-bold text-foreground",children:j.totalUploaded}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Uploaded"})]}),r.jsxs("div",{className:"text-center p-4 rounded-lg bg-success/10 cursor-pointer hover:bg-success/20 transition-colors",onClick:()=>a("/dashboard/documents"),children:[r.jsx("p",{className:"text-2xl font-bold text-success",children:j.totalProcessed}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Processed"})]}),r.jsxs("div",{className:"text-center p-4 rounded-lg bg-warning/10 cursor-pointer hover:bg-warning/20 transition-colors",onClick:()=>a("/dashboard/documents"),children:[r.jsx("p",{className:"text-2xl font-bold text-warning",children:j.pending}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]}),r.jsxs("div",{className:"text-center p-4 rounded-lg bg-destructive/10 cursor-pointer hover:bg-destructive/20 transition-colors",onClick:()=>a("/dashboard/documents"),children:[r.jsx("p",{className:"text-2xl font-bold text-destructive",children:j.needsAction}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Needs Action"})]})]})})]}),r.jsxs(se,{className:"shadow-md border-border/50",children:[r.jsx(Ft,{children:r.jsxs(It,{className:"text-foreground flex items-center gap-2",children:[r.jsx(pn,{className:"w-5 h-5 text-warning"}),"Pending Review",m.length>0&&r.jsx(rt,{variant:"secondary",className:"ml-2",children:m.length})]})}),r.jsx(ae,{children:m.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(bt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"All caught up! No pending documents to review."})]}):r.jsxs("div",{className:"space-y-4",children:[m.slice(0,5).map(x=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-secondary/30 border border-border/50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:r.jsx(gt,{className:"w-5 h-5 text-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:x.file_name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.client_name||"Unknown client",x.company_name&&r.jsxs("span",{className:"inline-flex items-center gap-1 ml-1",children:[r.jsx(nt,{className:"w-3 h-3"}),x.company_name]}),"  ",new Date(x.uploaded_at).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[g(x.status),r.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>t(x),title:"View document",children:r.jsx(Wa,{className:"w-4 h-4 text-primary"})}),r.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>n(x),title:"Download",children:r.jsx(hs,{className:"w-4 h-4 text-muted-foreground"})}),r.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>s(x,"posted"),title:"Mark as posted",children:r.jsx(bt,{className:"w-4 h-4 text-success"})}),r.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>s(x,"clarification_needed"),title:"Request clarification",children:r.jsx(ls,{className:"w-4 h-4 text-warning"})}),r.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>s(x,"resend_requested"),title:"Request resend",children:r.jsx(qi,{className:"w-4 h-4 text-destructive"})})]})]},x.id)),m.length>5&&r.jsxs(Y,{variant:"outline",className:"w-full",onClick:()=>a("/dashboard/documents"),children:["View all ",m.length," pending documents"]})]})})]})]})}function WD({documents:e,onPreview:t,onDownload:n,onAction:s}){const[a,i]=u.useState(""),[o,l]=u.useState("all"),[c,d]=u.useState("all"),[f,m]=u.useState("all"),p=u.useMemo(()=>{const x=new Set,v=[];for(const y of e)y.client_id&&!x.has(y.client_id)&&(x.add(y.client_id),v.push({id:y.client_id,name:y.client_name||"Unknown"}));return v.sort((y,w)=>y.name.localeCompare(w.name))},[e]),h=u.useMemo(()=>{const x=new Set,v=[];return e.forEach(y=>{const w=y.company_name&&y.company_name.trim()||"no-company";x.has(w)||(x.add(w),v.push(w))}),v.sort((y,w)=>y==="no-company"?1:w==="no-company"?-1:y.localeCompare(w))},[e]),j=u.useMemo(()=>e.filter(x=>{var S,C;const v=x.file_name.toLowerCase().includes(a.toLowerCase())||(((S=x.client_name)==null?void 0:S.toLowerCase())||"").includes(a.toLowerCase())||(((C=x.company_name)==null?void 0:C.toLowerCase())||"").includes(a.toLowerCase()),y=o==="all"||x.status===o,w=c==="all"||x.client_id===c,b=x.company_name&&x.company_name.trim()||"no-company";return v&&y&&w&&(f==="all"||f==="no-company"&&b==="no-company"||b===f)}),[e,a,o,c,f]),g=x=>{const v={pending:"bg-warning/10 text-warning border-warning/20",posted:"bg-success/10 text-success border-success/20",clarification_needed:"bg-destructive/10 text-destructive border-destructive/20",resend_requested:"bg-accent/10 text-accent border-accent/20"},y={pending:"Pending",posted:"Posted",clarification_needed:"Needs Clarification",resend_requested:"Resend Requested"};return r.jsx(rt,{variant:"outline",className:v[x],children:y[x]})};return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"All Documents"}),r.jsxs("p",{className:"text-muted-foreground",children:[j.length," of ",e.length," documents"]})]})}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(xe,{placeholder:"Search by file name, client, or company...",value:a,onChange:x=>i(x.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Tn,{className:"w-4 h-4 text-muted-foreground shrink-0"}),r.jsxs(Ue,{value:o,onValueChange:l,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Status"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Status"}),r.jsx(Q,{value:"pending",children:"Pending"}),r.jsx(Q,{value:"posted",children:"Posted"}),r.jsx(Q,{value:"clarification_needed",children:"Needs Clarification"}),r.jsx(Q,{value:"resend_requested",children:"Resend Requested"})]})]}),r.jsxs(Ue,{value:c,onValueChange:d,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Client"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Clients"}),p.map(x=>r.jsx(Q,{value:x.id,children:x.name},x.id))]})]}),r.jsxs(Ue,{value:f,onValueChange:m,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Company"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Companies"}),r.jsx(Q,{value:"no-company",children:"No Company"}),h.filter(x=>x!=="no-company").map(x=>r.jsx(Q,{value:x,children:x},x))]})]})]})]})})}),r.jsxs(se,{className:"shadow-md border-border/50",children:[r.jsx(Ft,{children:r.jsxs(It,{className:"text-foreground flex items-center gap-2",children:[r.jsx(gt,{className:"w-5 h-5 text-primary"}),"Documents"]})}),r.jsx(ae,{className:"p-0",children:j.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(gt,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e.length===0?"No documents yet. Documents will appear here when clients upload them.":"No documents match your search criteria."})]}):r.jsx(Dt,{className:"h-[600px]",children:r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"File Name"}),r.jsx(q,{children:"Client"}),r.jsx(q,{children:"Company"}),r.jsx(q,{children:"Date"}),r.jsx(q,{children:"Status"}),r.jsx(q,{className:"text-right",children:"Actions"})]})}),r.jsx(Jt,{children:j.map(x=>r.jsxs(Xe,{children:[r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(gt,{className:"w-4 h-4 text-primary"})}),r.jsx("div",{className:"min-w-0 flex-1",children:r.jsx("p",{className:"font-medium text-foreground truncate",children:x.file_name})})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(Dn,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:x.client_name||"Unknown"})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(nt,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:x.company_name||""})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(ms,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:new Date(x.uploaded_at).toLocaleDateString()})]})}),r.jsx(G,{children:g(x.status)}),r.jsx(G,{className:"text-right",children:r.jsxs("div",{className:"flex gap-1 justify-end",children:[r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>t(x),title:"Preview",children:r.jsx(Wa,{className:"w-4 h-4"})}),r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>n(x),title:"Download",children:r.jsx(hs,{className:"w-4 h-4"})}),r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>s(x,"posted"),title:"Mark as posted",children:r.jsx(bt,{className:"w-4 h-4 text-success"})}),r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>s(x,"clarification_needed"),title:"Request clarification",children:r.jsx(ls,{className:"w-4 h-4 text-warning"})}),r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>s(x,"resend_requested"),title:"Request resend",children:r.jsx(qi,{className:"w-4 h-4 text-destructive"})})]})})]},x.id))})]})})})]})]})}var $f="rovingFocusGroup.onEntryFocus",VD={bubbles:!1,cancelable:!0},Bl="RovingFocusGroup",[mh,MN,HD]=dp(Bl),[YD,AN]=Xn(Bl,[HD]),[qD,GD]=YD(Bl),ON=u.forwardRef((e,t)=>r.jsx(mh.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(mh.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(KD,{...e,ref:t})})}));ON.displayName=Bl;var KD=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=e,p=u.useRef(null),h=Oe(t,p),j=vu(i),[g,x]=ta({prop:o,defaultProp:l??null,onChange:c,caller:Bl}),[v,y]=u.useState(!1),w=Rt(d),b=MN(n),N=u.useRef(!1),[S,C]=u.useState(0);return u.useEffect(()=>{const k=p.current;if(k)return k.addEventListener($f,w),()=>k.removeEventListener($f,w)},[w]),r.jsx(qD,{scope:n,orientation:s,dir:j,loop:a,currentTabStopId:g,onItemFocus:u.useCallback(k=>x(k),[x]),onItemShiftTab:u.useCallback(()=>y(!0),[]),onFocusableItemAdd:u.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:u.useCallback(()=>C(k=>k-1),[]),children:r.jsx(_e.div,{tabIndex:v||S===0?-1:0,"data-orientation":s,...m,ref:h,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{N.current=!0}),onFocus:me(e.onFocus,k=>{const T=!N.current;if(k.target===k.currentTarget&&T&&!v){const _=new CustomEvent($f,VD);if(k.currentTarget.dispatchEvent(_),!_.defaultPrevented){const P=b().filter(U=>U.focusable),A=P.find(U=>U.active),$=P.find(U=>U.id===g),K=[A,$,...P].filter(Boolean).map(U=>U.ref.current);IN(K,f)}}N.current=!1}),onBlur:me(e.onBlur,()=>y(!1))})})}),DN="RovingFocusGroupItem",FN=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Qs(),d=i||c,f=GD(DN,n),m=f.currentTabStopId===d,p=MN(n),{onFocusableItemAdd:h,onFocusableItemRemove:j,currentTabStopId:g}=f;return u.useEffect(()=>{if(s)return h(),()=>j()},[s,h,j]),r.jsx(mh.ItemSlot,{scope:n,id:d,focusable:s,active:a,children:r.jsx(_e.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:me(e.onMouseDown,x=>{s?f.onItemFocus(d):x.preventDefault()}),onFocus:me(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:me(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=XD(x,f.orientation,f.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=p().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const b=w.indexOf(x.currentTarget);w=f.loop?JD(w,b+1):w.slice(b+1)}setTimeout(()=>IN(w))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:g!=null}):o})})});FN.displayName=DN;var QD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZD(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function XD(e,t,n){const s=ZD(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return QD[s]}function IN(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function JD(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var e3=ON,t3=FN,mx="Radio",[n3,LN]=Xn(mx),[r3,s3]=n3(mx),$N=u.forwardRef((e,t)=>{const{__scopeRadio:n,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...f}=e,[m,p]=u.useState(null),h=Oe(t,x=>p(x)),j=u.useRef(!1),g=m?d||!!m.closest("form"):!0;return r.jsxs(r3,{scope:n,checked:a,disabled:o,children:[r.jsx(_e.button,{type:"button",role:"radio","aria-checked":a,"data-state":WN(a),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:h,onClick:me(e.onClick,x=>{a||c==null||c(),g&&(j.current=x.isPropagationStopped(),j.current||x.stopPropagation())})}),g&&r.jsx(BN,{control:m,bubbles:!j.current,name:s,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});$N.displayName=mx;var zN="RadioIndicator",UN=u.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:s,...a}=e,i=s3(zN,n);return r.jsx(Un,{present:s||i.checked,children:r.jsx(_e.span,{"data-state":WN(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});UN.displayName=zN;var a3="RadioBubbleInput",BN=u.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:s=!0,...a},i)=>{const o=u.useRef(null),l=Oe(o,i),c=Jp(n),d=Ep(t);return u.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&h){const j=new Event("click",{bubbles:s});h.call(f,n),f.dispatchEvent(j)}},[c,n,s]),r.jsx(_e.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});BN.displayName=a3;function WN(e){return e?"checked":"unchecked"}var i3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Tu="RadioGroup",[o3,q3]=Xn(Tu,[AN,LN]),VN=AN(),HN=LN(),[l3,c3]=o3(Tu),YN=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:f=!0,onValueChange:m,...p}=e,h=VN(n),j=vu(d),[g,x]=ta({prop:i,defaultProp:a??null,onChange:m,caller:Tu});return r.jsx(l3,{scope:n,name:s,required:o,disabled:l,value:g,onValueChange:x,children:r.jsx(e3,{asChild:!0,...h,orientation:c,dir:j,loop:f,children:r.jsx(_e.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:j,...p,ref:t})})})});YN.displayName=Tu;var qN="RadioGroupItem",GN=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:s,...a}=e,i=c3(qN,n),o=i.disabled||s,l=VN(n),c=HN(n),d=u.useRef(null),f=Oe(t,d),m=i.value===a.value,p=u.useRef(!1);return u.useEffect(()=>{const h=g=>{i3.includes(g.key)&&(p.current=!0)},j=()=>p.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",j)}},[]),r.jsx(t3,{asChild:!0,...l,focusable:!o,active:m,children:r.jsx($N,{disabled:o,required:i.required,checked:m,...c,...a,name:i.name,ref:f,onCheck:()=>i.onValueChange(a.value),onKeyDown:me(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:me(a.onFocus,()=>{var h;p.current&&((h=d.current)==null||h.click())})})})});GN.displayName=qN;var d3="RadioGroupIndicator",KN=u.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...s}=e,a=HN(n);return r.jsx(UN,{...a,...s,ref:t})});KN.displayName=d3;var QN=YN,ZN=GN,u3=KN;const hh=u.forwardRef(({className:e,...t},n)=>r.jsx(QN,{className:ye("grid gap-2",e),...t,ref:n}));hh.displayName=QN.displayName;const zo=u.forwardRef(({className:e,...t},n)=>r.jsx(ZN,{ref:n,className:ye("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(u3,{className:"flex items-center justify-center",children:r.jsx(Z2,{className:"h-2.5 w-2.5 fill-current text-current"})})}));zo.displayName=ZN.displayName;const ga=[{icon:hp,label:"Overview",href:"/dashboard"},{icon:Fn,label:"Clients",href:"/dashboard/clients"},{icon:gt,label:"Documents",href:"/dashboard/documents"},{icon:ls,label:"Clarifications",href:"/dashboard/clarifications"},{icon:pn,label:"Reminders",href:"/dashboard/reminders"},{icon:gr,label:"Notifications",href:"/dashboard/notifications",isNotification:!0},{icon:Dn,label:"Profile",href:"/dashboard/profile"}];function f3(){var ie,we;const{user:e}=er(),t=Jn(),{toast:n}=Et(),[s,a]=u.useState([]),[i,o]=u.useState(null),[l,c]=u.useState(!1),[d,f]=u.useState(null),[m,p]=u.useState(""),[h,j]=u.useState(!1),[g,x]=u.useState("posted"),[v,y]=u.useState(!1),[w,b]=u.useState(!1),[N,S]=u.useState(null),[C,k]=u.useState(!1),[T,_]=u.useState("client"),[P,A]=u.useState([]),[$,M]=u.useState([]),[K,U]=u.useState(!1),[O,R]=u.useState([]),[F,D]=u.useState([]),X=P.filter(V=>!V.is_read).length,ne=u.useCallback(V=>V?/^https?:\/\//i.test(V)?V:`${Ut.replace(/\/api\/?$/,"")}/${V.replace(/^\//,"")}`:"",[]),ve=u.useCallback(async()=>{var V;if(e)try{const je=await Km.get();if(je.error||!((V=je.data)!=null&&V.id)){n({title:"Couldn't load firm",description:je.error||"No firm found for this account.",variant:"destructive"}),a([]);return}const Ke=je.data.id;o(Ke);const L=await Zi.getByFirm(Ke),Ne=await Up.getByFirm(Ke),Le=L.data||[],vt=Le.map(ke=>({id:ke.id,user_id:ke.user_id,company_name:ke.company_name??null,assigned_accountant_id:ke.assigned_accountant_id??null,profiles:ke.email?{full_name:ke.full_name??null,email:ke.email}:null}));R(vt);const tn=(Ne.data||[]).map(ke=>({id:ke.id,accountant_id:ke.accountant_id,profiles:ke.email?{full_name:ke.full_name??null,email:ke.email}:null}));if(D(tn),L.error){n({title:"Couldn't load clients",description:L.error,variant:"destructive"}),a([]);return}const Bn=Le.filter(ke=>ke.assigned_accountant_id===e.id),_r=Bn.map(ke=>ke.id);if(_r.length===0){a([]);return}const Wn={};Bn.forEach(ke=>{Wn[ke.id]=ke});const Sr=await Xi.getByFirm(Ke);if(Sr.error){n({title:"Couldn't load documents",description:Sr.error,variant:"destructive"}),a([]);return}const Vt=(Sr.data||[]).filter(ke=>_r.includes(ke.client_id)).map(ke=>{const At=Wn[ke.client_id];return{id:ke.id,file_name:ke.file_name,file_path:ke.file_path,file_type:ke.file_type??null,status:ke.status,notes:ke.notes??null,uploaded_at:ke.uploaded_at,client_id:ke.client_id,company_name:(At==null?void 0:At.company_name)??null,client_name:(At==null?void 0:At.full_name)??null,client_email:(At==null?void 0:At.email)??"",client_user_id:(At==null?void 0:At.user_id)??"",firm_id:je.data.id,firm_name:je.data.name,firm_owner_id:je.data.owner_id}});a(Vt)}catch(je){n({title:"Failed to load documents",description:(je==null?void 0:je.message)||"Unknown error",variant:"destructive"}),a([])}},[n,e]),z=u.useCallback(async()=>{if(e)try{const V=await gn.get();V.data&&A(V.data)}catch(V){console.error("Error fetching notifications:",V)}},[e]);u.useEffect(()=>{if(!e)return;let V=!1;return(async()=>{var je;try{const Ke=await Km.get();if(V)return;(je=Ke.data)!=null&&je.id&&o(Ke.data.id)}catch{V||o(null)}finally{V||c(!0)}})(),()=>{V=!0}},[e]),u.useEffect(()=>{if(e&&l){ve(),z(),Sa.processDue().catch(()=>{});const V=setInterval(()=>{ve(),z()},3e4);return()=>clearInterval(V)}},[e,l,ve,z]);const ue=async()=>{if(d){y(!0);try{if(g==="clarification_needed"){if(!m.trim()){n({title:"Error",description:"Please enter a clarification message",variant:"destructive"}),y(!1);return}const V=await as.sendMessage({document_id:d.id,message:m,recipient_role:T});if(V.error)throw new Error(V.error);n({title:"Clarification Sent",description:`Clarification request sent to ${T}`}),await oe(d.id),p(""),ve()}else{const V=await Xi.update(d.id,{status:g,notes:m});if(V.error)throw new Error(V.error);const je={posted:"Your document has been posted successfully",clarification_needed:`Clarification needed for ${d.file_name}: ${m}`,resend_requested:`Please resend ${d.file_name}: ${m}`,pending:"Document status updated"};await gn.create({user_id:d.client_user_id,title:`Document ${g.replace("_"," ")}`,message:je[g],document_id:d.id}),n({title:"Success",description:`Document marked as ${g.replace("_"," ")}`}),j(!1),f(null),p(""),ve()}}catch(V){console.error("Action error:",V),n({title:"Error",description:(V==null?void 0:V.message)||"Failed to complete action",variant:"destructive"})}finally{y(!1)}}},oe=async V=>{U(!0);try{const je=await as.getMessages(V);je.data&&M(je.data)}catch(je){console.error("Error fetching clarification messages:",je)}U(!1)},W=async(V,je)=>{f(V),x(je),p(""),_("client"),M([]),j(!0),je==="clarification_needed"&&await oe(V.id)},Ce=V=>{f(V),k(!0),b(!0);const je=ne(V.file_path);if(!je){n({title:"Preview failed",description:"Missing file path.",variant:"destructive"}),b(!1),k(!1);return}S(je),k(!1)},I=V=>{const je=ne(V.file_path);if(!je){n({title:"Download failed",description:"Missing file path.",variant:"destructive"});return}const Ke=document.createElement("a");Ke.href=je,Ke.download=V.file_name,Ke.target="_blank",document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke)},J=t.pathname;return e&&!l?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):J==="/dashboard/profile"?r.jsx(Cs,{navItems:ga,title:"Accountant",unreadCount:X,children:r.jsxs("div",{className:"container mx-auto p-6 max-w-2xl",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Profile"}),r.jsx(TN,{})]})}):J==="/dashboard/clients"?r.jsx(Dr,{firmId:i||void 0,children:r.jsx(Cs,{navItems:ga,title:"Accountant",unreadCount:X,children:r.jsx(kN,{clients:O,accountants:F,onAssignAccountant:()=>{}})})}):J==="/dashboard/clarifications"&&i?r.jsx(Dr,{firmId:i||void 0,children:r.jsx(Cs,{navItems:ga,title:"Accountant",unreadCount:X,children:r.jsx(PN,{firmId:i,clients:O,accountants:F})})}):J==="/dashboard/reminders"&&i?r.jsx(Dr,{firmId:i||void 0,children:r.jsx(Cs,{navItems:ga,title:"Accountant",unreadCount:X,children:r.jsx(RN,{firmId:i,clients:O,accountants:F,accountantView:!0})})}):J==="/dashboard/notifications"?r.jsx(Dr,{firmId:i||void 0,children:r.jsx(Cs,{navItems:ga,title:"Accountant",unreadCount:X,children:r.jsx(EN,{})})}):J==="/dashboard/documents"?r.jsx(Dr,{firmId:i||void 0,children:r.jsxs(Cs,{navItems:ga,title:"Accountant",unreadCount:X,children:[r.jsx(WD,{documents:s,onPreview:Ce,onDownload:I,onAction:W}),r.jsx(Mt,{open:h,onOpenChange:V=>{j(V),V||(M([]),p(""))},children:r.jsxs(St,{className:g==="clarification_needed"?"max-w-2xl max-h-[85vh]":"",children:[r.jsx(Ct,{children:r.jsxs(kt,{className:"capitalize flex items-center gap-2",children:[g==="clarification_needed"&&r.jsx(Lr,{className:"w-5 h-5"}),g.replace("_"," ")," Document"]})}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{className:"p-3 bg-secondary/30 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:d==null?void 0:d.file_name}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Client: ",(d==null?void 0:d.client_name)||"Unknown","  Company: ",(d==null?void 0:d.company_name)||"N/A"]})]}),g==="clarification_needed"&&r.jsxs(r.Fragment,{children:[$.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{className:"flex items-center gap-2",children:[r.jsx(Lr,{className:"w-4 h-4"}),"Conversation History"]}),r.jsx(Dt,{className:"h-[200px] border rounded-lg p-3 bg-muted/20",children:K?r.jsx("div",{className:"flex items-center justify-center py-4",children:r.jsx(Me,{className:"w-5 h-5 animate-spin text-muted-foreground"})}):r.jsx("div",{className:"space-y-3",children:$.map(V=>r.jsxs("div",{className:`p-3 rounded-lg ${V.sender_role==="accountant"?"bg-primary/10 ml-4":"bg-secondary mr-4"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("span",{className:"text-xs font-medium",children:[V.sender_name||V.sender_email,r.jsx(rt,{variant:"outline",className:"ml-2 text-[10px]",children:V.sender_role}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:[" ",V.recipient_role]})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(V.created_at).toLocaleString()})]}),r.jsx("p",{className:"text-sm",children:V.message})]},V.id))})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ce,{children:"Send clarification to:"}),r.jsxs(hh,{value:T,onValueChange:V=>_(V),className:"flex gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zo,{value:"client",id:"client"}),r.jsxs(ce,{htmlFor:"client",className:"cursor-pointer",children:["Client (",(d==null?void 0:d.client_name)||"Client",")"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zo,{value:"firm",id:"firm"}),r.jsxs(ce,{htmlFor:"firm",className:"cursor-pointer",children:["Firm (",(d==null?void 0:d.firm_name)||"Firm",")"]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{children:["New Message for ",T==="firm"?"Firm":"Client"]}),r.jsx("div",{className:"flex gap-2",children:r.jsx(is,{placeholder:"Type your clarification message...",value:m,onChange:V=>p(V.target.value),rows:3,className:"flex-1"})})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Y,{variant:"outline",className:"flex-1",onClick:()=>j(!1),children:"Close"}),r.jsx(Y,{className:"flex-1",onClick:ue,disabled:v||!m.trim(),children:v?r.jsxs(r.Fragment,{children:[r.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Send Clarification"]})})]})]}),g!=="clarification_needed"&&r.jsxs(r.Fragment,{children:[g!=="posted"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{children:"Notes for client"}),r.jsx(is,{placeholder:"Add a note explaining what's needed...",value:m,onChange:V=>p(V.target.value),rows:4})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Y,{variant:"outline",className:"flex-1",onClick:()=>j(!1),children:"Cancel"}),r.jsx(Y,{variant:g==="posted"?"accent":"default",className:"flex-1",onClick:ue,disabled:v,children:v?"Updating...":"Confirm"})]})]})]})]})}),r.jsx(Mt,{open:w,onOpenChange:V=>{b(V),V||(S(null),f(null))},children:r.jsxs(St,{className:"max-w-4xl max-h-[90vh]",children:[r.jsx(Ct,{children:r.jsxs(kt,{className:"flex items-center justify-between",children:[r.jsx("span",{className:"truncate pr-4",children:d==null?void 0:d.file_name}),r.jsx("div",{className:"flex items-center gap-2",children:d&&r.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>I(d),children:[r.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download"]})})]})}),r.jsx("div",{className:"mt-4 flex items-center justify-center min-h-[400px] bg-muted/30 rounded-lg overflow-hidden",children:C?r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Me,{className:"w-8 h-8 animate-spin text-primary"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading preview..."})]}):N?(ie=d==null?void 0:d.file_type)!=null&&ie.includes("pdf")?r.jsx("iframe",{src:N,className:"w-full h-[70vh] border-0",title:"Document Preview"}):r.jsx("img",{src:N,alt:d==null?void 0:d.file_name,className:"max-w-full max-h-[70vh] object-contain"}):r.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[r.jsx(gt,{className:"w-12 h-12 opacity-50"}),r.jsx("p",{children:"Unable to load preview"})]})})]})})]})}):r.jsx(Dr,{firmId:i||void 0,children:r.jsxs(Cs,{navItems:ga,title:"Accountant",unreadCount:X,children:[r.jsx(BD,{documents:s,onPreview:Ce,onDownload:I,onAction:W}),r.jsx(Mt,{open:h,onOpenChange:V=>{j(V),V||(M([]),p(""))},children:r.jsxs(St,{className:g==="clarification_needed"?"max-w-2xl max-h-[85vh]":"",children:[r.jsx(Ct,{children:r.jsxs(kt,{className:"capitalize flex items-center gap-2",children:[g==="clarification_needed"&&r.jsx(Lr,{className:"w-5 h-5"}),g.replace("_"," ")," Document"]})}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{className:"p-3 bg-secondary/30 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium",children:d==null?void 0:d.file_name}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Client: ",(d==null?void 0:d.client_name)||"Unknown","  Company: ",(d==null?void 0:d.company_name)||"N/A"]})]}),g==="clarification_needed"&&r.jsxs(r.Fragment,{children:[$.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{className:"flex items-center gap-2",children:[r.jsx(Lr,{className:"w-4 h-4"}),"Conversation History"]}),r.jsx(Dt,{className:"h-[200px] border rounded-lg p-3 bg-muted/20",children:K?r.jsx("div",{className:"flex items-center justify-center py-4",children:r.jsx(Me,{className:"w-5 h-5 animate-spin text-muted-foreground"})}):r.jsx("div",{className:"space-y-3",children:$.map(V=>r.jsxs("div",{className:`p-3 rounded-lg ${V.sender_role==="accountant"?"bg-primary/10 ml-4":"bg-secondary mr-4"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("span",{className:"text-xs font-medium",children:[V.sender_name||V.sender_email,r.jsx(rt,{variant:"outline",className:"ml-2 text-[10px]",children:V.sender_role}),r.jsxs("span",{className:"text-muted-foreground ml-2",children:[" ",V.recipient_role]})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(V.created_at).toLocaleString()})]}),r.jsx("p",{className:"text-sm",children:V.message})]},V.id))})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ce,{children:"Send clarification to:"}),r.jsxs(hh,{value:T,onValueChange:V=>_(V),className:"flex gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zo,{value:"client",id:"client-overview"}),r.jsxs(ce,{htmlFor:"client-overview",className:"cursor-pointer",children:["Client (",(d==null?void 0:d.client_name)||"Client",")"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zo,{value:"firm",id:"firm-overview"}),r.jsxs(ce,{htmlFor:"firm-overview",className:"cursor-pointer",children:["Firm (",(d==null?void 0:d.firm_name)||"Firm",")"]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{children:["New Message for ",T==="firm"?"Firm":"Client"]}),r.jsx("div",{className:"flex gap-2",children:r.jsx(is,{placeholder:"Type your clarification message...",value:m,onChange:V=>p(V.target.value),rows:3,className:"flex-1"})})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Y,{variant:"outline",className:"flex-1",onClick:()=>j(!1),children:"Close"}),r.jsx(Y,{className:"flex-1",onClick:ue,disabled:v||!m.trim(),children:v?r.jsxs(r.Fragment,{children:[r.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Send Clarification"]})})]})]}),g!=="clarification_needed"&&r.jsxs(r.Fragment,{children:[g!=="posted"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{children:"Notes for client"}),r.jsx(is,{placeholder:"Add a note explaining what's needed...",value:m,onChange:V=>p(V.target.value),rows:4})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Y,{variant:"outline",className:"flex-1",onClick:()=>j(!1),children:"Cancel"}),r.jsx(Y,{variant:g==="posted"?"accent":"default",className:"flex-1",onClick:ue,disabled:v,children:v?"Updating...":"Confirm"})]})]})]})]})}),r.jsx(Mt,{open:w,onOpenChange:V=>{b(V),V||(S(null),f(null))},children:r.jsxs(St,{className:"max-w-4xl max-h-[90vh]",children:[r.jsx(Ct,{children:r.jsxs(kt,{className:"flex items-center justify-between",children:[r.jsx("span",{className:"truncate pr-4",children:d==null?void 0:d.file_name}),r.jsx("div",{className:"flex items-center gap-2",children:d&&r.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>I(d),children:[r.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download"]})})]})}),r.jsx("div",{className:"mt-4 flex items-center justify-center min-h-[400px] bg-muted/30 rounded-lg overflow-hidden",children:C?r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(Me,{className:"w-8 h-8 animate-spin text-primary"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading preview..."})]}):N?(we=d==null?void 0:d.file_type)!=null&&we.includes("pdf")?r.jsx("iframe",{src:N,className:"w-full h-[70vh] border-0",title:"Document Preview"}):r.jsx("img",{src:N,alt:d==null?void 0:d.file_name,className:"max-w-full max-h-[70vh] object-contain"}):r.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[r.jsx(gt,{className:"w-12 h-12 opacity-50"}),r.jsx("p",{children:"Unable to load preview"})]})})]})})]})})}var Us;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(Us||(Us={}));var Zo;(function(e){e.Rear="REAR",e.Front="FRONT"})(Zo||(Zo={}));var Id;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(Id||(Id={}));class m3 extends pu{async getPhoto(t){return new Promise(async(n,s)=>{if(t.webUseInput||t.source===Us.Photos)this.fileInputExperience(t,n,s);else if(t.source===Us.Prompt){let a=document.querySelector("pwa-action-sheet");a||(a=document.createElement("pwa-action-sheet"),document.body.appendChild(a)),a.header=t.promptLabelHeader||"Photo",a.cancelable=!1,a.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],a.addEventListener("onSelection",async i=>{i.detail===0?this.fileInputExperience(t,n,s):this.cameraExperience(t,n,s)})}else this.cameraExperience(t,n,s)})}async pickImages(t){return new Promise(async(n,s)=>{this.multipleFileInputExperience(n,s)})}async cameraExperience(t,n,s){if(customElements.get("pwa-camera-modal")){const a=document.createElement("pwa-camera-modal");a.facingMode=t.direction===Zo.Front?"user":"environment",document.body.appendChild(a);try{await a.componentOnReady(),a.addEventListener("onPhoto",async i=>{const o=i.detail;o===null?s(new Ri("User cancelled photos app")):o instanceof Error?s(o):n(await this._getCameraPhoto(o,t)),a.dismiss(),document.body.removeChild(a)}),a.present()}catch{this.fileInputExperience(t,n,s)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,n,s)}fileInputExperience(t,n,s){let a=document.querySelector("#_capacitor-camera-input");const i=()=>{var o;(o=a.parentNode)===null||o===void 0||o.removeChild(a)};a||(a=document.createElement("input"),a.id="_capacitor-camera-input",a.type="file",a.hidden=!0,document.body.appendChild(a),a.addEventListener("change",o=>{const l=a.files[0];let c="jpeg";if(l.type==="image/png"?c="png":l.type==="image/gif"&&(c="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const d=new FileReader;d.addEventListener("load",()=>{if(t.resultType==="dataUrl")n({dataUrl:d.result,format:c});else if(t.resultType==="base64"){const f=d.result.split(",")[1];n({base64String:f,format:c})}i()}),d.readAsDataURL(l)}else n({webPath:URL.createObjectURL(l),format:c}),i()}),a.addEventListener("cancel",o=>{s(new Ri("User cancelled photos app")),i()})),a.accept="image/*",a.capture=!0,t.source===Us.Photos||t.source===Us.Prompt?a.removeAttribute("capture"):t.direction===Zo.Front?a.capture="user":t.direction===Zo.Rear&&(a.capture="environment"),a.click()}multipleFileInputExperience(t,n){let s=document.querySelector("#_capacitor-camera-input-multiple");const a=()=>{var i;(i=s.parentNode)===null||i===void 0||i.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input-multiple",s.type="file",s.hidden=!0,s.multiple=!0,document.body.appendChild(s),s.addEventListener("change",i=>{const o=[];for(let l=0;l<s.files.length;l++){const c=s.files[l];let d="jpeg";c.type==="image/png"?d="png":c.type==="image/gif"&&(d="gif"),o.push({webPath:URL.createObjectURL(c),format:d})}t({photos:o}),a()}),s.addEventListener("cancel",i=>{n(new Ri("User cancelled photos app")),a()})),s.accept="image/*",s.click()}_getCameraPhoto(t,n){return new Promise((s,a)=>{const i=new FileReader,o=t.type.split("/")[1];n.resultType==="uri"?s({webPath:URL.createObjectURL(t),format:o,saved:!1}):(i.readAsDataURL(t),i.onloadend=()=>{const l=i.result;n.resultType==="dataUrl"?s({dataUrl:l,format:o,saved:!1}):s({base64String:l.split(",")[1],format:o,saved:!1})},i.onerror=l=>{a(l)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const ty=hu("Camera",{web:()=>new m3}),h3=()=>{const e=Ya.isNativePlatform();return{isNative:e,takePhoto:async()=>{if(!e)return null;try{return await ty.getPhoto({quality:90,allowEditing:!0,resultType:Id.Base64,source:Us.Camera})}catch(s){throw console.error("Error taking photo:",s),s}},pickFromGallery:async()=>{if(!e)return null;try{return await ty.getPhoto({quality:90,allowEditing:!1,resultType:Id.Base64,source:Us.Photos})}catch(s){throw console.error("Error picking from gallery:",s),s}}}},p3=[{icon:J2,label:"Home",tab:"home"},{icon:nt,label:"Companies",tab:"companies"},{icon:gt,label:"Documents",tab:"documents"},{icon:Ic,label:"Clarifications",tab:"clarifications"},{icon:pn,label:"Reminders",tab:"reminders"},{icon:gr,label:"Notifications",tab:"notifications",isNotification:!0},{icon:Dn,label:"Profile",tab:"profile"}];function x3({onFirmId:e}){var xx;const{user:t,signOut:n}=er(),{toast:s}=Et(),a=gu(),i=(a==null?void 0:a.app_name)||"DocqFlow",{isNative:o,takePhoto:l,pickFromGallery:c}=h3(),[d,f]=u.useState([]),[m,p]=u.useState([]),[h,j]=u.useState(null),[g,x]=u.useState([]),[v,y]=u.useState(null),[w,b]=u.useState(!1),[N,S]=u.useState([]),[C,k]=u.useState([]),[T,_]=u.useState(!1),[P,A]=u.useState("home"),[$,M]=u.useState(!1),[K,U]=u.useState(!1),[O,R]=u.useState(null),[F,D]=u.useState(""),[X,ne]=u.useState([]),[ve,z]=u.useState([]),[ue,oe]=u.useState(!1),[W,Ce]=u.useState([]),[I,J]=u.useState(!1),[ie,we]=u.useState([]),[V,je]=u.useState(!1),[Ke,L]=u.useState(""),[Ne,Le]=u.useState("all"),vt=u.useMemo(()=>ie.filter(E=>{const H=Ke.trim().toLowerCase(),le=!H||E.title.toLowerCase().includes(H)||E.message.toLowerCase().includes(H),re=Ne==="all"||E.sender_type===Ne;return le&&re}),[ie,Ke,Ne]),[tn,Bn]=u.useState(""),[_r,Wn]=u.useState("all"),[Sr,Wl]=u.useState("all"),Vt=u.useMemo(()=>{const E=new Set,H=[];return d.forEach(le=>{var Ie;const re=le.company_id||"no-company",Ye=((Ie=le.company_name)==null?void 0:Ie.trim())||"No Company";E.has(re)||(E.add(re),H.push({id:re,name:Ye}))}),H.sort((le,re)=>le.id==="no-company"?1:re.id==="no-company"?-1:le.name.localeCompare(re.name))},[d]),ke=u.useMemo(()=>d.filter(E=>{const H=tn.trim().toLowerCase(),le=!H||E.file_name.toLowerCase().includes(H)||(E.company_name||"").toLowerCase().includes(H),re=_r==="all"||E.status===_r,Ye=E.company_id||"no-company";return le&&re&&(Sr==="all"||Ye===Sr)}),[d,tn,_r,Sr]),[At,Au]=u.useState(""),[Cr,Ou]=u.useState("all"),ti=u.useMemo(()=>m.filter(E=>{const H=At.trim().toLowerCase(),le=!H||E.title.toLowerCase().includes(H)||E.message.toLowerCase().includes(H),re=Cr==="all"||Cr==="read"&&E.is_read||Cr==="unread"&&!E.is_read;return le&&re}),[m,At,Cr]),xa=u.useRef(null),Kr=u.useRef(null),ni=u.useRef(null),_n=m.filter(E=>!E.is_read).length,Vl=async E=>{J(!0);try{const H=await as.getMessages(E);H.data&&Ce(H.data)}catch(H){console.error("Error fetching clarification messages:",H)}J(!1)},Du=async()=>{je(!0);try{const E=await Sa.getForClient();E.data&&Array.isArray(E.data)&&we(E.data.map(H=>({id:H.id,title:H.title,message:H.message,sent_at:H.sent_at||H.created_at,created_at:H.created_at,sender_type:H.sender_type==="accountant"?"accountant":"firm",sender_name:H.sender_name||null,firm_name:H.firm_name||null,accountant_name:H.accountant_name||null})))}catch(E){console.error("Error fetching reminders:",E)}je(!1)};u.useEffect(()=>(t&&(ri(),vo(),Du(),ni.current=setInterval(()=>{vo()},3e4)),()=>{ni.current&&clearInterval(ni.current)}),[t]);const ri=async()=>{if(t)try{const E=await Zi.getOwn();if(E.data&&E.data.length>0){const H=E.data[0];j({id:H.id,assigned_accountant_id:H.assigned_accountant_id,firm_id:H.firm_id}),e(H.firm_id??null);const le=await xu.getByClient(H.id);le.data&&(x(le.data),le.data.length>0&&!v&&y(le.data[0].id));const re=await Xi.getOwn();re.data&&f(re.data)}}catch(E){console.error("Error fetching client data:",E)}},vo=async()=>{if(t)try{const E=await gn.get();E.data&&p(E.data)}catch(E){console.error("Error fetching notifications:",E)}},Hl=(E,H,le)=>{const re=atob(E),Ye=new Array(re.length);for(let dn=0;dn<re.length;dn++)Ye[dn]=re.charCodeAt(dn);const Ie=new Uint8Array(Ye),jt=new Blob([Ie],{type:le});return new File([jt],H,{type:le})},yo=async()=>{try{const E=await l();if(E!=null&&E.base64String){const H=`photo_${Date.now()}.${E.format||"jpeg"}`,le=`image/${E.format||"jpeg"}`,re=Hl(E.base64String,H,le);S(Ye=>[...Ye,re]),k(Ye=>[...Ye,`data:${le};base64,${E.base64String}`]),s({title:"Photo captured",description:"Ready to upload"})}}catch(E){E.message!=="User cancelled photos app"&&s({title:"Camera error",description:E.message,variant:"destructive"})}},kr=async()=>{try{const E=await c();if(E!=null&&E.base64String){const H=`image_${Date.now()}.${E.format||"jpeg"}`,le=`image/${E.format||"jpeg"}`,re=Hl(E.base64String,H,le);S(Ye=>[...Ye,re]),k(Ye=>[...Ye,`data:${le};base64,${E.base64String}`])}}catch(E){E.message!=="User cancelled photos app"&&s({title:"Gallery error",description:E.message,variant:"destructive"})}},Yl=()=>{var E;o?yo():(E=Kr.current)==null||E.click()},Ee=()=>{var E;o?kr():(E=xa.current)==null||E.click()},Qe=E=>{const H=Array.from(E.target.files||[]);Er(H)},tt=E=>{const H=Array.from(E.target.files||[]);if(console.log("[ClientDashboard] Response files selected:",H.length,H),console.log("[ClientDashboard] Input target:",E.target.id,E.target),H.length===0){console.log("[ClientDashboard] No files selected");return}Sn(H),E.target&&(E.target.value="")},Sn=E=>{const H=E.filter(le=>{const re=le.type.startsWith("image/")||le.type==="application/pdf";return re||s({title:"Invalid file",description:`${le.name} - only images and PDFs allowed`,variant:"destructive"}),re});H.length!==0&&(ne(le=>[...le,...H]),z(le=>[...le,...H.map(()=>"")]))},Cn=E=>{ne(H=>H.filter((le,re)=>re!==E)),z(H=>H.filter((le,re)=>re!==E))},Er=E=>{const H=E.filter(le=>{const re=le.type.startsWith("image/")||le.type==="application/pdf";return re||s({title:"Invalid file",description:`${le.name} - only images and PDFs allowed`,variant:"destructive"}),re});S(le=>[...le,...H]),H.forEach(le=>{if(le.type.startsWith("image/")){const re=new FileReader;re.onload=Ye=>k(Ie=>{var jt;return[...Ie,(jt=Ye.target)==null?void 0:jt.result]}),re.readAsDataURL(le)}else k(re=>[...re,"pdf"])})},Qr=E=>{S(H=>H.filter((le,re)=>re!==E)),k(H=>H.filter((le,re)=>re!==E))},kn=async()=>{var E,H;if(!h||N.length===0){s({title:"Error",description:h?"No files selected.":"Client information not found. Please refresh.",variant:"destructive"});return}if(g.length>0&&!v){s({title:"Error",description:"Please select a company before uploading.",variant:"destructive"});return}_(!0);try{for(const le of N){const re=await Nf(le,h.id,v);if(re.error)throw new Error(re.error);if(h.assigned_accountant_id){const Ye=((E=g.find(Ie=>Ie.id===v))==null?void 0:E.company_name)||"No Company";await gn.create({user_id:h.assigned_accountant_id,title:"New Document Uploaded",message:`A client uploaded "${le.name}" for ${Ye}`,document_id:(H=re.data)==null?void 0:H.document_id})}}s({title:"Uploaded!",description:`${N.length} document(s) sent for review`}),b(!1),S([]),k([]),ri()}catch(le){console.error("Upload error:",le),s({title:"Upload failed",description:le.message,variant:"destructive"})}finally{_(!1)}},rr=async(E=!1)=>{var H,le;if(!O||!(h!=null&&h.assigned_accountant_id)){s({title:"Error",description:"Missing document or accountant information",variant:"destructive"});return}if(E&&X.length===0){s({title:"Error",description:"Please select a file to replace the document",variant:"destructive"});return}if(!E&&!F.trim()){s({title:"Error",description:"Please enter a response message",variant:"destructive"});return}oe(!0);try{if(E&&X.length>0){const re=X[0],Ye=await Nf(re,h.id,O.company_id||void 0);if(Ye.error)throw new Error(`Failed to upload ${re.name}: ${Ye.error}`);const Ie=(H=Ye.data)==null?void 0:H.document_id;if(!Ie)throw new Error("Failed to get new document ID");const jt=await Xi.replace(O.id,Ie);if(jt.error)throw new Error(jt.error);F.trim()&&await as.sendMessage({document_id:Ie,message:`[Re-uploaded document] ${F}`,recipient_role:"accountant",is_reply:!0}),s({title:"Document replaced",description:"New document uploaded and clarification history transferred"}),U(!1)}else{const re=[];if(X.length>0)for(const jt of X){const dn=await Nf(jt,h.id,O.company_id||void 0);if(dn.error)throw new Error(`Failed to upload ${jt.name}: ${dn.error}`);(le=dn.data)!=null&&le.document_id&&re.push(dn.data.document_id)}const Ye=re.length>0?` (${re.length} additional file${re.length>1?"s":""} attached)`:"",Ie=await as.sendMessage({document_id:O.id,message:F+Ye,recipient_role:"accountant",is_reply:!0});if(Ie.error)throw new Error(Ie.error);s({title:"Response sent",description:`Your response${re.length>0?" and files":""} have been sent to your accountant`}),await Vl(O.id)}D(""),ne([]),z([]),ri()}catch(re){console.error("Response error:",re),s({title:"Error",description:re.message||"Failed to send response",variant:"destructive"})}finally{oe(!1)}},i_=async E=>{await gn.markRead(E),p(H=>H.map(le=>le.id===E?{...le,is_read:!0}:le))},Fu=E=>({pending:{icon:pn,label:"Pending",color:"text-amber-500",bg:"bg-amber-500/10"},posted:{icon:Io,label:"Posted",color:"text-emerald-500",bg:"bg-emerald-500/10"},clarification_needed:{icon:Ic,label:"Clarification",color:"text-red-500",bg:"bg-red-500/10"},resend_requested:{icon:qi,label:"Resend",color:"text-blue-500",bg:"bg-blue-500/10"}})[E],hx=E=>E?/^https?:\/\//i.test(E)?E:`${Ut.replace(/\/api\/?$/,"")}/${E.replace(/^\//,"")}`:"",o_=E=>{const H=hx(E.file_path);H&&window.open(H,"_blank")},l_=E=>{const H=hx(E.file_path);if(!H)return;const le=document.createElement("a");le.href=H,le.download=E.file_name,le.target="_blank",document.body.appendChild(le),le.click(),document.body.removeChild(le)},Iu={pending:d.filter(E=>E.status==="pending").length,posted:d.filter(E=>E.status==="posted").length,action:d.filter(E=>["clarification_needed","resend_requested"].includes(E.status)).length},px=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-card rounded-lg p-4 text-center border border-border/50",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-500/10 mx-auto flex items-center justify-center",children:r.jsx(pn,{className:"w-6 h-6 text-amber-500"})}),r.jsx("p",{className:"text-2xl font-bold mt-2",children:Iu.pending}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]}),r.jsxs("div",{className:"bg-card rounded-lg p-4 text-center border border-border/50",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/10 mx-auto flex items-center justify-center",children:r.jsx(Io,{className:"w-6 h-6 text-emerald-500"})}),r.jsx("p",{className:"text-2xl font-bold mt-2",children:Iu.posted}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Posted"})]}),r.jsxs("div",{className:"bg-card rounded-lg p-4 text-center border border-border/50",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/10 mx-auto flex items-center justify-center",children:r.jsx(Ic,{className:"w-6 h-6 text-red-500"})}),r.jsx("p",{className:"text-2xl font-bold mt-2",children:Iu.action}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Action"})]})]}),r.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border/50",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Upload Documents"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("button",{onClick:()=>{b(!0),setTimeout(Yl,150)},className:"flex flex-col items-center p-5 bg-secondary/30 rounded-xl border-2 border-dashed border-muted hover:border-primary transition-all",children:[r.jsx("div",{className:"w-14 h-14 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(gf,{className:"w-7 h-7 text-primary"})}),r.jsx("span",{className:"text-sm font-medium mt-3",children:"Camera"})]}),r.jsxs("button",{onClick:()=>{b(!0),setTimeout(Ee,150)},className:"flex flex-col items-center p-5 bg-secondary/30 rounded-xl border-2 border-dashed border-muted hover:border-primary transition-all",children:[r.jsx("div",{className:"w-14 h-14 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(hc,{className:"w-7 h-7 text-primary"})}),r.jsx("span",{className:"text-sm font-medium mt-3",children:"Gallery"})]}),r.jsxs("button",{onClick:()=>b(!0),className:"flex flex-col items-center p-5 bg-secondary/30 rounded-xl border-2 border-dashed border-muted hover:border-primary transition-all",children:[r.jsx("div",{className:"w-14 h-14 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(X2,{className:"w-7 h-7 text-primary"})}),r.jsx("span",{className:"text-sm font-medium mt-3",children:"Files"})]})]})]})]}),c_=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Documents"}),r.jsxs("p",{className:"text-muted-foreground",children:[ke.length," of ",d.length," documents"]})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-foreground",children:ke.length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"})]})}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-amber-500",children:ke.filter(E=>E.status==="pending").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-emerald-500",children:ke.filter(E=>E.status==="posted").length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Posted"})]})}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-red-500",children:ke.filter(E=>["clarification_needed","resend_requested"].includes(E.status)).length}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Action"})]})})]}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(xe,{placeholder:"Search by file name or company...",value:tn,onChange:E=>Bn(E.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Tn,{className:"w-4 h-4 text-muted-foreground shrink-0"}),r.jsxs(Ue,{value:_r,onValueChange:Wn,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Status"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Status"}),r.jsx(Q,{value:"pending",children:"Pending"}),r.jsx(Q,{value:"posted",children:"Posted"}),r.jsx(Q,{value:"clarification_needed",children:"Clarification"}),r.jsx(Q,{value:"resend_requested",children:"Resend"})]})]}),r.jsxs(Ue,{value:Sr,onValueChange:Wl,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Company"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Companies"}),Vt.map(E=>r.jsx(Q,{value:E.id,children:E.name},E.id))]})]})]})]})})}),r.jsx(se,{className:"shadow-md border-border/50",children:r.jsx(ae,{className:"p-0",children:ke.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(gt,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:d.length===0?"No documents uploaded":"No documents match your filters"})]}):r.jsx(Dt,{className:"h-[500px]",children:r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"File Name"}),r.jsx(q,{children:"Company"}),r.jsx(q,{children:"Date"}),r.jsx(q,{children:"Status"}),r.jsx(q,{className:"text-right",children:"Actions"})]})}),r.jsx(Jt,{children:ke.map(E=>{var re;const H=Fu(E.status),le=H.icon;return r.jsxs(Xe,{children:[r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:(re=E.file_type)!=null&&re.includes("pdf")?r.jsx(Eo,{className:"w-4 h-4 text-primary"}):r.jsx(hc,{className:"w-4 h-4 text-primary"})}),r.jsx("p",{className:"font-medium text-foreground truncate max-w-[200px]",children:E.file_name})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(nt,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate max-w-[140px]",children:E.company_name||""})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(ms,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:new Date(E.uploaded_at).toLocaleDateString()})]})}),r.jsx(G,{children:E.status==="clarification_needed"||E.status==="resend_requested"?r.jsxs(rt,{variant:"outline",className:`${H.bg} cursor-pointer hover:opacity-80 transition-opacity border-0`,onClick:()=>A("clarifications"),title:"View clarifications",children:[r.jsx(le,{className:"w-3 h-3 mr-1"}),H.label]}):r.jsxs(rt,{variant:"outline",className:`${H.bg} border-0`,children:[r.jsx(le,{className:"w-3 h-3 mr-1"}),H.label]})}),r.jsx(G,{className:"text-right",children:r.jsxs("div",{className:"flex gap-1 justify-end",children:[r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>o_(E),title:"Preview",children:r.jsx(Wa,{className:"w-4 h-4"})}),r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>l_(E),title:"Download",children:r.jsx(hs,{className:"w-4 h-4"})}),(E.status==="clarification_needed"||E.status==="resend_requested")&&r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>A("clarifications"),title:"View clarification",children:r.jsx(xd,{className:"w-4 h-4"})})]})})]},E.id)})})]})})})})]}),d_=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Reminders"}),r.jsxs("p",{className:"text-muted-foreground",children:[vt.length," of ",ie.length," reminder",ie.length!==1?"s":""," received"]})]}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(xe,{placeholder:"Search reminders...",value:Ke,onChange:E=>L(E.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Tn,{className:"w-4 h-4 text-muted-foreground shrink-0"}),r.jsxs(Ue,{value:Ne,onValueChange:Le,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"From"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All"}),r.jsx(Q,{value:"firm",children:"From Firm"}),r.jsx(Q,{value:"accountant",children:"From Accountant"})]})]})]})]})})}),r.jsx(se,{className:"shadow-md border-border/50",children:r.jsx(ae,{className:"p-0",children:V?r.jsx("div",{className:"flex items-center justify-center py-16",children:r.jsx(Me,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):vt.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(pn,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:ie.length===0?"No reminders yet":"No reminders match your filters"})]}):r.jsx(Dt,{className:"h-[500px]",children:r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"Title"}),r.jsx(q,{children:"Message"}),r.jsx(q,{children:"From"}),r.jsx(q,{children:"Firm"}),r.jsx(q,{children:"Accountant"}),r.jsx(q,{children:"Date"})]})}),r.jsx(Jt,{children:vt.map(E=>r.jsxs(Xe,{children:[r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(pn,{className:"w-4 h-4 text-primary"})}),r.jsx("p",{className:"font-medium text-foreground truncate max-w-[160px]",children:E.title})]})}),r.jsx(G,{children:r.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",title:E.message,children:E.message})}),r.jsx(G,{children:r.jsxs("span",{className:"text-sm capitalize",children:[E.sender_type==="accountant"?"Accountant":"Firm",E.sender_type==="accountant"&&E.sender_name?` (${E.sender_name})`:E.firm_name?` (${E.firm_name})`:""]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(nt,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate max-w-[120px]",children:E.firm_name||""})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(Dn,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate max-w-[120px]",children:E.accountant_name??E.sender_name??""})]})}),r.jsx(G,{children:r.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(E.sent_at).toLocaleString()})})]},E.id))})]})})})})]}),u_=E=>{i_(E.id);const H=(E.title+" "+E.message).toLowerCase();H.includes("clarification")||H.includes("resend")?A("clarifications"):H.includes("reminder")?A("reminders"):A("home")},f_=()=>{const[E,H]=u.useState(!1),le=async()=>{if(_n!==0){H(!0);try{await gn.markAllRead(),p(re=>re.map(Ye=>({...Ye,is_read:!0}))),s({title:"Success",description:"All notifications marked as read"})}catch{s({title:"Error",description:"Failed to mark all as read",variant:"destructive"})}H(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Notifications"}),r.jsxs("p",{className:"text-muted-foreground",children:[ti.length," of ",m.length,"  ",_n," unread"]})]}),_n>0&&r.jsxs(Y,{variant:"outline",size:"sm",onClick:le,disabled:E,children:[E?r.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Io,{className:"w-4 h-4 mr-2"}),"Mark all as read"]})]}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(xe,{placeholder:"Search notifications...",value:At,onChange:re=>Au(re.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Tn,{className:"w-4 h-4 text-muted-foreground shrink-0"}),r.jsxs(Ue,{value:Cr,onValueChange:Ou,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Status"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All"}),r.jsx(Q,{value:"unread",children:"Unread"}),r.jsx(Q,{value:"read",children:"Read"})]})]})]})]})})}),r.jsx(se,{className:"shadow-md border-border/50",children:r.jsx(ae,{className:"p-0",children:ti.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(gr,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:m.length===0?"No notifications":"No notifications match your filters"})]}):r.jsx(Dt,{className:"h-[500px]",children:r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"Title"}),r.jsx(q,{children:"Message"}),r.jsx(q,{children:"Date"}),r.jsx(q,{children:"Status"})]})}),r.jsx(Jt,{children:ti.map(re=>r.jsxs(Xe,{className:`cursor-pointer hover:bg-primary/10 transition-colors ${re.is_read?"":"bg-primary/5"}`,onClick:()=>u_(re),children:[r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(gr,{className:"w-4 h-4 text-primary"})}),r.jsx("p",{className:"font-medium text-foreground truncate max-w-[200px]",children:re.title})]})}),r.jsx(G,{children:r.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[280px]",title:re.message,children:re.message})}),r.jsx(G,{children:r.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(re.created_at).toLocaleString()})}),r.jsx(G,{children:re.is_read?r.jsx(rt,{variant:"outline",className:"bg-muted/50 text-muted-foreground border-0",children:"Read"}):r.jsx(rt,{variant:"outline",className:"bg-primary/10 text-primary border-0",children:"Unread"})})]},re.id))})]})})})})]})},m_=()=>{const[E,H]=u.useState(null),[le,re]=u.useState(!0);u.useEffect(()=>{(async()=>{if(!(h!=null&&h.assigned_accountant_id)){H(null),re(!1);return}re(!0);try{const jt=await Qm.get(h.assigned_accountant_id);if(jt.data&&typeof jt.data=="object"&&"email"in jt.data){const dn=jt.data;H({full_name:dn.full_name??null,email:dn.email??""})}else H(null)}catch{H(null)}re(!1)})()},[h==null?void 0:h.assigned_accountant_id]);const Ye=Ie=>Ie.accountant_full_name||Ie.accountant_email||Ie.assigned_accountant_id&&(Ie.accountant_full_name!==void 0||Ie.accountant_email!==void 0)?Ie.accountant_full_name||Ie.accountant_email||"":E?E.full_name||E.email:"";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Companies"}),r.jsx("p",{className:"text-muted-foreground",children:"Your companies and assigned accountant for each"})]}),r.jsxs("div",{className:"bg-card rounded-lg border border-border/50",children:[r.jsxs("div",{className:"p-4 border-b border-border/50",children:[r.jsx("h3",{className:"font-semibold",children:"Your companies"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Companies added to your account. Each company may have its own assigned accountant."})]}),r.jsx("div",{className:"p-4",children:g.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(nt,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No companies yet"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your firm will add companies to organize your documents."})]}):r.jsx("div",{className:"space-y-3",children:g.map(Ie=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border/50 bg-secondary/20 hover:bg-secondary/30 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:r.jsx(nt,{className:"w-5 h-5 text-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Ie.company_name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Added ",new Date(Ie.created_at).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:"Assigned accountant"}),le&&!Ie.accountant_full_name&&!Ie.accountant_email?r.jsxs("span",{className:"text-sm flex items-center gap-1 justify-end",children:[r.jsx(Me,{className:"w-3 h-3 animate-spin"})," "]}):r.jsx("p",{className:"text-sm font-medium",children:Ye(Ie)})]})]},Ie.id))})})]})]})},h_=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Profile"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings"})]}),r.jsx(TN,{}),r.jsx("div",{className:"bg-card rounded-lg p-6 border border-border/50",children:r.jsxs(Y,{variant:"destructive",className:"w-full",onClick:n,children:[r.jsx(pd,{className:"w-4 h-4 mr-2"}),"Sign Out"]})})]}),p_=()=>{const[E,H]=u.useState([]),[le,re]=u.useState(!0),[Ye,Ie]=u.useState(""),[jt,dn]=u.useState("all"),[ql,g_]=u.useState("all");u.useEffect(()=>{(async()=>{re(!0);try{const un=await as.getDocuments();un.data&&H(un.data)}catch(un){console.error("Error fetching clarification documents:",un)}re(!1)})()},[]);const v_=u.useMemo(()=>{const Ze=new Set,un=[];return E.forEach(Vn=>{const Pr=Vn.company_id||"no-company",$u=Vn.company_name&&Vn.company_name.trim()||"No Company";Ze.has(Pr)||(Ze.add(Pr),un.push({id:Pr,name:$u}))}),un.sort((Vn,Pr)=>Vn.id==="no-company"?1:Pr.id==="no-company"?-1:Vn.name.localeCompare(Pr.name))},[E]),Lu=u.useMemo(()=>E.filter(Ze=>{const un=Ye.trim().toLowerCase(),Vn=!un||(Ze.file_name||"").toLowerCase().includes(un)||(Ze.company_name||"").toLowerCase().includes(un)||(Ze.notes||"").toLowerCase().includes(un),Pr=jt==="all"||Ze.status===jt,$u=Ze.company_id||"no-company";return Vn&&Pr&&(ql==="all"||$u===ql)}),[E,Ye,jt,ql]),y_=async Ze=>{R(Ze),Ce([]),U(!0),await Vl(Ze.id)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Clarifications"}),r.jsxs("p",{className:"text-muted-foreground",children:[Lu.length," of ",E.length," document",E.length!==1?"s":""," need your attention"]})]}),r.jsx(se,{className:"shadow-sm border-border/50",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(xe,{placeholder:"Search by file name, company or notes...",value:Ye,onChange:Ze=>Ie(Ze.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Tn,{className:"w-4 h-4 text-muted-foreground shrink-0"}),r.jsxs(Ue,{value:jt,onValueChange:dn,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Status"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All"}),r.jsx(Q,{value:"clarification_needed",children:"Clarification"}),r.jsx(Q,{value:"resend_requested",children:"Resend"})]})]}),r.jsxs(Ue,{value:ql,onValueChange:g_,children:[r.jsx($e,{className:"w-full sm:w-[180px]",children:r.jsx(Be,{placeholder:"Company"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Companies"}),v_.map(Ze=>r.jsx(Q,{value:Ze.id,children:Ze.name},Ze.id))]})]})]})]})})}),r.jsx(se,{className:"shadow-md border-border/50",children:r.jsx(ae,{className:"p-0",children:le?r.jsx("div",{className:"flex items-center justify-center py-16",children:r.jsx(Me,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):Lu.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(Io,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:E.length===0?"No clarifications needed":"No documents match your filters"}),r.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:E.length===0?"All your documents are up to date":"Try adjusting your search or filters"})]}):r.jsx(Dt,{className:"h-[500px]",children:r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"File Name"}),r.jsx(q,{children:"Company"}),r.jsx(q,{children:"Clarification Notes"}),r.jsx(q,{children:"Last Message"}),r.jsx(q,{children:"Status"}),r.jsx(q,{className:"text-right",children:"Actions"})]})}),r.jsx(Jt,{children:Lu.map(Ze=>{const un=Ze.status,Vn=Fu(un)||{icon:Ic,label:"Clarification",color:"text-amber-500",bg:"bg-amber-500/10"},Pr=Vn.icon;return r.jsxs(Xe,{children:[r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(gt,{className:"w-4 h-4 text-primary"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium text-foreground truncate max-w-[180px]",children:Ze.file_name}),Ze.unread_count>0&&r.jsxs(rt,{variant:"destructive",className:"mt-1 text-xs",children:[Ze.unread_count," new"]})]})]})}),r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[r.jsx(nt,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate max-w-[120px]",children:Ze.company_name||""})]})}),r.jsx(G,{children:r.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",title:Ze.notes||"",children:Ze.notes||""})}),r.jsx(G,{children:r.jsx("span",{className:"text-sm text-muted-foreground",children:Ze.last_message_at?new Date(Ze.last_message_at).toLocaleString():new Date(Ze.uploaded_at).toLocaleString()})}),r.jsx(G,{children:r.jsxs(rt,{variant:"outline",className:`${Vn.bg} border-0`,children:[r.jsx(Pr,{className:"w-3 h-3 mr-1"}),Vn.label]})}),r.jsx(G,{className:"text-right",children:r.jsxs(Y,{size:"sm",onClick:()=>y_(Ze),children:[r.jsx(xd,{className:"w-4 h-4 mr-2"}),"View & Reply"]})})]},Ze.id)})})]})})})})]})},x_=()=>{switch(P){case"home":return r.jsx(px,{});case"companies":return r.jsx(m_,{});case"documents":return r.jsx(c_,{});case"reminders":return r.jsx(d_,{});case"notifications":return r.jsx(f_,{});case"clarifications":return r.jsx(p_,{});case"profile":return r.jsx(h_,{});default:return r.jsx(px,{})}};return r.jsxs("div",{className:"min-h-screen bg-background flex",children:[$&&r.jsx("div",{className:"fixed inset-0 bg-foreground/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>M(!1)}),r.jsx("aside",{className:ye("fixed inset-y-0 left-0 z-50 w-64 bg-sidebar h-screen overflow-y-hidden transform transition-transform duration-300 ease-in-out lg:translate-x-0",$?"translate-x-0":"-translate-x-full"),children:r.jsxs("div",{className:"h-full flex flex-col min-h-0",children:[r.jsxs("div",{className:"flex-shrink-0 p-6 flex items-center justify-between border-b border-sidebar-border",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-sidebar-primary flex items-center justify-center",children:r.jsx(Eo,{className:"w-5 h-5 text-sidebar-primary-foreground"})}),r.jsx("span",{className:"text-xl font-bold text-sidebar-foreground",children:i})]}),r.jsx("button",{className:"lg:hidden text-sidebar-foreground",onClick:()=>M(!1),children:r.jsx(Da,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"flex-1 min-h-0",children:r.jsxs("nav",{className:"h-full overflow-y-auto p-4 space-y-1",children:[p3.map(E=>{const H=P===E.tab;return r.jsxs("button",{onClick:()=>{A(E.tab),M(!1)},className:ye("w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 relative border-b border-sidebar-border/30 last:border-b-0",H?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"),children:[r.jsx(E.icon,{className:"w-5 h-5"}),r.jsxs("span",{className:"font-medium",children:[E.label,E.isNotification&&_n>0&&r.jsx("div",{className:"absolute -top-1 -right-3 min-w-[18px] h-[18px] bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-lg border-2 border-white dark:border-gray-900",children:r.jsx("span",{className:"text-[10px] text-white font-extrabold leading-none px-0.5",children:_n>99?"99+":_n})})]})]},E.tab)}),r.jsx("div",{className:"pt-4 border-t border-sidebar-border/50",children:r.jsxs("button",{onClick:()=>b(!0),className:ye("w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200","bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),children:[r.jsx(Dg,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:"Upload Documents"})]})})]})}),r.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-sidebar-border bg-sidebar",children:[r.jsxs("div",{className:"flex items-center gap-3 px-2 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-sidebar-primary flex items-center justify-center",children:r.jsx("span",{className:"text-sidebar-primary-foreground font-medium",children:(xx=t==null?void 0:t.email)==null?void 0:xx.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:t==null?void 0:t.email}),r.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"Client"})]})]}),r.jsxs(Y,{variant:"ghost",className:"w-full justify-start text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/50",onClick:n,children:[r.jsx(pd,{className:"w-5 h-5 mr-3"}),"Sign Out"]})]})]})}),r.jsxs("div",{className:"flex-1 flex flex-col min-h-screen lg:ml-64",children:[r.jsxs("header",{className:"h-16 border-b border-border bg-card flex items-center justify-between px-4 lg:px-8",children:[r.jsx("button",{className:"lg:hidden text-foreground",onClick:()=>M(!0),children:r.jsx(pp,{className:"w-6 h-6"})}),r.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"Client Dashboard"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(rb,{onNewNotification:E=>{s({title:E.title,description:E.message})},onNotificationClick:E=>{const H=(E.title+" "+E.message).toLowerCase();H.includes("clarification")||H.includes("resend")?A("clarifications"):H.includes("reminder")?A("reminders"):A("home")}})})]}),r.jsx("main",{className:"flex-1 p-4 lg:p-8 overflow-auto",children:x_()})]}),r.jsx(Mt,{open:w,onOpenChange:E=>{b(E),E||(S([]),k([]),g.length>0?y(g[0].id):y(null))},children:r.jsxs(St,{className:"max-w-md",children:[r.jsx(Ct,{children:r.jsx(kt,{children:"Upload Documents"})}),r.jsxs("div",{className:"space-y-4 mt-4",children:[g.length>0?r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{children:"Select Company *"}),r.jsxs(Ue,{value:v||"",onValueChange:y,children:[r.jsx($e,{children:r.jsx(Be,{placeholder:"Select a company"})}),r.jsx(ze,{children:g.map(E=>r.jsx(Q,{value:E.id,children:E.company_name},E.id))})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Select which company this document belongs to"})]}):r.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border/50",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"No companies have been added yet. Your firm will add companies for you to organize your documents."})}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("button",{onClick:Yl,className:"flex flex-col items-center gap-2 p-4 rounded-xl border-2 border-dashed hover:border-primary transition-all",children:[r.jsx(gf,{className:"w-7 h-7 text-primary"}),r.jsx("span",{className:"text-xs font-medium",children:"Camera"})]}),r.jsxs("button",{onClick:Ee,className:"flex flex-col items-center gap-2 p-4 rounded-xl border-2 border-dashed hover:border-primary transition-all",children:[r.jsx(hc,{className:"w-7 h-7 text-primary"}),r.jsx("span",{className:"text-xs font-medium",children:"Gallery"})]}),r.jsxs("button",{onClick:()=>{var E;return(E=xa.current)==null?void 0:E.click()},className:"flex flex-col items-center gap-2 p-4 rounded-xl border-2 border-dashed hover:border-primary transition-all",children:[r.jsx(Eo,{className:"w-7 h-7 text-primary"}),r.jsx("span",{className:"text-xs font-medium",children:"Files"})]})]}),r.jsx("input",{ref:xa,type:"file",accept:"image/*,application/pdf",multiple:!0,className:"hidden",onChange:Qe}),r.jsx("input",{ref:Kr,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:Qe}),N.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm font-medium",children:[N.length," file(s) selected"]}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:C.map((E,H)=>r.jsxs("div",{className:"relative",children:[E==="pdf"?r.jsx("div",{className:"aspect-square rounded-lg bg-muted flex items-center justify-center",children:r.jsx(Eo,{className:"w-6 h-6 text-muted-foreground"})}):r.jsx("img",{src:E,alt:"",className:"aspect-square object-cover rounded-lg"}),r.jsx("button",{onClick:()=>Qr(H),className:"absolute -top-1.5 -right-1.5 w-5 h-5 bg-destructive text-destructive-foreground rounded-full flex items-center justify-center",children:r.jsx(Da,{className:"w-3 h-3"})})]},H))})]}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsx(Y,{variant:"outline",className:"flex-1",onClick:()=>{b(!1),S([]),k([]),g.length>0?y(g[0].id):y(null)},children:"Cancel"}),r.jsx(Y,{className:"flex-1",onClick:kn,disabled:N.length===0||T||g.length>0&&!v,title:g.length>0&&!v?"Please select a company first":"",children:T?r.jsxs(r.Fragment,{children:[r.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"})," Uploading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Dg,{className:"w-4 h-4 mr-2"})," Upload"]})})]})]})]})}),r.jsx(Mt,{open:K,onOpenChange:E=>{U(E),E||(R(null),D(""),ne([]),z([]),Ce([]))},children:r.jsxs(St,{className:"max-w-2xl max-h-[85vh]",children:[r.jsx(Ct,{children:r.jsxs(kt,{className:"flex items-center gap-2",children:[r.jsx(Lr,{className:"w-5 h-5"}),"Clarification Conversation"]})}),r.jsxs("div",{className:"space-y-4 mt-4",children:[O&&r.jsxs("div",{className:"p-3 bg-secondary/30 rounded-lg",children:[r.jsxs("p",{className:"text-sm font-medium",children:["Document: ",O.file_name]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Status: ",Fu(O.status).label,O.company_name&&`  Company: ${O.company_name}`]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ce,{className:"flex items-center gap-2",children:[r.jsx(Lr,{className:"w-4 h-4"}),"Conversation History"]}),r.jsx(Dt,{className:"h-[250px] border rounded-lg p-3 bg-muted/20",children:I?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(Me,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):W.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[r.jsx(Lr,{className:"w-8 h-8 mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No messages yet"})]}):r.jsx("div",{className:"space-y-3",children:W.map(E=>r.jsxs("div",{className:`p-3 rounded-lg ${E.sender_role==="client"?"bg-primary/10 ml-8":"bg-secondary mr-8"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("span",{className:"text-xs font-medium",children:[E.sender_role==="client"?"You":E.sender_name||"Accountant",r.jsxs("span",{className:"text-muted-foreground ml-2 capitalize",children:["(",E.sender_role,")"]})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(E.created_at).toLocaleString()})]}),r.jsx("p",{className:"text-sm",children:E.message})]},E.id))})})]}),r.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:r.jsx("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:"Your reply will be sent only to your assigned accountant."})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ce,{children:"Your Reply (optional if re-uploading)"}),r.jsx(is,{placeholder:"Type your response to the accountant...",value:F,onChange:E=>D(E.target.value),rows:3})]}),r.jsxs("div",{className:"space-y-2 p-3 border border-dashed border-accent/50 rounded-lg bg-accent/5",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ce,{className:"text-sm font-medium",children:"Re-upload Document"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Replace the original document. Clarification history will be preserved."})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Y,{type:"button",variant:"outline",size:"sm",onClick:()=>{const E=document.getElementById("response-camera-input");E&&E.click()},children:[r.jsx(gf,{className:"w-4 h-4 mr-1"}),"Camera"]}),r.jsxs(Y,{type:"button",variant:"outline",size:"sm",onClick:()=>{const E=document.getElementById("response-gallery-input");E&&E.click()},children:[r.jsx(hc,{className:"w-4 h-4 mr-1"}),"Select File"]})]})]}),X.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:X.map((E,H)=>r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-secondary/30 rounded-lg text-sm",children:[r.jsx(Eo,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"truncate max-w-[150px]",children:E.name}),r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>Cn(H),className:"h-6 w-6 p-0 text-destructive hover:text-destructive",children:r.jsx(Da,{className:"w-3 h-3"})})]},H))})]}),r.jsx("input",{id:"response-camera-input",type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:tt}),r.jsx("input",{id:"response-gallery-input",type:"file",accept:"image/*,application/pdf",className:"hidden",onChange:tt}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Y,{variant:"outline",className:"flex-1",onClick:()=>{U(!1),R(null),D(""),ne([]),z([]),Ce([])},children:"Close"}),X.length>0?r.jsx(Y,{className:"flex-1 bg-accent hover:bg-accent/90",onClick:()=>rr(!0),disabled:ue,children:ue?r.jsxs(r.Fragment,{children:[r.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}),"Replacing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qi,{className:"w-4 h-4 mr-2"}),"Re-upload & Replace"]})}):r.jsx(Y,{className:"flex-1",onClick:()=>rr(!1),disabled:!F.trim()||ue,children:ue?r.jsxs(r.Fragment,{children:[r.jsx(Me,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Send Reply"]})})]})]})]})})]})}function g3(){const[e,t]=u.useState(null),[n,s]=u.useState(!0);return u.useEffect(()=>{let a=!1;return(async()=>{try{const i=await Zi.getOwn();if(a)return;i.data&&i.data.length>0&&i.data[0].firm_id&&t(i.data[0].firm_id)}catch{a||t(null)}finally{a||s(!1)}})(),()=>{a=!0}},[]),n?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r.jsx(Dr,{firmId:e||void 0,children:r.jsx(x3,{onFirmId:t})})}function ny(){const{user:e,userRole:t,loading:n}=er(),s=Nn(),i=Ya.isNativePlatform()?"/auth?app=client":"/auth",[o,l]=u.useState(!0);if(u.useEffect(()=>{!n&&!e&&s(i,{replace:!0})},[e,n,s,i]),u.useEffect(()=>{if(!n&&e){l(!0);const c=setTimeout(()=>l(!1),2e3);return()=>clearTimeout(c)}l(!1)},[n,e]),u.useEffect(()=>{t&&l(!1)},[t]),u.useEffect(()=>{!n&&e&&!o&&!t&&s(i,{replace:!0})},[n,e,o,t,s,i]),n)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx(Me,{className:"w-10 h-10 animate-spin text-accent mx-auto"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})});if(!e)return null;if(o&&!t)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx(Me,{className:"w-10 h-10 animate-spin text-accent mx-auto"}),r.jsx("p",{className:"text-muted-foreground",children:"Setting up your account..."})]})});switch(t){case"super_admin":return s("/admin",{replace:!0}),null;case"firm":return r.jsx(UD,{});case"accountant":return r.jsx(f3,{});case"client":return r.jsx(g3,{});default:return null}}const v3=[{icon:hp,label:"Overview",href:"/admin"},{icon:Ba,label:"Firms",href:"/admin/firms"},{icon:Fn,label:"Users",href:"/admin/users"},{icon:rj,label:"Usage & Billing",href:"/admin/usage"},{icon:gp,label:"Platform Settings",href:"/admin/settings"}];function y3({children:e}){const{user:t,signOut:n}=er(),s=Jn(),[a,i]=u.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-background flex",children:[a&&r.jsx("div",{className:"fixed inset-0 bg-foreground/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>i(!1)}),r.jsx("aside",{className:ye("fixed inset-y-0 left-0 z-50 w-64 bg-gray-900 h-screen overflow-y-hidden transform transition-transform duration-300 ease-in-out lg:translate-x-0",a?"translate-x-0":"-translate-x-full"),children:r.jsxs("div",{className:"h-full flex flex-col min-h-0",children:[r.jsxs("div",{className:"flex-shrink-0 p-6 flex items-center justify-between border-b border-gray-700",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-600 flex items-center justify-center",children:r.jsx(vp,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-lg font-bold text-white",children:"DocqFlow"}),r.jsx("span",{className:"text-xs text-red-400 block -mt-1",children:"Super Admin"})]})]}),r.jsx("button",{className:"lg:hidden text-gray-300",onClick:()=>i(!1),children:r.jsx(Da,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"flex-1 min-h-0",children:r.jsx("nav",{className:"h-full overflow-y-auto p-4 space-y-1",children:v3.map(o=>{const l=s.pathname===o.href||o.href!=="/admin"&&s.pathname.startsWith(o.href);return r.jsxs(xt,{to:o.href,onClick:()=>i(!1),className:ye("flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200",l?"bg-red-600/20 text-red-400":"text-gray-400 hover:bg-gray-800 hover:text-gray-200"),children:[r.jsx(o.icon,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:o.label})]},o.href)})})}),r.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-gray-700",children:[r.jsxs("div",{className:"flex items-center gap-3 px-2 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-red-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-medium text-sm",children:"SA"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-200 truncate",children:t==null?void 0:t.email}),r.jsx("p",{className:"text-xs text-red-400",children:"Super Admin"})]})]}),r.jsxs(Y,{variant:"ghost",className:"w-full justify-start text-gray-400 hover:text-gray-200 hover:bg-gray-800",onClick:n,children:[r.jsx(pd,{className:"w-5 h-5 mr-3"}),"Sign Out"]})]})]})}),r.jsxs("div",{className:"flex-1 flex flex-col min-h-screen lg:ml-64",children:[r.jsxs("header",{className:"h-16 border-b border-border bg-card flex items-center justify-between px-4 lg:px-8",children:[r.jsx("button",{className:"lg:hidden text-foreground",onClick:()=>i(!0),children:r.jsx(pp,{className:"w-6 h-6"})}),r.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"Super Admin Panel"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium",children:"ADMIN"})})]}),r.jsx("main",{className:"flex-1 p-4 lg:p-8 overflow-auto",children:e})]})]})}function w3(){const[e,t]=u.useState(null),[n,s]=u.useState(!0);u.useEffect(()=>{a()},[]);const a=async()=>{var o;s(!0);try{const l=await Qt.getDashboard();(o=l.data)!=null&&o.data?t(l.data.data):l.data&&t(l.data)}catch(l){console.error("Failed to load admin dashboard:",l)}s(!1)};if(n)return r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx(Me,{className:"w-8 h-8 animate-spin text-muted-foreground"})});if(!e)return r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-muted-foreground",children:"Failed to load dashboard data. Make sure the admin API is accessible."})});const i=o=>o<1024?o+" B":o<1048576?(o/1024).toFixed(1)+" KB":o<1073741824?(o/1048576).toFixed(1)+" MB":(o/1073741824).toFixed(2)+" GB";return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Platform Overview"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Real-time platform statistics and health metrics"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(se,{className:"border-l-4 border-l-blue-500",children:r.jsx(ae,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Firms"}),r.jsx("p",{className:"text-3xl font-bold",children:e.firms.total}),r.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["+",e.firms.new_this_month," this month"]})]}),r.jsx(Ba,{className:"w-10 h-10 text-blue-500 opacity-80"})]})})}),r.jsx(se,{className:"border-l-4 border-l-purple-500",children:r.jsx(ae,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),r.jsx("p",{className:"text-3xl font-bold",children:e.users.total}),r.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["+",e.users.new_this_month," this month"]})]}),r.jsx(Fn,{className:"w-10 h-10 text-purple-500 opacity-80"})]})})}),r.jsx(se,{className:"border-l-4 border-l-amber-500",children:r.jsx(ae,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Documents"}),r.jsx("p",{className:"text-3xl font-bold",children:e.documents.total}),r.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["+",e.documents.this_month," this month"]})]}),r.jsx(gt,{className:"w-10 h-10 text-amber-500 opacity-80"})]})})}),r.jsx(se,{className:"border-l-4 border-l-emerald-500",children:r.jsx(ae,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Storage Used"}),r.jsx("p",{className:"text-3xl font-bold",children:i(e.storage.total_bytes)}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.sessions.active," active sessions"]})]}),r.jsx(lj,{className:"w-10 h-10 text-emerald-500 opacity-80"})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs(se,{children:[r.jsx(Ft,{children:r.jsxs(It,{className:"text-lg flex items-center gap-2",children:[r.jsx(yp,{className:"w-5 h-5"}),"Users by Role"]})}),r.jsx(ae,{children:r.jsx("div",{className:"space-y-3",children:Object.entries(e.users.by_role).map(([o,l])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${o==="super_admin"?"bg-red-500":o==="firm"?"bg-blue-500":o==="accountant"?"bg-purple-500":"bg-green-500"}`}),r.jsx("span",{className:"capitalize text-sm",children:o.replace("_"," ")})]}),r.jsx("span",{className:"font-semibold",children:l})]},o))})})]}),r.jsxs(se,{children:[r.jsx(Ft,{children:r.jsxs(It,{className:"text-lg flex items-center gap-2",children:[r.jsx(hd,{className:"w-5 h-5"}),"Firms by Plan"]})}),r.jsx(ae,{children:r.jsx("div",{className:"space-y-3",children:Object.entries(e.firms.by_plan).map(([o,l])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"capitalize text-sm",children:o}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-24 h-2 bg-muted rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${e.firms.total>0?l/e.firms.total*100:0}%`}})}),r.jsx("span",{className:"font-semibold text-sm w-8 text-right",children:l})]})]},o))})})]}),r.jsxs(se,{children:[r.jsx(Ft,{children:r.jsxs(It,{className:"text-lg flex items-center gap-2",children:[r.jsx(H2,{className:"w-5 h-5"}),"Documents by Status"]})}),r.jsx(ae,{children:r.jsx("div",{className:"space-y-3",children:Object.entries(e.documents.by_status).map(([o,l])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${o==="posted"?"bg-emerald-500":o==="pending"?"bg-amber-500":o==="clarification_needed"?"bg-red-500":"bg-blue-500"}`}),r.jsx("span",{className:"capitalize text-sm",children:o.replace("_"," ")})]}),r.jsx("span",{className:"font-semibold",children:l})]},o))})})]})]}),r.jsxs(se,{children:[r.jsx(Ft,{children:r.jsxs(It,{className:"text-lg flex items-center gap-2",children:[r.jsx(su,{className:"w-5 h-5"}),"Top Firms by Clients"]})}),r.jsx(ae,{children:e.top_firms.length===0?r.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No firms yet"}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-2 font-medium text-muted-foreground",children:"Firm"}),r.jsx("th",{className:"text-center py-3 px-2 font-medium text-muted-foreground",children:"Plan"}),r.jsx("th",{className:"text-center py-3 px-2 font-medium text-muted-foreground",children:"Status"}),r.jsx("th",{className:"text-right py-3 px-2 font-medium text-muted-foreground",children:"Clients"}),r.jsx("th",{className:"text-right py-3 px-2 font-medium text-muted-foreground",children:"Accountants"}),r.jsx("th",{className:"text-right py-3 px-2 font-medium text-muted-foreground",children:"Documents"}),r.jsx("th",{className:"text-right py-3 px-2 font-medium text-muted-foreground",children:"Storage"})]})}),r.jsx("tbody",{children:e.top_firms.map(o=>r.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/50",children:[r.jsx("td",{className:"py-3 px-2 font-medium",children:o.name}),r.jsx("td",{className:"py-3 px-2 text-center",children:r.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-primary/10 text-primary capitalize",children:o.plan||"free"})}),r.jsx("td",{className:"py-3 px-2 text-center",children:r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${o.status==="active"?"bg-green-100 text-green-700":o.status==="suspended"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:o.status})}),r.jsx("td",{className:"py-3 px-2 text-right",children:o.client_count}),r.jsx("td",{className:"py-3 px-2 text-right",children:o.accountant_count}),r.jsx("td",{className:"py-3 px-2 text-right",children:o.document_count}),r.jsx("td",{className:"py-3 px-2 text-right",children:i(o.storage_bytes||0)})]},o.id))})]})})})]})]})}function j3(){const{toast:e}=Et(),[t,n]=u.useState([]),[s,a]=u.useState(!0),[i,o]=u.useState(""),[l,c]=u.useState("all"),[d,f]=u.useState("all"),[m,p]=u.useState(null),[h,j]=u.useState(!1),[g,x]=u.useState(""),[v,y]=u.useState(""),[w,b]=u.useState(""),[N,S]=u.useState(""),[C,k]=u.useState(""),[T,_]=u.useState(!1),[P,A]=u.useState([]);u.useEffect(()=>{$(),M()},[]);const $=async()=>{var D;a(!0);try{const X=await Qt.firms.list({search:i||void 0,status:l!=="all"?l:void 0,plan:d!=="all"?d:void 0}),ne=((D=X.data)==null?void 0:D.data)??X.data??[];n(Array.isArray(ne)?ne:[])}catch(X){console.error("Failed to load firms:",X)}a(!1)},M=async()=>{var D;try{const X=await Qt.plans.list(),ne=((D=X.data)==null?void 0:D.data)??X.data??[];A(Array.isArray(ne)?ne:[])}catch{}};u.useEffect(()=>{const D=setTimeout($,300);return()=>clearTimeout(D)},[i,l,d]);const K=D=>{p(D),x(D.plan||"free"),y(D.notes||""),b(D.max_clients!==null?String(D.max_clients):""),S(D.max_accountants!==null?String(D.max_accountants):""),k(D.max_documents_per_month!==null?String(D.max_documents_per_month):""),j(!0)},U=async()=>{if(m){_(!0);try{await Qt.firms.update(m.id,{plan:g,notes:v||null,max_clients:w?parseInt(w):null,max_accountants:N?parseInt(N):null,max_documents_per_month:C?parseInt(C):null}),e({title:"Firm updated"}),j(!1),$()}catch{e({title:"Error",description:"Failed to update firm",variant:"destructive"})}_(!1)}},O=async D=>{const X=D.status==="suspended"?"active":"suspended";if(window.confirm(X==="suspended"?`Suspend "${D.name}"? They will lose access.`:`Reactivate "${D.name}"?`))try{await Qt.firms.update(D.id,{status:X}),e({title:`Firm ${X==="suspended"?"suspended":"reactivated"}`}),$()}catch{e({title:"Error",description:"Failed to update status",variant:"destructive"})}},R=async D=>{if(window.confirm(`DELETE "${D.name}" and ALL associated data (clients, documents, etc.)? This cannot be undone.`))try{await Qt.firms.delete(D.id),e({title:"Firm deleted"}),$()}catch{e({title:"Error",description:"Failed to delete firm",variant:"destructive"})}},F=D=>D?D<1048576?(D/1024).toFixed(1)+" KB":D<1073741824?(D/1048576).toFixed(1)+" MB":(D/1073741824).toFixed(2)+" GB":"0 B";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Firms Management"}),r.jsxs("p",{className:"text-muted-foreground",children:[t.length," firm",t.length!==1?"s":""," registered"]})]}),r.jsx(se,{children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(xe,{placeholder:"Search firms or owners...",value:i,onChange:D=>o(D.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tn,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs(Ue,{value:l,onValueChange:c,children:[r.jsx($e,{className:"w-[140px]",children:r.jsx(Be,{placeholder:"Status"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Status"}),r.jsx(Q,{value:"active",children:"Active"}),r.jsx(Q,{value:"suspended",children:"Suspended"})]})]}),r.jsxs(Ue,{value:d,onValueChange:f,children:[r.jsx($e,{className:"w-[140px]",children:r.jsx(Be,{placeholder:"Plan"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Plans"}),P.map(D=>r.jsx(Q,{value:D.slug,children:D.name},D.slug))]})]})]})]})})}),r.jsx(se,{children:r.jsx(ae,{className:"p-0",children:s?r.jsx("div",{className:"flex items-center justify-center py-16",children:r.jsx(Me,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):t.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(Ba,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No firms found"})]}):r.jsx(Dt,{className:"h-[600px]",children:r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"Firm"}),r.jsx(q,{children:"Owner"}),r.jsx(q,{children:"Plan"}),r.jsx(q,{children:"Status"}),r.jsx(q,{className:"text-right",children:"Clients"}),r.jsx(q,{className:"text-right",children:"Docs"}),r.jsx(q,{className:"text-right",children:"Storage"}),r.jsx(q,{children:"Created"}),r.jsx(q,{className:"text-right",children:"Actions"})]})}),r.jsx(Jt,{children:t.map(D=>r.jsxs(Xe,{children:[r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ba,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:D.name})]})}),r.jsx(G,{children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:D.owner_name||""}),r.jsx("p",{className:"text-xs text-muted-foreground",children:D.owner_email})]})}),r.jsx(G,{children:r.jsx(rt,{variant:"outline",className:"capitalize",children:D.plan||"free"})}),r.jsx(G,{children:r.jsx(rt,{className:D.status==="active"?"bg-green-100 text-green-700 hover:bg-green-100":D.status==="suspended"?"bg-red-100 text-red-700 hover:bg-red-100":"bg-yellow-100 text-yellow-700 hover:bg-yellow-100",children:D.status})}),r.jsx(G,{className:"text-right",children:D.clients_count}),r.jsx(G,{className:"text-right",children:D.documents_count}),r.jsx(G,{className:"text-right",children:F(D.storage_bytes)}),r.jsx(G,{className:"text-sm text-muted-foreground",children:new Date(D.created_at).toLocaleDateString()}),r.jsx(G,{className:"text-right",children:r.jsxs("div",{className:"flex gap-1 justify-end",children:[r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>K(D),title:"Edit",children:r.jsx(xp,{className:"w-4 h-4"})}),r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>O(D),title:D.status==="suspended"?"Reactivate":"Suspend",children:D.status==="suspended"?r.jsx(bt,{className:"w-4 h-4 text-green-600"}):r.jsx(Y2,{className:"w-4 h-4 text-amber-600"})}),r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>R(D),title:"Delete",children:r.jsx(ru,{className:"w-4 h-4 text-red-600"})})]})})]},D.id))})]})})})}),r.jsx(Mt,{open:h,onOpenChange:j,children:r.jsxs(St,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsxs(kt,{children:["Edit Firm: ",m==null?void 0:m.name]})}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{children:[r.jsx(ce,{children:"Plan"}),r.jsxs(Ue,{value:g,onValueChange:x,children:[r.jsx($e,{children:r.jsx(Be,{})}),r.jsx(ze,{children:P.map(D=>r.jsxs(Q,{value:D.slug,children:[D.name,"  $",D.base_price,"/mo"]},D.slug))})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx(ce,{children:"Max Clients"}),r.jsx(xe,{type:"number",value:w,onChange:D=>b(D.target.value),placeholder:"Unlimited"})]}),r.jsxs("div",{children:[r.jsx(ce,{children:"Max Accountants"}),r.jsx(xe,{type:"number",value:N,onChange:D=>S(D.target.value),placeholder:"Unlimited"})]}),r.jsxs("div",{children:[r.jsx(ce,{children:"Max Docs/Month"}),r.jsx(xe,{type:"number",value:C,onChange:D=>k(D.target.value),placeholder:"Unlimited"})]})]}),r.jsxs("div",{children:[r.jsx(ce,{children:"Admin Notes"}),r.jsx(is,{value:v,onChange:D=>y(D.target.value),placeholder:"Internal notes...",rows:3})]}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsx(Y,{variant:"outline",className:"flex-1",onClick:()=>j(!1),children:"Cancel"}),r.jsxs(Y,{className:"flex-1",onClick:U,disabled:T,children:[T?r.jsx(Me,{className:"w-4 h-4 animate-spin mr-2"}):null,"Save Changes"]})]})]})]})})]})}function b3(){const{toast:e}=Et(),[t,n]=u.useState([]),[s,a]=u.useState(!0),[i,o]=u.useState(""),[l,c]=u.useState("all"),[d,f]=u.useState(null),[m,p]=u.useState(!1),[h,j]=u.useState(""),[g,x]=u.useState(""),[v,y]=u.useState(""),[w,b]=u.useState(""),[N,S]=u.useState(!1),[C,k]=u.useState({total:0,page:1,total_pages:0});u.useEffect(()=>{T()},[]);const T=async(M=1)=>{a(!0);try{const U=(await Qt.users.list({search:i||void 0,role:l!=="all"?l:void 0,page:M,per_page:50})).data,O=(U==null?void 0:U.data)??U??[];n(Array.isArray(O)?O:[]),U!=null&&U.pagination&&k(U.pagination)}catch(K){console.error("Failed to load users:",K)}a(!1)};u.useEffect(()=>{const M=setTimeout(()=>T(1),300);return()=>clearTimeout(M)},[i,l]);const _=M=>{f(M),j(M.full_name||""),x(M.email),y(M.phone||""),b(""),p(!0)},P=async()=>{if(d){S(!0);try{const M={full_name:h,email:g,phone:v||null};w.trim()&&(M.new_password=w),await Qt.users.update(d.id,M),e({title:"User updated"}),p(!1),T()}catch{e({title:"Error",description:"Failed to update user",variant:"destructive"})}S(!1)}},A=async M=>{if(M.role==="super_admin"){e({title:"Cannot delete Super Admin",variant:"destructive"});return}if(window.confirm(`Delete user "${M.email}"? This will remove all their data.`))try{await Qt.users.delete(M.id),e({title:"User deleted"}),T()}catch{e({title:"Error",description:"Failed to delete user",variant:"destructive"})}},$=M=>{switch(M){case"super_admin":return"bg-red-100 text-red-700";case"firm":return"bg-blue-100 text-blue-700";case"accountant":return"bg-purple-100 text-purple-700";case"client":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Users Management"}),r.jsxs("p",{className:"text-muted-foreground",children:[C.total||t.length," user",(C.total||t.length)!==1?"s":""," registered"]})]}),r.jsx(se,{children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(xe,{placeholder:"Search users...",value:i,onChange:M=>o(M.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tn,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs(Ue,{value:l,onValueChange:c,children:[r.jsx($e,{className:"w-[160px]",children:r.jsx(Be,{placeholder:"Role"})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"all",children:"All Roles"}),r.jsx(Q,{value:"super_admin",children:"Super Admin"}),r.jsx(Q,{value:"firm",children:"Firm Owner"}),r.jsx(Q,{value:"accountant",children:"Accountant"}),r.jsx(Q,{value:"client",children:"Client"})]})]})]})]})})}),r.jsx(se,{children:r.jsx(ae,{className:"p-0",children:s?r.jsx("div",{className:"flex items-center justify-center py-16",children:r.jsx(Me,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):t.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(Fn,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No users found"})]}):r.jsx(Dt,{className:"h-[600px]",children:r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"User"}),r.jsx(q,{children:"Role"}),r.jsx(q,{children:"Firm"}),r.jsx(q,{children:"Joined"}),r.jsx(q,{className:"text-right",children:"Actions"})]})}),r.jsx(Jt,{children:t.map(M=>{var K;return r.jsxs(Xe,{children:[r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:M.role==="super_admin"?r.jsx(vp,{className:"w-4 h-4 text-red-500"}):r.jsx(Q2,{className:"w-4 h-4 text-muted-foreground"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:M.full_name||"No name"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:M.email})]})]})}),r.jsx(G,{children:r.jsx(rt,{className:`${$(M.role)} capitalize hover:opacity-90`,children:((K=M.role)==null?void 0:K.replace("_"," "))||"unknown"})}),r.jsx(G,{children:M.firm_name?r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(Ba,{className:"w-3.5 h-3.5 text-muted-foreground"}),r.jsx("span",{className:"text-sm",children:M.firm_name})]}):r.jsx("span",{className:"text-sm text-muted-foreground",children:""})}),r.jsx(G,{className:"text-sm text-muted-foreground",children:new Date(M.created_at).toLocaleDateString()}),r.jsx(G,{className:"text-right",children:r.jsxs("div",{className:"flex gap-1 justify-end",children:[r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>_(M),title:"Edit",children:r.jsx(xp,{className:"w-4 h-4"})}),M.role!=="super_admin"&&r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>A(M),title:"Delete",children:r.jsx(ru,{className:"w-4 h-4 text-red-600"})})]})})]},M.id)})})]})})})}),r.jsx(Mt,{open:m,onOpenChange:p,children:r.jsxs(St,{className:"max-w-lg",children:[r.jsx(Ct,{children:r.jsx(kt,{children:"Edit User"})}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{children:[r.jsx(ce,{children:"Full Name"}),r.jsx(xe,{value:h,onChange:M=>j(M.target.value)})]}),r.jsxs("div",{children:[r.jsx(ce,{children:"Email"}),r.jsx(xe,{type:"email",value:g,onChange:M=>x(M.target.value)})]}),r.jsxs("div",{children:[r.jsx(ce,{children:"Phone"}),r.jsx(xe,{value:v,onChange:M=>y(M.target.value)})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs(ce,{className:"flex items-center gap-2",children:[r.jsx(ek,{className:"w-4 h-4"}),"Reset Password"]}),r.jsx(xe,{type:"password",value:w,onChange:M=>b(M.target.value),placeholder:"Leave blank to keep current",className:"mt-2"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Setting a new password will invalidate all active sessions."})]}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsx(Y,{variant:"outline",className:"flex-1",onClick:()=>p(!1),children:"Cancel"}),r.jsxs(Y,{className:"flex-1",onClick:P,disabled:N,children:[N?r.jsx(Me,{className:"w-4 h-4 animate-spin mr-2"}):null,"Save Changes"]})]})]})]})})]})}var Mu="Switch",[N3,G3]=Xn(Mu),[_3,S3]=N3(Mu),XN=u.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...m}=e,[p,h]=u.useState(null),j=Oe(t,w=>h(w)),g=u.useRef(!1),x=p?f||!!p.closest("form"):!0,[v,y]=ta({prop:a,defaultProp:i??!1,onChange:d,caller:Mu});return r.jsxs(_3,{scope:n,checked:v,disabled:l,children:[r.jsx(_e.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":n_(v),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:j,onClick:me(e.onClick,w=>{y(b=>!b),x&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),x&&r.jsx(t_,{control:p,bubbles:!g.current,name:s,value:c,checked:v,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});XN.displayName=Mu;var JN="SwitchThumb",e_=u.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=S3(JN,n);return r.jsx(_e.span,{"data-state":n_(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});e_.displayName=JN;var C3="SwitchBubbleInput",t_=u.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...a},i)=>{const o=u.useRef(null),l=Oe(o,i),c=Jp(n),d=Ep(t);return u.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&h){const j=new Event("click",{bubbles:s});h.call(f,n),f.dispatchEvent(j)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});t_.displayName=C3;function n_(e){return e?"checked":"unchecked"}var r_=XN,k3=e_;const Bc=u.forwardRef(({className:e,...t},n)=>r.jsx(r_,{className:ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:r.jsx(k3,{className:ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Bc.displayName=r_.displayName;var E3="Separator",ry="horizontal",P3=["horizontal","vertical"],s_=u.forwardRef((e,t)=>{const{decorative:n,orientation:s=ry,...a}=e,i=R3(s)?s:ry,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(_e.div,{"data-orientation":i,...l,...a,ref:t})});s_.displayName=E3;function R3(e){return P3.includes(e)}var a_=s_;const Wc=u.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},a)=>r.jsx(a_,{ref:a,decorative:n,orientation:t,className:ye("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Wc.displayName=a_.displayName;function T3(){const{toast:e}=Et(),[t,n]=u.useState({}),[s,a]=u.useState([]),[i,o]=u.useState(!0),[l,c]=u.useState(!0),[d,f]=u.useState(!1),[m,p]=u.useState(!1),[h,j]=u.useState(null),[g,x]=u.useState({name:"",slug:"",description:"",max_clients:"",max_accountants:"",max_documents_per_month:"",max_storage_mb:"",price_per_client:"0",price_per_document:"0",base_price:"0",billing_cycle:"monthly",is_active:!0,sort_order:"0"}),[v,y]=u.useState(!1);u.useEffect(()=>{w(),b()},[]);const w=async()=>{var _;o(!0);try{const P=await Qt.settings.get(),A=((_=P.data)==null?void 0:_.data)??P.data??[],$={};Array.isArray(A)&&A.forEach(M=>{$[M.setting_key]=M.setting_value}),n($)}catch{}o(!1)},b=async()=>{var _;c(!0);try{const P=await Qt.plans.list(),A=((_=P.data)==null?void 0:_.data)??P.data??[];a(Array.isArray(A)?A:[])}catch{}c(!1)},N=(_,P)=>{n(A=>({...A,[_]:P}))},S=async()=>{f(!0);try{await Qt.settings.update(t),e({title:"Settings saved"})}catch{e({title:"Error",description:"Failed to save settings",variant:"destructive"})}f(!1)},C=_=>{_?(j(_),x({name:_.name,slug:_.slug,description:_.description||"",max_clients:_.max_clients!==null?String(_.max_clients):"",max_accountants:_.max_accountants!==null?String(_.max_accountants):"",max_documents_per_month:_.max_documents_per_month!==null?String(_.max_documents_per_month):"",max_storage_mb:_.max_storage_mb!==null?String(_.max_storage_mb):"",price_per_client:String(_.price_per_client),price_per_document:String(_.price_per_document),base_price:String(_.base_price),billing_cycle:_.billing_cycle,is_active:!!_.is_active,sort_order:String(_.sort_order)})):(j(null),x({name:"",slug:"",description:"",max_clients:"",max_accountants:"",max_documents_per_month:"",max_storage_mb:"",price_per_client:"0",price_per_document:"0",base_price:"0",billing_cycle:"monthly",is_active:!0,sort_order:"0"})),p(!0)},k=async()=>{y(!0);try{const _={name:g.name,slug:g.slug,description:g.description||null,max_clients:g.max_clients?parseInt(g.max_clients):null,max_accountants:g.max_accountants?parseInt(g.max_accountants):null,max_documents_per_month:g.max_documents_per_month?parseInt(g.max_documents_per_month):null,max_storage_mb:g.max_storage_mb?parseInt(g.max_storage_mb):null,price_per_client:parseFloat(g.price_per_client)||0,price_per_document:parseFloat(g.price_per_document)||0,base_price:parseFloat(g.base_price)||0,billing_cycle:g.billing_cycle,is_active:g.is_active?1:0,sort_order:parseInt(g.sort_order)||0};h?await Qt.plans.update(h.id,_):await Qt.plans.create(_),e({title:h?"Plan updated":"Plan created"}),p(!1),b()}catch{e({title:"Error",description:"Failed to save plan",variant:"destructive"})}y(!1)},T=async _=>{if(_.firms_count>0){e({title:"Cannot delete",description:`${_.firms_count} firms are using this plan`,variant:"destructive"});return}if(window.confirm(`Delete plan "${_.name}"?`))try{await Qt.plans.delete(_.id),e({title:"Plan deleted"}),b()}catch{e({title:"Error",description:"Failed to delete",variant:"destructive"})}};return r.jsxs("div",{className:"space-y-8 max-w-5xl",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Platform Settings"}),r.jsx("p",{className:"text-muted-foreground",children:"Configure global platform settings and manage subscription plans."})]}),r.jsxs(se,{children:[r.jsx(Ft,{children:r.jsxs(It,{className:"flex items-center gap-2",children:[r.jsx(gp,{className:"w-5 h-5"}),"General Settings"]})}),r.jsx(ae,{className:"space-y-4",children:i?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(Me,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ce,{children:"Platform Name"}),r.jsx(xe,{value:t.platform_name||"",onChange:_=>N("platform_name",_.target.value)})]}),r.jsxs("div",{children:[r.jsx(ce,{children:"Support Email"}),r.jsx(xe,{value:t.support_email||"",onChange:_=>N("support_email",_.target.value)})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(ce,{children:"Platform Description"}),r.jsx(xe,{value:t.platform_description||"",onChange:_=>N("platform_description",_.target.value)})]})]}),r.jsx(Wc,{}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ce,{children:"Default Plan for New Firms"}),r.jsx(xe,{value:t.default_plan||"free",onChange:_=>N("default_plan",_.target.value)})]}),r.jsxs("div",{children:[r.jsx(ce,{children:"Default Theme"}),r.jsx(xe,{value:t.default_theme||"default",onChange:_=>N("default_theme",_.target.value)})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Bc,{checked:t.allow_self_registration==="true",onCheckedChange:_=>N("allow_self_registration",_?"true":"false")}),r.jsx(ce,{children:"Allow Self-Registration"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Bc,{checked:t.require_email_verification==="true",onCheckedChange:_=>N("require_email_verification",_?"true":"false")}),r.jsx(ce,{children:"Require Email Verification"})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsxs(Y,{onClick:S,disabled:d,children:[d?r.jsx(Me,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(uj,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]})})]}),r.jsxs(se,{children:[r.jsxs(Ft,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(It,{className:"flex items-center gap-2",children:[r.jsx(hd,{className:"w-5 h-5"}),"Subscription Plans"]}),r.jsxs(Y,{size:"sm",onClick:()=>C(),children:[r.jsx(dj,{className:"w-4 h-4 mr-2"})," Add Plan"]})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage billing plans. Each firm is charged: Base Price + (Clients x Per-Client) + (Documents x Per-Document)."})]}),r.jsx(ae,{className:"p-0",children:l?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(Me,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"Plan"}),r.jsx(q,{className:"text-right",children:"Base $/mo"}),r.jsx(q,{className:"text-right",children:"$/Client"}),r.jsx(q,{className:"text-right",children:"$/Document"}),r.jsx(q,{className:"text-right",children:"Max Clients"}),r.jsx(q,{className:"text-right",children:"Max Docs/mo"}),r.jsx(q,{className:"text-center",children:"Firms"}),r.jsx(q,{className:"text-center",children:"Active"}),r.jsx(q,{className:"text-right",children:"Actions"})]})}),r.jsx(Jt,{children:s.map(_=>r.jsxs(Xe,{children:[r.jsx(G,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:_.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:_.slug})]})}),r.jsxs(G,{className:"text-right font-mono",children:["$",Number(_.base_price).toFixed(2)]}),r.jsxs(G,{className:"text-right font-mono",children:["$",Number(_.price_per_client).toFixed(2)]}),r.jsxs(G,{className:"text-right font-mono",children:["$",Number(_.price_per_document).toFixed(4)]}),r.jsx(G,{className:"text-right",children:_.max_clients??""}),r.jsx(G,{className:"text-right",children:_.max_documents_per_month??""}),r.jsx(G,{className:"text-center",children:r.jsx(Badge,{variant:"outline",children:_.firms_count})}),r.jsx(G,{className:"text-center",children:_.is_active?r.jsx(Badge,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:"Yes"}):r.jsx(Badge,{className:"bg-gray-100 text-gray-500 hover:bg-gray-100",children:"No"})}),r.jsx(G,{className:"text-right",children:r.jsxs("div",{className:"flex gap-1 justify-end",children:[r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>C(_),children:r.jsx(xp,{className:"w-4 h-4"})}),r.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>T(_),children:r.jsx(ru,{className:"w-4 h-4 text-red-600"})})]})})]},_.id))})]})})]}),r.jsx(Mt,{open:m,onOpenChange:p,children:r.jsxs(St,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Ct,{children:r.jsxs(kt,{className:"flex items-center gap-2",children:[r.jsx(tk,{className:"w-5 h-5"}),h?"Edit Plan":"Create Plan"]})}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ce,{children:"Plan Name *"}),r.jsx(xe,{value:g.name,onChange:_=>x(P=>({...P,name:_.target.value})),placeholder:"e.g. Professional"})]}),r.jsxs("div",{children:[r.jsx(ce,{children:"Slug *"}),r.jsx(xe,{value:g.slug,onChange:_=>x(P=>({...P,slug:_.target.value})),placeholder:"e.g. professional"})]})]}),r.jsxs("div",{children:[r.jsx(ce,{children:"Description"}),r.jsx(is,{value:g.description,onChange:_=>x(P=>({...P,description:_.target.value})),rows:2})]}),r.jsx(Wc,{}),r.jsx("p",{className:"text-sm font-semibold",children:"Pricing"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(ce,{children:"Base Price ($/mo)"}),r.jsx(xe,{type:"number",step:"0.01",value:g.base_price,onChange:_=>x(P=>({...P,base_price:_.target.value}))})]}),r.jsxs("div",{children:[r.jsx(ce,{children:"Per Client ($)"}),r.jsx(xe,{type:"number",step:"0.01",value:g.price_per_client,onChange:_=>x(P=>({...P,price_per_client:_.target.value}))})]}),r.jsxs("div",{children:[r.jsx(ce,{children:"Per Document ($)"}),r.jsx(xe,{type:"number",step:"0.0001",value:g.price_per_document,onChange:_=>x(P=>({...P,price_per_document:_.target.value}))})]})]}),r.jsx(Wc,{}),r.jsx("p",{className:"text-sm font-semibold",children:"Limits (leave blank for unlimited)"}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx(ce,{children:"Max Clients"}),r.jsx(xe,{type:"number",value:g.max_clients,onChange:_=>x(P=>({...P,max_clients:_.target.value})),placeholder:""})]}),r.jsxs("div",{children:[r.jsx(ce,{children:"Max Accountants"}),r.jsx(xe,{type:"number",value:g.max_accountants,onChange:_=>x(P=>({...P,max_accountants:_.target.value})),placeholder:""})]}),r.jsxs("div",{children:[r.jsx(ce,{children:"Max Docs/Month"}),r.jsx(xe,{type:"number",value:g.max_documents_per_month,onChange:_=>x(P=>({...P,max_documents_per_month:_.target.value})),placeholder:""})]}),r.jsxs("div",{children:[r.jsx(ce,{children:"Max Storage (MB)"}),r.jsx(xe,{type:"number",value:g.max_storage_mb,onChange:_=>x(P=>({...P,max_storage_mb:_.target.value})),placeholder:""})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ce,{children:"Sort Order"}),r.jsx(xe,{type:"number",value:g.sort_order,onChange:_=>x(P=>({...P,sort_order:_.target.value}))})]}),r.jsxs("div",{className:"flex items-center gap-3 pt-6",children:[r.jsx(Bc,{checked:g.is_active,onCheckedChange:_=>x(P=>({...P,is_active:_}))}),r.jsx(ce,{children:"Active"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(Y,{variant:"outline",className:"flex-1",onClick:()=>p(!1),children:"Cancel"}),r.jsxs(Y,{className:"flex-1",onClick:k,disabled:v||!g.name||!g.slug,children:[v?r.jsx(Me,{className:"w-4 h-4 animate-spin mr-2"}):null,h?"Update Plan":"Create Plan"]})]})]})]})})]})}function M3(){const[e,t]=u.useState([]),[n,s]=u.useState(null),[a,i]=u.useState(!0),[o,l]=u.useState("current_month"),[c,d]=u.useState("");u.useEffect(()=>{f()},[o]);const f=async()=>{var h;i(!0);try{const j=await Qt.usage.getAll(o),g=((h=j.data)==null?void 0:h.data)??j.data;g&&(t(g.firms||[]),s(g.totals||null))}catch(j){console.error("Failed to load usage:",j)}i(!1)},m=h=>h?h<1048576?(h/1024).toFixed(1)+" KB":h<1073741824?(h/1048576).toFixed(1)+" MB":(h/1073741824).toFixed(2)+" GB":"0 B",p=e.filter(h=>{if(!c.trim())return!0;const j=c.toLowerCase();return h.name.toLowerCase().includes(j)||(h.plan||"").toLowerCase().includes(j)});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Usage & Billing"}),r.jsx("p",{className:"text-muted-foreground",children:"Track portal usage per firm. Billing: base price + per-client + per-document charges."})]}),n&&r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[r.jsx(se,{className:"border-l-4 border-l-blue-500",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Fn,{className:"w-8 h-8 text-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:n.total_clients}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Clients"})]})]})})}),r.jsx(se,{className:"border-l-4 border-l-amber-500",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(gt,{className:"w-8 h-8 text-amber-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:n.total_documents}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Documents"})]})]})})}),r.jsx(se,{className:"border-l-4 border-l-green-500",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(su,{className:"w-8 h-8 text-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:n.documents_this_period}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Docs This Period"})]})]})})}),r.jsx(se,{className:"border-l-4 border-l-purple-500",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(lj,{className:"w-8 h-8 text-purple-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:m(n.total_storage_bytes)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Storage Used"})]})]})})}),r.jsx(se,{className:"border-l-4 border-l-emerald-500",children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(hd,{className:"w-8 h-8 text-emerald-500"}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold",children:["$",n.estimated_revenue.toFixed(2)]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Est. Revenue"})]})]})})})]}),r.jsx(se,{children:r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(xe,{placeholder:"Search firms...",value:c,onChange:h=>d(h.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ms,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs(Ue,{value:o,onValueChange:l,children:[r.jsx($e,{className:"w-[180px]",children:r.jsx(Be,{})}),r.jsxs(ze,{children:[r.jsx(Q,{value:"current_month",children:"Current Month"}),r.jsx(Q,{value:"last_month",children:"Last Month"}),r.jsx(Q,{value:"last_3_months",children:"Last 3 Months"}),r.jsx(Q,{value:"last_year",children:"This Year"})]})]})]})]})})}),r.jsxs(se,{children:[r.jsx(Ft,{children:r.jsxs(It,{className:"flex items-center gap-2",children:[r.jsx(rj,{className:"w-5 h-5"}),"Firm Usage & Estimated Billing"]})}),r.jsx(ae,{className:"p-0",children:a?r.jsx("div",{className:"flex items-center justify-center py-16",children:r.jsx(Me,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):p.length===0?r.jsxs("div",{className:"py-12 text-center",children:[r.jsx(Ba,{className:"w-12 h-12 mx-auto text-muted-foreground/40 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No usage data available"})]}):r.jsx(Dt,{className:"h-[500px]",children:r.jsxs(Zt,{children:[r.jsx(Xt,{children:r.jsxs(Xe,{children:[r.jsx(q,{children:"Firm"}),r.jsx(q,{children:"Plan"}),r.jsx(q,{children:"Status"}),r.jsx(q,{className:"text-right",children:"Clients"}),r.jsx(q,{className:"text-right",children:"Accountants"}),r.jsx(q,{className:"text-right",children:"Total Docs"}),r.jsx(q,{className:"text-right",children:"Period Docs"}),r.jsx(q,{className:"text-right",children:"Storage"}),r.jsx(q,{className:"text-right",children:"Est. Bill"})]})}),r.jsx(Jt,{children:p.map(h=>{var j;return r.jsxs(Xe,{children:[r.jsx(G,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ba,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:h.name})]})}),r.jsx(G,{children:r.jsx(rt,{variant:"outline",className:"capitalize",children:h.plan||"free"})}),r.jsx(G,{children:r.jsx(rt,{className:h.status==="active"?"bg-green-100 text-green-700 hover:bg-green-100":"bg-red-100 text-red-700 hover:bg-red-100",children:h.status})}),r.jsx(G,{className:"text-right font-medium",children:h.clients_count}),r.jsx(G,{className:"text-right",children:h.accountants_count}),r.jsx(G,{className:"text-right",children:h.total_documents}),r.jsx(G,{className:"text-right",children:r.jsx("span",{className:"text-amber-600 font-medium",children:h.documents_this_period})}),r.jsx(G,{className:"text-right",children:m(h.storage_bytes)}),r.jsx(G,{className:"text-right",children:r.jsxs("span",{className:"font-bold text-emerald-600",children:["$",((j=h.estimated_bill)==null?void 0:j.toFixed(2))||"0.00"]})})]},h.id)})})]})})})]}),r.jsxs(se,{children:[r.jsx(Ft,{children:r.jsxs(It,{className:"text-lg flex items-center gap-2",children:[r.jsx(hd,{className:"w-5 h-5"}),"Billing Model"]})}),r.jsx(ae,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[r.jsx("p",{className:"font-semibold mb-1",children:"Base Price"}),r.jsx("p",{className:"text-muted-foreground",children:"Fixed monthly fee per plan tier. Covers basic platform access."})]}),r.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[r.jsx("p",{className:"font-semibold mb-1",children:"Per Client Charge"}),r.jsx("p",{className:"text-muted-foreground",children:"Charged for each active client registered under a firm. Scales with firm growth."})]}),r.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[r.jsx("p",{className:"font-semibold mb-1",children:"Per Document Charge"}),r.jsx("p",{className:"text-muted-foreground",children:"Charged per document uploaded/transferred. Tracks actual document throughput."})]})]})})]})]})}function sy(){const{user:e,userRole:t,loading:n}=er(),s=Nn(),a=Jn();if(u.useEffect(()=>{!n&&!e&&s("/auth",{replace:!0}),!n&&e&&t&&t!=="super_admin"&&s("/dashboard",{replace:!0})},[e,t,n,s]),n)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx(Me,{className:"w-10 h-10 animate-spin text-accent mx-auto"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading admin panel..."})]})});if(!e||t!=="super_admin")return null;const i=a.pathname,o=()=>i==="/admin/firms"?r.jsx(j3,{}):i==="/admin/users"?r.jsx(b3,{}):i==="/admin/usage"?r.jsx(M3,{}):i==="/admin/settings"?r.jsx(T3,{}):r.jsx(w3,{});return r.jsx(y3,{children:o()})}const A3=()=>{const e=Jn();return u.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),r.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),r.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},O3=new _4,D3=()=>{const e=Ya.isNativePlatform();return r.jsx(C4,{client:O3,children:r.jsx(Dr,{children:r.jsx(BR,{children:r.jsxs(e4,{children:[r.jsx(Lk,{}),r.jsx(xE,{}),r.jsx(_R,{children:r.jsxs(xR,{children:[r.jsx(ir,{path:"/",element:e?r.jsx(hR,{to:"/dashboard",replace:!0}):r.jsx(YR,{})}),r.jsx(ir,{path:"/auth",element:r.jsx(_T,{})}),r.jsx(ir,{path:"/forgot-password",element:r.jsx(CT,{})}),r.jsx(ir,{path:"/reset-password",element:r.jsx(ET,{})}),r.jsx(ir,{path:"/invite",element:r.jsx(MT,{})}),r.jsx(ir,{path:"/dashboard",element:r.jsx(ny,{})}),r.jsx(ir,{path:"/dashboard/*",element:r.jsx(ny,{})}),r.jsx(ir,{path:"/admin",element:r.jsx(sy,{})}),r.jsx(ir,{path:"/admin/*",element:r.jsx(sy,{})}),r.jsx(ir,{path:"*",element:r.jsx(A3,{})})]})})]})})})})};kw(document.getElementById("root")).render(r.jsx(D3,{}));
